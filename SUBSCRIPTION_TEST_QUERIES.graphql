// Test subscription functionality in GraphQL Playground
// Visit: http://localhost:14000/graphql

// 1. Test Post Creation Subscription
// Run this in one tab:
subscription {
  postCreated {
    id
    title
    author {
      username
    }
    publishedAt
  }
}

// 2. Create a Post (run in another tab to trigger the subscription)
mutation {
  createPost(input: {
    title: "Test Real-time Post"
    content: "This post should trigger the subscription!"
    excerpt: "Testing real-time notifications"
  }) {
    id
    title
  }
}

// 3. Test Comment Subscription
// Subscribe to comments for a specific post:
subscription {
  newComment(postId: "POST_ID_HERE") {
    id
    content
    author {
      username
    }
    createdAt
  }
}

// 4. Create a Comment (to trigger comment subscription)
mutation {
  createComment(input: {
    content: "This is a test comment for real-time updates!"
    postId: "POST_ID_HERE"
  }) {
    id
    content
  }
}

// Expected Results:
// - The subscription tabs should receive real-time updates
// - No "asyncIterator is not a function" errors
// - Smooth WebSocket communication
