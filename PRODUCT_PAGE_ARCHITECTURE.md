# ğŸ¯ Product Detail Page Architecture

## ğŸ“Š System Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER FLOW                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Browser                          Backend
    â”‚                                    â”‚
    â”‚ 1. Click Link                      â”‚
    â”‚ /product-detail/macbook-pro-m3   â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Router
    â”‚                                    â”‚
    â”‚ 2. Load Page                       â”‚
    â”‚â†â”€â”€â”€â”€â”€â”€ Fetch PageBuilder Config â”€â”€â”¤
    â”‚                                    â”‚
    â”‚ 3. Extract slug                    â”‚
    â”‚    "macbook-pro-m3"               â”‚
    â”‚                                    â”‚
    â”‚ 4. Send GraphQL Query              â”‚
    â”‚ query GetProduct($slug)            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ GraphQL
    â”‚                                    â”‚
    â”‚                                Database
    â”‚                                    â”‚
    â”‚                                SELECT * FROM products
    â”‚                                WHERE slug = ?
    â”‚                                    â”‚
    â”‚ 5. Get Product Data                â”‚
    â”‚â†â”€â”€â”€ { name, price, image } â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                    â”‚
    â”‚ 6. Replace Variables               â”‚
    â”‚    {{productName}} â†’ MacBook      â”‚
    â”‚    {{productPrice}} â†’ 1999        â”‚
    â”‚                                    â”‚
    â”‚ 7. Render HTML                     â”‚
    â”‚    âœ… Page displays!               â”‚
    â”‚                                    â”‚
```

---

## ğŸ—ï¸ Page Block Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRODUCT DETAIL PAGE                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              BLOCK 1: HERO SECTION                 â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚          â”‚        â”‚ Product Name             â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  Image   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚ Description              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚          â”‚        â”‚ Price: $1999             â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚ Original: $2399          â”‚  â”‚   â”‚
â”‚  â”‚                      â”‚ [Add to Cart] [Wishlist] â”‚  â”‚   â”‚
â”‚  â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  Data Source: GraphQL                              â”‚   â”‚
â”‚  â”‚  Query: getProductBySlug($slug)                    â”‚   â”‚
â”‚  â”‚  Variables: {{productName}}, {{productPrice}}      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            BLOCK 2: DETAILS SECTION                â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚   SKU   â”‚  â”‚ Weight  â”‚  â”‚ Availability          â”‚   â”‚
â”‚  â”‚  â”‚ MBP-... â”‚  â”‚ 3.5 lbs â”‚  â”‚ âœ… In Stock           â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  Data Source: GraphQL                              â”‚   â”‚
â”‚  â”‚  Variables: {{productSku}}, {{productWeight}}      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         BLOCK 3: RELATED PRODUCTS                  â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚
â”‚  â”‚  â”‚ Product  â”‚  â”‚ Product  â”‚  â”‚ Product  â”‚  ...    â”‚   â”‚
â”‚  â”‚  â”‚   Image  â”‚  â”‚   Image  â”‚  â”‚   Image  â”‚         â”‚   â”‚
â”‚  â”‚  â”‚ iPhone   â”‚  â”‚ AirPods  â”‚  â”‚ iPad     â”‚         â”‚   â”‚
â”‚  â”‚  â”‚ $1099    â”‚  â”‚ $249     â”‚  â”‚ $599     â”‚         â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚
â”‚  â”‚                                                     â”‚   â”‚
â”‚  â”‚  Data Source: GraphQL Loop ({{#each}})            â”‚   â”‚
â”‚  â”‚  Variables: {{name}}, {{price}}, {{image}}        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      URL PARAMETER                           â”‚
â”‚                  /product-detail/[slug]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  EXTRACT SLUG                                â”‚
â”‚              slug = "macbook-pro-m3"                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  GRAPHQL QUERY                               â”‚
â”‚  query GetProduct($slug: "macbook-pro-m3") {                â”‚
â”‚    getProductBySlug(slug: $slug) {                          â”‚
â”‚      id, name, price, originalPrice,                        â”‚
â”‚      description, sku, weight, images { url }              â”‚
â”‚    }                                                         â”‚
â”‚  }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATABASE QUERY                             â”‚
â”‚  SELECT * FROM products WHERE slug = ?                      â”‚
â”‚  JOIN images ON products.id = images.productId              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATA RESPONSE                              â”‚
â”‚  {                                                           â”‚
â”‚    name: "MacBook Pro M3",                                  â”‚
â”‚    price: 1999,                                             â”‚
â”‚    originalPrice: 2399,                                     â”‚
â”‚    description: "...",                                      â”‚
â”‚    sku: "MBP-M3-2024",                                      â”‚
â”‚    weight: 3.5,                                             â”‚
â”‚    images: [{ url: "https://..." }]                         â”‚
â”‚  }                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              VARIABLE MAPPING                                â”‚
â”‚  productName         â†’  "MacBook Pro M3"                    â”‚
â”‚  productPrice        â†’  1999                                â”‚
â”‚  productOriginalPrice â†’  2399                               â”‚
â”‚  productDescription  â†’  "..."                               â”‚
â”‚  productSku          â†’  "MBP-M3-2024"                       â”‚
â”‚  productWeight       â†’  3.5                                 â”‚
â”‚  productImage        â†’  "https://..."                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              TEMPLATE REPLACEMENT                            â”‚
â”‚  HTML Template:                                             â”‚
â”‚  <h1>{{productName}}</h1>                                   â”‚
â”‚  <p>${{productPrice}}</p>                                   â”‚
â”‚  <img src="{{productImage}}" />                             â”‚
â”‚                          â†“ Replace variables â†“              â”‚
â”‚  <h1>MacBook Pro M3</h1>                                    â”‚
â”‚  <p>$1999</p>                                               â”‚
â”‚  <img src="https://..." />                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                RENDER IN BROWSER                             â”‚
â”‚  âœ… Page displays with all product info!                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Template Processing Flow

```
Raw Template
    â”‚
    â”œâ”€â†’ {{#if condition}} ... {{/if}}       [Process Conditionals]
    â”‚
    â”œâ”€â†’ {{#repeat count}} ... {{/repeat}}   [Process Repeats]
    â”‚
    â”œâ”€â†’ {{#each array}} ... {{/each}}       [Process Loops]
    â”‚   â”œâ”€â†’ For each item in array
    â”‚   â””â”€â†’ Replace item variables
    â”‚
    â”œâ”€â†’ {{simpleVariable}}                   [Process Simple Variables]
    â”‚   â”œâ”€â†’ Replace {{productName}}
    â”‚   â”œâ”€â†’ Replace {{productPrice}}
    â”‚   â””â”€â†’ Replace all remaining vars
    â”‚
    â–¼
Rendered HTML
    â”‚
    â–¼
Browser Display âœ…
```

---

## ğŸ”Œ Component Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PAGE BUILDER (Frontend)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           DynamicBlock Component                   â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  Props:                                             â”‚ â”‚
â”‚  â”‚  - block (PageBlock)                                â”‚ â”‚
â”‚  â”‚  - onUpdate (callback)                              â”‚ â”‚
â”‚  â”‚  - onDelete (callback)                              â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  State:                                             â”‚ â”‚
â”‚  â”‚  - editConfig (DynamicBlockConfig)                  â”‚ â”‚
â”‚  â”‚  - templateEdit (string)                            â”‚ â”‚
â”‚  â”‚  - data (fetched from API/GraphQL)                  â”‚ â”‚
â”‚  â”‚  - isEditing (boolean)                              â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  Methods:                                           â”‚ â”‚
â”‚  â”‚  - processTemplate() - Template processor           â”‚ â”‚
â”‚  â”‚  - renderContent() - Render HTML                    â”‚ â”‚
â”‚  â”‚  - handleSave() - Save config                       â”‚ â”‚
â”‚  â”‚  - fetchData() - Fetch from GraphQL                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â–²                                â”‚
â”‚                          â”‚                                â”‚
â”‚                      onUpdate                             â”‚
â”‚                          â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚       PageActionsContext (State Management)        â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  handleBlockUpdate(blockId, content, config) {     â”‚ â”‚
â”‚  â”‚    mutation UpdatePageBlock {                       â”‚ â”‚
â”‚  â”‚      updatePageBlock(id, input)                     â”‚ â”‚
â”‚  â”‚    }                                                â”‚ â”‚
â”‚  â”‚  }                                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â–²                                â”‚
â”‚                          â”‚                                â”‚
â”‚                    GraphQL Mutation                       â”‚
â”‚                          â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  BACKEND (GraphQL)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         updatePageBlock Resolver                   â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  Receives:                                          â”‚ â”‚
â”‚  â”‚  - id: block ID                                     â”‚ â”‚
â”‚  â”‚  - input: UpdatePageBlockInput                      â”‚ â”‚
â”‚  â”‚    { content, style, config }                       â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  Process:                                           â”‚ â”‚
â”‚  â”‚  - Validate input                                   â”‚ â”‚
â”‚  â”‚  - Update database                                  â”‚ â”‚
â”‚  â”‚  - Return updated block                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚                                â”‚
â”‚                    Prisma Update                          â”‚
â”‚                          â”‚                                â”‚
â”‚                          â–¼                                â”‚
â”‚                    Database (config, content stored)      â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Edit Dialog Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Product Detail Page Configuration                            â•³ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Configurationâ”‚  â”‚ Template     â”‚  â”‚   Live Preview       â”‚ â”‚
â”‚  â”‚ (Left)       â”‚  â”‚ Editor       â”‚  â”‚   (Right)            â”‚ â”‚
â”‚  â”‚              â”‚  â”‚ (Middle)     â”‚  â”‚                      â”‚ â”‚
â”‚  â”‚ â€¢ Data       â”‚  â”‚              â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â”‚
â”‚  â”‚   Source     â”‚  â”‚ <div class=  â”‚  â”‚  â”‚ MacBook Pro M3   â”‚â”‚ â”‚
â”‚  â”‚ â€¢ Type       â”‚  â”‚   "bg-blue"  â”‚  â”‚  â”‚ $1999            â”‚â”‚ â”‚
â”‚  â”‚   â€¢ Static   â”‚  â”‚ >            â”‚  â”‚  â”‚                  â”‚â”‚ â”‚
â”‚  â”‚   â€¢ API      â”‚  â”‚   {{product  â”‚  â”‚  â”‚ [Add to Cart]    â”‚â”‚ â”‚
â”‚  â”‚   â€¢ GraphQL  â”‚  â”‚   Name}}     â”‚  â”‚  â”‚                  â”‚â”‚ â”‚
â”‚  â”‚ â€¢ Query      â”‚  â”‚ </div>       â”‚  â”‚  â”‚ âœ¨ Real-time     â”‚â”‚ â”‚
â”‚  â”‚ â€¢ Variables  â”‚  â”‚              â”‚  â”‚  â”‚    Preview       â”‚â”‚ â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
â”‚  â”‚ â€¢ Repeater   â”‚  â”‚              â”‚  â”‚                      â”‚ â”‚
â”‚  â”‚ â€¢ Limit      â”‚  â”‚              â”‚  â”‚  Using Data:         â”‚ â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚  {                   â”‚ â”‚
â”‚  â”‚ â€¢ Variables  â”‚  â”‚              â”‚  â”‚    name: "MacBook"   â”‚ â”‚
â”‚  â”‚   Mapping    â”‚  â”‚              â”‚  â”‚    price: 1999       â”‚ â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚    ...               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Cancel]                              [Save Changes]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Deployment Flow

```
Local Development
    â”‚
    â”œâ”€â†’ Create Page in PageBuilder âœ…
    â”œâ”€â†’ Edit Blocks (HTML, GraphQL) âœ…
    â”œâ”€â†’ Test URLs âœ…
    â”œâ”€â†’ Verify Save Works âœ…
    â”‚
    â–¼
Git Commit & Push
    â”‚
    â”œâ”€â†’ Database migrations (if needed)
    â”œâ”€â†’ New dependencies (if added)
    â”‚
    â–¼
Production Deploy
    â”‚
    â”œâ”€â†’ Run seed (if first time)
    â”œâ”€â†’ Database sync
    â”œâ”€â†’ Build frontend
    â”œâ”€â†’ Deploy to server
    â”‚
    â–¼
Live Website âœ…
    â”‚
    â”œâ”€â†’ /product-detail/macbook-pro-m3
    â”œâ”€â†’ /product-detail/iphone-15-pro
    â”œâ”€â†’ /product-detail/airpods-pro
```

---

## ğŸ“Š Statistics

```
Demo Setup includes:

Products:       3 (MacBook, iPhone, AirPods)
Images:         3 (1 per product)
Blocks:         3 (Hero, Details, Related)
Variables:      7 (name, price, description, etc)
GraphQL Queries: 2 (GetProduct, GetAllProducts)
Features:       Conditional rendering, Loops, Variables

Lines of Code:
- Seed script:       ~260 lines
- Page blocks:       ~150 lines per block
- Template HTML:     ~50-100 lines per block

Ready-to-use Examples: 10
```

---

This architecture provides a **fully dynamic, editable product detail page** with **real-time preview** and **database integration**! ğŸš€
