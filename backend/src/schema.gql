# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

enum AuthProvider {
  FACEBOOK
  GOOGLE
  LOCAL
  PHONE
}

type AuthResponse {
  accessToken: String!
  refreshToken: String!
  user: User!
}

"""The type of a page block"""
enum BlockType {
  BUTTON
  CARD
  COLUMN
  CONTACT_FORM
  DIVIDER
  FAQ
  GALLERY
  HERO
  IMAGE
  ROW
  SPACER
  TESTIMONIAL
  TEXT
  VIDEO
}

input BulkUpdateBlockOrderInput {
  id: ID!
  order: Int!
}

type Comment {
  content: String!
  createdAt: DateTime!
  id: ID!
  parent: Comment
  parentId: String
  post: Post!
  postId: String!
  replies: [Comment!]!
  updatedAt: DateTime!
  user: User!
  userId: String!
}

input CreateCommentInput {
  content: String!
  parentId: String
  postId: String!
}

input CreatePageBlockInput {
  content: JSONObject!
  isVisible: Boolean! = true
  order: Int! = 0
  style: JSONObject
  type: BlockType!
}

input CreatePageInput {
  blocks: [CreatePageBlockInput!]
  content: JSONObject
  description: String
  ogImage: String
  seoDescription: String
  seoTitle: String
  slug: String!
  status: PageStatus! = DRAFT
  title: String!
}

input CreatePostInput {
  content: String!
  excerpt: String
  featuredImage: String
  slug: String!
  status: PostStatus! = DRAFT
  tags: [String!]
  title: String!
}

input CreateTaskCommentInput {
  content: String!
  parentId: String
  taskId: String!
}

input CreateTaskInput {
  category: TaskCategory!
  description: String
  dueDate: String
  priority: TaskPriority!
  title: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""JSON custom scalar type"""
scalar JSON

"""
The `JSONObject` scalar type represents JSON objects as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSONObject

input LoginUserInput {
  emailOrUsername: String!
  password: String!
  rememberMe: Boolean
}

"""The type of media file"""
enum MediaType {
  DOCUMENT
  IMAGE
  VIDEO
}

type Mutation {
  addPageBlock(input: CreatePageBlockInput!, pageId: String!): PageBlock!
  createComment(input: CreateCommentInput!): Comment!
  createPage(input: CreatePageInput!): Page!
  createPost(input: CreatePostInput!): Post!
  createSubtask(input: CreateTaskInput!, parentId: String!): Task!
  createTask(input: CreateTaskInput!): Task!
  createTaskComment(input: CreateTaskCommentInput!): TaskComment!
  deleteComment(id: String!): Boolean!
  deletePage(id: String!): Page!
  deletePageBlock(id: String!): PageBlock!
  deletePost(id: String!): Boolean!
  deleteTask(id: String!): Boolean!
  deleteUser(id: String!): Boolean!
  duplicatePage(id: String!, slug: String, title: String): Page!
  generatePostSummary(postId: String!): String!
  generateSummary(content: String!, maxLength: Float! = 200): String!
  generateTags(content: String!, maxTags: Float! = 5): [String!]!
  improveContent(content: String!, instruction: String!): String!
  loginUser(input: LoginUserInput!): AuthResponse!
  loginWithFacebook(input: SocialLoginInput!): AuthResponse!
  loginWithGoogle(input: SocialLoginInput!): AuthResponse!
  loginWithPhone(input: PhoneLoginInput!): AuthResponse!
  publishPost(id: String!): Post!
  registerUser(input: RegisterUserInput!): AuthResponse!
  requestPhoneVerification(input: RequestPhoneVerificationInput!): OtpResponse!
  shareTask(input: ShareTaskInput!): TaskShare!
  updateComment(id: String!, input: UpdateCommentInput!): Comment!
  updatePage(id: String!, input: UpdatePageInput!): Page!
  updatePageBlock(id: String!, input: UpdatePageBlockInput!): PageBlock!
  updatePageBlocksOrder(pageId: String!, updates: [BulkUpdateBlockOrderInput!]!): [PageBlock!]!
  updatePost(id: String!, input: UpdatePostInput!): Post!
  updateTask(input: UpdateTaskInput!): Task!
  updateUser(id: String!, input: UpdateUserInput!): User!
}

type OtpResponse {
  message: String!
  success: Boolean!
}

type Page {
  blocks: [PageBlock!]!
  content: JSONObject
  createdAt: DateTime!
  createdBy: String!
  description: String
  id: ID!
  ogImage: String
  publishedAt: DateTime
  seoDescription: String
  seoTitle: String
  slug: String!
  status: PageStatus!
  title: String!
  updatedAt: DateTime!
  updatedBy: String
}

type PageBlock {
  content: JSONObject!
  createdAt: DateTime!
  id: ID!
  isVisible: Boolean!
  order: Int!
  pageId: String!
  style: JSONObject
  type: BlockType!
  updatedAt: DateTime!
}

input PageFiltersInput {
  createdBy: String
  slug: String
  status: PageStatus
  title: String
}

"""The status of a page"""
enum PageStatus {
  ARCHIVED
  DRAFT
  PUBLISHED
}

type PaginatedPages {
  data: [Page!]!
  limit: Int!
  page: Int!
  total: Int!
  totalPages: Int!
}

type PaginatedPosts {
  items: [Post!]!
  meta: PaginationMeta!
}

type PaginationInfo {
  hasNextPage: Boolean!
  hasPrevPage: Boolean!
  limit: Int!
  page: Int!
  total: Int!
  totalPages: Int!
}

input PaginationInput {
  limit: Int! = 10
  page: Int! = 1
  search: String
  sortBy: String
  sortOrder: String
}

type PaginationMeta {
  hasNextPage: Boolean!
  hasPrevPage: Boolean!
  limit: Int!
  page: Int!
  total: Int!
  totalPages: Int!
}

input PhoneLoginInput {
  otp: String!
  phone: String!
  rememberMe: Boolean
}

type Post {
  author: User!
  authorId: String!
  comments: [Comment!]!
  commentsCount: Float!
  content: String!
  createdAt: DateTime!
  excerpt: String
  featuredImage: String
  id: ID!
  likesCount: Float!
  publishedAt: DateTime
  slug: String!
  status: PostStatus!
  tags: [Tag!]
  title: String!
  updatedAt: DateTime!
}

input PostFiltersInput {
  authorId: String
  search: String
  status: PostStatus
  tags: [String!]
}

"""Post status types"""
enum PostStatus {
  ARCHIVED
  DRAFT
  PUBLISHED
}

type Query {
  getCommentById(id: String!): Comment!
  getCommentsByPost(postId: String!): [Comment!]!
  getMe: User!
  getMyPosts: [Post!]!
  getPageById(id: String!): Page!
  getPageBySlug(slug: String!): Page!
  getPages(filters: PageFiltersInput, pagination: PaginationInput! = {limit: 10, page: 1}): PaginatedPages!
  getPostById(id: String!): Post!
  getPostBySlug(slug: String!): Post!
  getPosts(filters: PostFiltersInput, pagination: PaginationInput! = {limit: 10, page: 1}): PaginatedPosts!
  getPublishedPages(pagination: PaginationInput! = {limit: 10, page: 1}): PaginatedPages!
  getSharedTasks(filters: TaskFilterInput): [Task!]!
  getTask(id: String!): Task
  getTaskById(id: ID!): Task!
  getTasks(filters: TaskFilterInput): [Task!]!
  getTasksPaginated(filters: TaskFilterInput, limit: Int! = 10, page: Int! = 1): TasksPaginatedResult!
  getUserById(id: String!): User!
  getUsers: [User!]!

  """Hello world query"""
  hello: String!

  """Get API version"""
  version: String!
}

input RegisterUserInput {
  avatar: String
  email: String
  firstName: String
  lastName: String
  password: String
  phone: String
  username: String!
}

input RequestPhoneVerificationInput {
  phone: String!
}

"""The permission level for shared tasks"""
enum SharePermission {
  ADMIN
  EDIT
  VIEW
}

input ShareTaskInput {
  permission: SharePermission!
  sharedWithId: String!
  taskId: String!
}

input SocialLoginInput {
  avatar: String
  email: String
  firstName: String
  lastName: String
  provider: AuthProvider!
  providerId: String
  rememberMe: Boolean
  token: String!
}

type Subscription {
  newComment(postId: String): Comment!
  postCreated: Post!
  postUpdated: Post!
  taskCommentCreated: TaskComment!
  taskCreated: Task!
  taskUpdated: Task!
  userRegistered: User!
}

type Tag {
  color: String
  createdAt: DateTime!
  description: String
  id: ID!
  name: String!
  posts: [Post!]
  postsCount: Float!
  slug: String!
  updatedAt: DateTime!
}

type Task {
  author: User!
  category: TaskCategory!
  commentAuthor: User!
  commentCount: Float!
  commentParent: TaskComment
  commentReplies: [TaskComment!]!
  comments: [TaskComment!]
  createdAt: DateTime!
  description: String
  dueDate: DateTime
  id: String!
  media: [TaskMedia!]
  mediaCount: Float!
  parent: Task
  parentId: String
  priority: TaskPriority!
  progress: Float
  shares: [TaskShare!]
  status: TaskStatus!
  subtaskCount: Float!
  subtasks: [Task!]
  title: String!
  updatedAt: DateTime!
  userId: String!
}

"""The category of a task"""
enum TaskCategory {
  HEALTH
  OTHER
  PERSONAL
  SHOPPING
  WORK
}

type TaskComment {
  content: String!
  createdAt: DateTime!
  id: String!
  parent: TaskComment
  parentId: String
  replies: [TaskComment!]
  taskId: String!
  updatedAt: DateTime!
  user: User!
  userId: String!
}

input TaskFilterInput {
  category: TaskCategory
  dueAfter: String
  dueBefore: String
  priority: TaskPriority
  search: String
  status: TaskStatus
}

type TaskMedia {
  caption: String
  createdAt: DateTime!
  filename: String!
  id: ID!
  mimeType: String!
  size: Float!
  taskId: String!
  type: MediaType!
  updatedAt: DateTime!
  uploadedBy: String!
  uploader: User!
  url: String!
}

"""The priority level of a task"""
enum TaskPriority {
  HIGH
  LOW
  MEDIUM
  URGENT
}

type TaskShare {
  createdAt: DateTime!
  expiresAt: DateTime
  id: ID!
  isActive: Boolean!
  permission: SharePermission!
  shareToken: String!
  sharedBy: String!
  sharedByUser: User!
  sharedWith: String
  sharedWithUser: User
  taskId: String!
  updatedAt: DateTime!
}

"""The status of a task"""
enum TaskStatus {
  CANCELLED
  COMPLETED
  IN_PROGRESS
  PENDING
}

type TasksPaginatedResult {
  data: [Task!]!
  meta: PaginationInfo!
}

input UpdateCommentInput {
  content: String
}

input UpdatePageBlockInput {
  content: JSONObject
  id: ID
  isVisible: Boolean
  order: Int
  style: JSONObject
  type: BlockType
}

input UpdatePageInput {
  blocks: [UpdatePageBlockInput!]
  content: JSONObject
  description: String
  ogImage: String
  seoDescription: String
  seoTitle: String
  slug: String
  status: PageStatus
  title: String
}

input UpdatePostInput {
  content: String
  excerpt: String
  featuredImage: String
  slug: String
  status: PostStatus
  tags: [String!]
  title: String
}

input UpdateTaskInput {
  category: TaskCategory
  description: String
  dueDate: String
  id: String!
  priority: TaskPriority
  status: TaskStatus
  title: String
}

input UpdateUserInput {
  avatar: String
  email: String
  firstName: String
  lastName: String
  username: String
}

type User {
  avatar: String
  createdAt: DateTime!
  email: String
  failedLoginAttempts: Float!
  firstName: String
  id: ID!
  isActive: Boolean!
  isTwoFactorEnabled: Boolean!
  isVerified: Boolean!
  lastLoginAt: DateTime
  lastName: String
  lockedUntil: DateTime
  phone: String
  role: UserRole!
  roleType: UserRole!
  updatedAt: DateTime!
  username: String!
}

enum UserRole {
  ADMIN
  GUEST
  USER
}