import { PrismaService } from '../../prisma/prisma.service';
import { SupportConversationStatus, IntegrationPlatform, TicketPriority } from '@prisma/client';
export declare class SupportConversationService {
    private prisma;
    constructor(prisma: PrismaService);
    createConversation(data: {
        customerId?: string;
        customerName?: string;
        customerEmail?: string;
        customerPhone?: string;
        customerIp?: string;
        platform?: IntegrationPlatform;
        platformUserId?: string;
        platformUserName?: string;
        subject?: string;
    }): Promise<{
        customer: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: import("@prisma/client").$Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
        assignedAgent: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: import("@prisma/client").$Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.SupportConversationStatus;
        tags: string[];
        priority: import("@prisma/client").$Enums.TicketPriority;
        assignedAt: Date | null;
        notes: string | null;
        customerEmail: string | null;
        rating: number | null;
        customerId: string | null;
        startedAt: Date;
        conversationCode: string;
        customerName: string | null;
        customerPhone: string | null;
        customerIp: string | null;
        customerLocation: string | null;
        platform: import("@prisma/client").$Enums.IntegrationPlatform;
        platformUserId: string | null;
        platformUserName: string | null;
        subject: string | null;
        lastMessageAt: Date | null;
        lastMessagePreview: string | null;
        feedback: string | null;
        closedAt: Date | null;
        assignedAgentId: string | null;
    }>;
    findAll(params?: {
        skip?: number;
        take?: number;
        where?: any;
        orderBy?: any;
    }): Promise<({
        customer: {
            id: string;
            username: string;
            firstName: string;
            lastName: string;
            email: string;
            avatar: string;
        };
        messages: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            content: string;
            metadata: import("@prisma/client/runtime/library").JsonValue | null;
            isRead: boolean;
            conversationId: string;
            sentAt: Date;
            messageType: import("@prisma/client").$Enums.SupportMessageType;
            senderType: import("@prisma/client").$Enums.SupportSender;
            senderId: string | null;
            senderName: string | null;
            isAIGenerated: boolean;
            aiConfidence: number | null;
            aiSuggestions: import("@prisma/client/runtime/library").JsonValue | null;
            readAt: Date | null;
            isEdited: boolean;
            editedAt: Date | null;
        }[];
        assignedAgent: {
            id: string;
            username: string;
            firstName: string;
            lastName: string;
            avatar: string;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.SupportConversationStatus;
        tags: string[];
        priority: import("@prisma/client").$Enums.TicketPriority;
        assignedAt: Date | null;
        notes: string | null;
        customerEmail: string | null;
        rating: number | null;
        customerId: string | null;
        startedAt: Date;
        conversationCode: string;
        customerName: string | null;
        customerPhone: string | null;
        customerIp: string | null;
        customerLocation: string | null;
        platform: import("@prisma/client").$Enums.IntegrationPlatform;
        platformUserId: string | null;
        platformUserName: string | null;
        subject: string | null;
        lastMessageAt: Date | null;
        lastMessagePreview: string | null;
        feedback: string | null;
        closedAt: Date | null;
        assignedAgentId: string | null;
    })[]>;
    findOne(id: string): Promise<{
        customer: {
            id: string;
            username: string;
            firstName: string;
            lastName: string;
            email: string;
            phone: string;
            avatar: string;
        };
        messages: ({
            attachments: {
                id: string;
                createdAt: Date;
                thumbnailUrl: string | null;
                fileName: string;
                fileSize: number;
                conversationId: string | null;
                fileType: string;
                fileUrl: string;
                messageId: string | null;
                uploadedById: string | null;
            }[];
            sender: {
                id: string;
                username: string;
                firstName: string;
                lastName: string;
                avatar: string;
            };
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            content: string;
            metadata: import("@prisma/client/runtime/library").JsonValue | null;
            isRead: boolean;
            conversationId: string;
            sentAt: Date;
            messageType: import("@prisma/client").$Enums.SupportMessageType;
            senderType: import("@prisma/client").$Enums.SupportSender;
            senderId: string | null;
            senderName: string | null;
            isAIGenerated: boolean;
            aiConfidence: number | null;
            aiSuggestions: import("@prisma/client/runtime/library").JsonValue | null;
            readAt: Date | null;
            isEdited: boolean;
            editedAt: Date | null;
        })[];
        assignedAgent: {
            id: string;
            username: string;
            firstName: string;
            lastName: string;
            avatar: string;
        };
        tickets: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            description: string;
            status: import("@prisma/client").$Enums.TicketStatus;
            category: string | null;
            tags: string[];
            priority: import("@prisma/client").$Enums.TicketPriority;
            assignedAt: Date | null;
            conversationId: string | null;
            resolvedAt: Date | null;
            resolution: string | null;
            internalNotes: string | null;
            customerId: string | null;
            subject: string;
            closedAt: Date | null;
            assignedAgentId: string | null;
            ticketNumber: string;
            relatedOrderId: string | null;
            resolvedById: string | null;
        }[];
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.SupportConversationStatus;
        tags: string[];
        priority: import("@prisma/client").$Enums.TicketPriority;
        assignedAt: Date | null;
        notes: string | null;
        customerEmail: string | null;
        rating: number | null;
        customerId: string | null;
        startedAt: Date;
        conversationCode: string;
        customerName: string | null;
        customerPhone: string | null;
        customerIp: string | null;
        customerLocation: string | null;
        platform: import("@prisma/client").$Enums.IntegrationPlatform;
        platformUserId: string | null;
        platformUserName: string | null;
        subject: string | null;
        lastMessageAt: Date | null;
        lastMessagePreview: string | null;
        feedback: string | null;
        closedAt: Date | null;
        assignedAgentId: string | null;
    }>;
    assignToAgent(conversationId: string, agentId: string): Promise<{
        customer: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: import("@prisma/client").$Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
        assignedAgent: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: import("@prisma/client").$Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.SupportConversationStatus;
        tags: string[];
        priority: import("@prisma/client").$Enums.TicketPriority;
        assignedAt: Date | null;
        notes: string | null;
        customerEmail: string | null;
        rating: number | null;
        customerId: string | null;
        startedAt: Date;
        conversationCode: string;
        customerName: string | null;
        customerPhone: string | null;
        customerIp: string | null;
        customerLocation: string | null;
        platform: import("@prisma/client").$Enums.IntegrationPlatform;
        platformUserId: string | null;
        platformUserName: string | null;
        subject: string | null;
        lastMessageAt: Date | null;
        lastMessagePreview: string | null;
        feedback: string | null;
        closedAt: Date | null;
        assignedAgentId: string | null;
    }>;
    updateStatus(conversationId: string, status: SupportConversationStatus): Promise<{
        customer: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: import("@prisma/client").$Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
        assignedAgent: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: import("@prisma/client").$Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.SupportConversationStatus;
        tags: string[];
        priority: import("@prisma/client").$Enums.TicketPriority;
        assignedAt: Date | null;
        notes: string | null;
        customerEmail: string | null;
        rating: number | null;
        customerId: string | null;
        startedAt: Date;
        conversationCode: string;
        customerName: string | null;
        customerPhone: string | null;
        customerIp: string | null;
        customerLocation: string | null;
        platform: import("@prisma/client").$Enums.IntegrationPlatform;
        platformUserId: string | null;
        platformUserName: string | null;
        subject: string | null;
        lastMessageAt: Date | null;
        lastMessagePreview: string | null;
        feedback: string | null;
        closedAt: Date | null;
        assignedAgentId: string | null;
    }>;
    updatePriority(conversationId: string, priority: TicketPriority): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.SupportConversationStatus;
        tags: string[];
        priority: import("@prisma/client").$Enums.TicketPriority;
        assignedAt: Date | null;
        notes: string | null;
        customerEmail: string | null;
        rating: number | null;
        customerId: string | null;
        startedAt: Date;
        conversationCode: string;
        customerName: string | null;
        customerPhone: string | null;
        customerIp: string | null;
        customerLocation: string | null;
        platform: import("@prisma/client").$Enums.IntegrationPlatform;
        platformUserId: string | null;
        platformUserName: string | null;
        subject: string | null;
        lastMessageAt: Date | null;
        lastMessagePreview: string | null;
        feedback: string | null;
        closedAt: Date | null;
        assignedAgentId: string | null;
    }>;
    addRating(conversationId: string, rating: number, feedback?: string): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.SupportConversationStatus;
        tags: string[];
        priority: import("@prisma/client").$Enums.TicketPriority;
        assignedAt: Date | null;
        notes: string | null;
        customerEmail: string | null;
        rating: number | null;
        customerId: string | null;
        startedAt: Date;
        conversationCode: string;
        customerName: string | null;
        customerPhone: string | null;
        customerIp: string | null;
        customerLocation: string | null;
        platform: import("@prisma/client").$Enums.IntegrationPlatform;
        platformUserId: string | null;
        platformUserName: string | null;
        subject: string | null;
        lastMessageAt: Date | null;
        lastMessagePreview: string | null;
        feedback: string | null;
        closedAt: Date | null;
        assignedAgentId: string | null;
    }>;
    getActiveConversations(agentId?: string): Promise<({
        customer: {
            id: string;
            username: string;
            firstName: string;
            lastName: string;
            email: string;
            avatar: string;
        };
        messages: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            content: string;
            metadata: import("@prisma/client/runtime/library").JsonValue | null;
            isRead: boolean;
            conversationId: string;
            sentAt: Date;
            messageType: import("@prisma/client").$Enums.SupportMessageType;
            senderType: import("@prisma/client").$Enums.SupportSender;
            senderId: string | null;
            senderName: string | null;
            isAIGenerated: boolean;
            aiConfidence: number | null;
            aiSuggestions: import("@prisma/client/runtime/library").JsonValue | null;
            readAt: Date | null;
            isEdited: boolean;
            editedAt: Date | null;
        }[];
        assignedAgent: {
            id: string;
            username: string;
            firstName: string;
            lastName: string;
            avatar: string;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.SupportConversationStatus;
        tags: string[];
        priority: import("@prisma/client").$Enums.TicketPriority;
        assignedAt: Date | null;
        notes: string | null;
        customerEmail: string | null;
        rating: number | null;
        customerId: string | null;
        startedAt: Date;
        conversationCode: string;
        customerName: string | null;
        customerPhone: string | null;
        customerIp: string | null;
        customerLocation: string | null;
        platform: import("@prisma/client").$Enums.IntegrationPlatform;
        platformUserId: string | null;
        platformUserName: string | null;
        subject: string | null;
        lastMessageAt: Date | null;
        lastMessagePreview: string | null;
        feedback: string | null;
        closedAt: Date | null;
        assignedAgentId: string | null;
    })[]>;
    getConversationByCode(conversationCode: string): Promise<{
        customer: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: import("@prisma/client").$Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
        messages: ({
            attachments: {
                id: string;
                createdAt: Date;
                thumbnailUrl: string | null;
                fileName: string;
                fileSize: number;
                conversationId: string | null;
                fileType: string;
                fileUrl: string;
                messageId: string | null;
                uploadedById: string | null;
            }[];
            sender: {
                id: string;
                username: string;
                firstName: string | null;
                lastName: string | null;
                email: string | null;
                createdAt: Date;
                updatedAt: Date;
                isActive: boolean;
                password: string | null;
                phone: string | null;
                avatar: string | null;
                roleType: import("@prisma/client").$Enums.UserRoleType;
                isVerified: boolean;
                address: string | null;
                city: string | null;
                district: string | null;
                ward: string | null;
                isTwoFactorEnabled: boolean;
                failedLoginAttempts: number;
                lockedUntil: Date | null;
                lastLoginAt: Date | null;
                departmentId: string | null;
            };
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            content: string;
            metadata: import("@prisma/client/runtime/library").JsonValue | null;
            isRead: boolean;
            conversationId: string;
            sentAt: Date;
            messageType: import("@prisma/client").$Enums.SupportMessageType;
            senderType: import("@prisma/client").$Enums.SupportSender;
            senderId: string | null;
            senderName: string | null;
            isAIGenerated: boolean;
            aiConfidence: number | null;
            aiSuggestions: import("@prisma/client/runtime/library").JsonValue | null;
            readAt: Date | null;
            isEdited: boolean;
            editedAt: Date | null;
        })[];
        assignedAgent: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: import("@prisma/client").$Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.SupportConversationStatus;
        tags: string[];
        priority: import("@prisma/client").$Enums.TicketPriority;
        assignedAt: Date | null;
        notes: string | null;
        customerEmail: string | null;
        rating: number | null;
        customerId: string | null;
        startedAt: Date;
        conversationCode: string;
        customerName: string | null;
        customerPhone: string | null;
        customerIp: string | null;
        customerLocation: string | null;
        platform: import("@prisma/client").$Enums.IntegrationPlatform;
        platformUserId: string | null;
        platformUserName: string | null;
        subject: string | null;
        lastMessageAt: Date | null;
        lastMessagePreview: string | null;
        feedback: string | null;
        closedAt: Date | null;
        assignedAgentId: string | null;
    }>;
    delete(id: string): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: import("@prisma/client").$Enums.SupportConversationStatus;
        tags: string[];
        priority: import("@prisma/client").$Enums.TicketPriority;
        assignedAt: Date | null;
        notes: string | null;
        customerEmail: string | null;
        rating: number | null;
        customerId: string | null;
        startedAt: Date;
        conversationCode: string;
        customerName: string | null;
        customerPhone: string | null;
        customerIp: string | null;
        customerLocation: string | null;
        platform: import("@prisma/client").$Enums.IntegrationPlatform;
        platformUserId: string | null;
        platformUserName: string | null;
        subject: string | null;
        lastMessageAt: Date | null;
        lastMessagePreview: string | null;
        feedback: string | null;
        closedAt: Date | null;
        assignedAgentId: string | null;
    }>;
}
