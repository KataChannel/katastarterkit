import { PrismaService } from '../prisma/prisma.service';
import { CreateCallCenterConfigInput, UpdateCallCenterConfigInput, SyncCallCenterInput, CallCenterRecordFiltersInput } from '../graphql/inputs/callcenter.input';
import { PaginationInput } from '../graphql/models/pagination.model';
export declare class CallCenterService {
    private readonly prisma;
    private readonly logger;
    constructor(prisma: PrismaService);
    getConfig(): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        isActive: boolean;
        batchSize: number;
        apiUrl: string;
        domain: string;
        apiKey: string | null;
        syncMode: import("@prisma/client").$Enums.CallCenterSyncMode;
        cronExpression: string | null;
        defaultDaysBack: number;
        lastSyncAt: Date | null;
        lastSyncStatus: string | null;
        lastSyncError: string | null;
        totalRecordsSynced: number;
    }>;
    createConfig(input: CreateCallCenterConfigInput): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        isActive: boolean;
        batchSize: number;
        apiUrl: string;
        domain: string;
        apiKey: string | null;
        syncMode: import("@prisma/client").$Enums.CallCenterSyncMode;
        cronExpression: string | null;
        defaultDaysBack: number;
        lastSyncAt: Date | null;
        lastSyncStatus: string | null;
        lastSyncError: string | null;
        totalRecordsSynced: number;
    }>;
    updateConfig(id: string, input: UpdateCallCenterConfigInput): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        isActive: boolean;
        batchSize: number;
        apiUrl: string;
        domain: string;
        apiKey: string | null;
        syncMode: import("@prisma/client").$Enums.CallCenterSyncMode;
        cronExpression: string | null;
        defaultDaysBack: number;
        lastSyncAt: Date | null;
        lastSyncStatus: string | null;
        lastSyncError: string | null;
        totalRecordsSynced: number;
    }>;
    deleteConfig(id: string): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        isActive: boolean;
        batchSize: number;
        apiUrl: string;
        domain: string;
        apiKey: string | null;
        syncMode: import("@prisma/client").$Enums.CallCenterSyncMode;
        cronExpression: string | null;
        defaultDaysBack: number;
        lastSyncAt: Date | null;
        lastSyncStatus: string | null;
        lastSyncError: string | null;
        totalRecordsSynced: number;
    }>;
    syncCallCenterData(input?: SyncCallCenterInput): Promise<{
        success: boolean;
        message: string;
        syncLogId: string;
        recordsFetched: number;
        recordsCreated: number;
        recordsUpdated: number;
    }>;
    private buildApiUrl;
    private formatDate;
    handleScheduledSync(): Promise<void>;
    getRecords(pagination: PaginationInput, filters?: CallCenterRecordFiltersInput): Promise<{
        items: {
            id: string;
            updatedAt: Date;
            duration: string | null;
            direction: import("@prisma/client").$Enums.CallDirection;
            domain: string | null;
            externalUuid: string;
            callerIdNumber: string | null;
            outboundCallerIdNumber: string | null;
            destinationNumber: string | null;
            startEpoch: string | null;
            endEpoch: string | null;
            answerEpoch: string | null;
            billsec: string | null;
            sipHangupDisposition: string | null;
            callStatus: import("@prisma/client").$Enums.CallStatus;
            recordPath: string | null;
            rawData: import("@prisma/client/runtime/library").JsonValue | null;
            syncedAt: Date;
        }[];
        pagination: {
            currentPage: number;
            totalPages: number;
            totalItems: number;
            hasNextPage: boolean;
            hasPreviousPage: boolean;
        };
    }>;
    getRecordById(id: string): Promise<{
        id: string;
        updatedAt: Date;
        duration: string | null;
        direction: import("@prisma/client").$Enums.CallDirection;
        domain: string | null;
        externalUuid: string;
        callerIdNumber: string | null;
        outboundCallerIdNumber: string | null;
        destinationNumber: string | null;
        startEpoch: string | null;
        endEpoch: string | null;
        answerEpoch: string | null;
        billsec: string | null;
        sipHangupDisposition: string | null;
        callStatus: import("@prisma/client").$Enums.CallStatus;
        recordPath: string | null;
        rawData: import("@prisma/client/runtime/library").JsonValue | null;
        syncedAt: Date;
    }>;
    getSyncLogs(pagination: PaginationInput): Promise<{
        items: {
            id: string;
            status: string;
            startedAt: Date;
            duration: number | null;
            completedAt: Date | null;
            configId: string | null;
            syncType: import("@prisma/client").$Enums.CallCenterSyncMode;
            fromDate: Date;
            toDate: Date;
            offset: number;
            recordsFetched: number;
            recordsCreated: number;
            recordsUpdated: number;
            recordsSkipped: number;
            errorMessage: string | null;
            errorDetails: import("@prisma/client/runtime/library").JsonValue | null;
        }[];
        total: number;
    }>;
}
