import { PrismaService } from '../prisma/prisma.service';
import { $Enums } from '@prisma/client';
import { CreateAffUserInput, UpdateAffUserInput, CreateCampaignInput, UpdateCampaignInput, CampaignSearchInput, JoinCampaignInput, ReviewCampaignApplicationInput } from '../graphql/inputs/affiliate.input';
export declare class AffiliateUserService {
    private readonly prisma;
    constructor(prisma: PrismaService);
    createAffiliateUser(userId: string, input: CreateAffUserInput): Promise<{
        user: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: $Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        description: string | null;
        isActive: boolean;
        userId: string;
        paymentMethod: $Enums.AffPaymentMethod | null;
        role: $Enums.AffUserRole;
        joinedAt: Date;
        companyName: string | null;
        businessType: string | null;
        website: string | null;
        bankAccount: string | null;
        paypalEmail: string | null;
        taxId: string | null;
        lastActiveAt: Date | null;
    }>;
    getAffiliateUser(userId: string): Promise<any | null>;
    updateAffiliateUser(userId: string, input: UpdateAffUserInput): Promise<{
        user: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: $Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        description: string | null;
        isActive: boolean;
        userId: string;
        paymentMethod: $Enums.AffPaymentMethod | null;
        role: $Enums.AffUserRole;
        joinedAt: Date;
        companyName: string | null;
        businessType: string | null;
        website: string | null;
        bankAccount: string | null;
        paypalEmail: string | null;
        taxId: string | null;
        lastActiveAt: Date | null;
    }>;
    getAllAffiliates(filters?: {
        role?: $Enums.AffUserRole;
        isActive?: boolean;
    }): Promise<({
        _count: {
            conversions: number;
            links: number;
            campaignsCreated: number;
            campaignJoins: number;
        };
        user: {
            id: string;
            username: string;
            firstName: string | null;
            lastName: string | null;
            email: string | null;
            createdAt: Date;
            updatedAt: Date;
            isActive: boolean;
            password: string | null;
            phone: string | null;
            avatar: string | null;
            roleType: $Enums.UserRoleType;
            isVerified: boolean;
            address: string | null;
            city: string | null;
            district: string | null;
            ward: string | null;
            isTwoFactorEnabled: boolean;
            failedLoginAttempts: number;
            lockedUntil: Date | null;
            lastLoginAt: Date | null;
            departmentId: string | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        description: string | null;
        isActive: boolean;
        userId: string;
        paymentMethod: $Enums.AffPaymentMethod | null;
        role: $Enums.AffUserRole;
        joinedAt: Date;
        companyName: string | null;
        businessType: string | null;
        website: string | null;
        bankAccount: string | null;
        paypalEmail: string | null;
        taxId: string | null;
        lastActiveAt: Date | null;
    })[]>;
    getAffiliateStats(userId: string): Promise<{
        totalClicks: number;
        totalConversions: number;
        totalEarnings: number;
        pendingEarnings: number;
        paidEarnings: number;
        conversionRate: number;
        activeCampaigns: number;
        activeLinks: number;
    }>;
}
export declare class AffiliateCampaignService {
    private readonly prisma;
    constructor(prisma: PrismaService);
    createCampaign(creatorUserId: string, input: CreateCampaignInput): Promise<{
        creator: {
            user: {
                id: string;
                username: string;
                firstName: string | null;
                lastName: string | null;
                email: string | null;
                createdAt: Date;
                updatedAt: Date;
                isActive: boolean;
                password: string | null;
                phone: string | null;
                avatar: string | null;
                roleType: $Enums.UserRoleType;
                isVerified: boolean;
                address: string | null;
                city: string | null;
                district: string | null;
                ward: string | null;
                isTwoFactorEnabled: boolean;
                failedLoginAttempts: number;
                lockedUntil: Date | null;
                lastLoginAt: Date | null;
                departmentId: string | null;
            };
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            description: string | null;
            isActive: boolean;
            userId: string;
            paymentMethod: $Enums.AffPaymentMethod | null;
            role: $Enums.AffUserRole;
            joinedAt: Date;
            companyName: string | null;
            businessType: string | null;
            website: string | null;
            bankAccount: string | null;
            paypalEmail: string | null;
            taxId: string | null;
            lastActiveAt: Date | null;
        };
    } & {
        id: string;
        name: string;
        createdAt: Date;
        updatedAt: Date;
        description: string | null;
        status: $Enums.AffCampaignStatus;
        productImage: string | null;
        startDate: Date | null;
        endDate: Date | null;
        commissionType: string;
        productName: string;
        productUrl: string;
        commissionRate: import("@prisma/client/runtime/library").Decimal;
        fixedAmount: import("@prisma/client/runtime/library").Decimal | null;
        maxAffiliates: number | null;
        requireApproval: boolean;
        totalClicks: number;
        totalConversions: number;
        totalRevenue: import("@prisma/client/runtime/library").Decimal;
        totalCommission: import("@prisma/client/runtime/library").Decimal;
        creatorId: string;
    }>;
    updateCampaign(campaignId: string, creatorUserId: string, input: UpdateCampaignInput): Promise<{
        creator: {
            user: {
                id: string;
                username: string;
                firstName: string | null;
                lastName: string | null;
                email: string | null;
                createdAt: Date;
                updatedAt: Date;
                isActive: boolean;
                password: string | null;
                phone: string | null;
                avatar: string | null;
                roleType: $Enums.UserRoleType;
                isVerified: boolean;
                address: string | null;
                city: string | null;
                district: string | null;
                ward: string | null;
                isTwoFactorEnabled: boolean;
                failedLoginAttempts: number;
                lockedUntil: Date | null;
                lastLoginAt: Date | null;
                departmentId: string | null;
            };
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            description: string | null;
            isActive: boolean;
            userId: string;
            paymentMethod: $Enums.AffPaymentMethod | null;
            role: $Enums.AffUserRole;
            joinedAt: Date;
            companyName: string | null;
            businessType: string | null;
            website: string | null;
            bankAccount: string | null;
            paypalEmail: string | null;
            taxId: string | null;
            lastActiveAt: Date | null;
        };
        affiliates: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: string;
            approvedAt: Date | null;
            reason: string | null;
            campaignId: string;
            totalClicks: number;
            totalConversions: number;
            affiliateId: string;
            totalEarnings: import("@prisma/client/runtime/library").Decimal;
            appliedAt: Date;
            rejectedAt: Date | null;
        }[];
    } & {
        id: string;
        name: string;
        createdAt: Date;
        updatedAt: Date;
        description: string | null;
        status: $Enums.AffCampaignStatus;
        productImage: string | null;
        startDate: Date | null;
        endDate: Date | null;
        commissionType: string;
        productName: string;
        productUrl: string;
        commissionRate: import("@prisma/client/runtime/library").Decimal;
        fixedAmount: import("@prisma/client/runtime/library").Decimal | null;
        maxAffiliates: number | null;
        requireApproval: boolean;
        totalClicks: number;
        totalConversions: number;
        totalRevenue: import("@prisma/client/runtime/library").Decimal;
        totalCommission: import("@prisma/client/runtime/library").Decimal;
        creatorId: string;
    }>;
    deleteCampaign(campaignId: string, creatorUserId: string): Promise<{
        id: string;
        name: string;
        createdAt: Date;
        updatedAt: Date;
        description: string | null;
        status: $Enums.AffCampaignStatus;
        productImage: string | null;
        startDate: Date | null;
        endDate: Date | null;
        commissionType: string;
        productName: string;
        productUrl: string;
        commissionRate: import("@prisma/client/runtime/library").Decimal;
        fixedAmount: import("@prisma/client/runtime/library").Decimal | null;
        maxAffiliates: number | null;
        requireApproval: boolean;
        totalClicks: number;
        totalConversions: number;
        totalRevenue: import("@prisma/client/runtime/library").Decimal;
        totalCommission: import("@prisma/client/runtime/library").Decimal;
        creatorId: string;
    }>;
    getCampaign(campaignId: string): Promise<{
        creator: {
            user: {
                id: string;
                username: string;
                firstName: string | null;
                lastName: string | null;
                email: string | null;
                createdAt: Date;
                updatedAt: Date;
                isActive: boolean;
                password: string | null;
                phone: string | null;
                avatar: string | null;
                roleType: $Enums.UserRoleType;
                isVerified: boolean;
                address: string | null;
                city: string | null;
                district: string | null;
                ward: string | null;
                isTwoFactorEnabled: boolean;
                failedLoginAttempts: number;
                lockedUntil: Date | null;
                lastLoginAt: Date | null;
                departmentId: string | null;
            };
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            description: string | null;
            isActive: boolean;
            userId: string;
            paymentMethod: $Enums.AffPaymentMethod | null;
            role: $Enums.AffUserRole;
            joinedAt: Date;
            companyName: string | null;
            businessType: string | null;
            website: string | null;
            bankAccount: string | null;
            paypalEmail: string | null;
            taxId: string | null;
            lastActiveAt: Date | null;
        };
        conversions: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: $Enums.AffConversionStatus;
            approvedAt: Date | null;
            campaignId: string;
            affiliateId: string;
            notes: string | null;
            orderId: string | null;
            customerEmail: string | null;
            saleAmount: import("@prisma/client/runtime/library").Decimal;
            conversionType: string;
            rejectedAt: Date | null;
            linkId: string;
            commission: import("@prisma/client/runtime/library").Decimal;
            clickId: string | null;
            currency: string;
            convertedAt: Date;
            paidAt: Date | null;
            validatedBy: string | null;
        }[];
        affiliates: ({
            affiliate: {
                user: {
                    id: string;
                    username: string;
                    firstName: string | null;
                    lastName: string | null;
                    email: string | null;
                    createdAt: Date;
                    updatedAt: Date;
                    isActive: boolean;
                    password: string | null;
                    phone: string | null;
                    avatar: string | null;
                    roleType: $Enums.UserRoleType;
                    isVerified: boolean;
                    address: string | null;
                    city: string | null;
                    district: string | null;
                    ward: string | null;
                    isTwoFactorEnabled: boolean;
                    failedLoginAttempts: number;
                    lockedUntil: Date | null;
                    lastLoginAt: Date | null;
                    departmentId: string | null;
                };
            } & {
                id: string;
                createdAt: Date;
                updatedAt: Date;
                description: string | null;
                isActive: boolean;
                userId: string;
                paymentMethod: $Enums.AffPaymentMethod | null;
                role: $Enums.AffUserRole;
                joinedAt: Date;
                companyName: string | null;
                businessType: string | null;
                website: string | null;
                bankAccount: string | null;
                paypalEmail: string | null;
                taxId: string | null;
                lastActiveAt: Date | null;
            };
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            status: string;
            approvedAt: Date | null;
            reason: string | null;
            campaignId: string;
            totalClicks: number;
            totalConversions: number;
            affiliateId: string;
            totalEarnings: import("@prisma/client/runtime/library").Decimal;
            appliedAt: Date;
            rejectedAt: Date | null;
        })[];
        links: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            description: string | null;
            isActive: boolean;
            title: string | null;
            expiresAt: Date | null;
            campaignId: string;
            totalClicks: number;
            totalConversions: number;
            affiliateId: string;
            trackingCode: string;
            originalUrl: string;
            shortUrl: string | null;
            customAlias: string | null;
            utmSource: string | null;
            utmMedium: string | null;
            utmCampaign: string | null;
            utmContent: string | null;
            totalEarnings: import("@prisma/client/runtime/library").Decimal;
        }[];
    } & {
        id: string;
        name: string;
        createdAt: Date;
        updatedAt: Date;
        description: string | null;
        status: $Enums.AffCampaignStatus;
        productImage: string | null;
        startDate: Date | null;
        endDate: Date | null;
        commissionType: string;
        productName: string;
        productUrl: string;
        commissionRate: import("@prisma/client/runtime/library").Decimal;
        fixedAmount: import("@prisma/client/runtime/library").Decimal | null;
        maxAffiliates: number | null;
        requireApproval: boolean;
        totalClicks: number;
        totalConversions: number;
        totalRevenue: import("@prisma/client/runtime/library").Decimal;
        totalCommission: import("@prisma/client/runtime/library").Decimal;
        creatorId: string;
    }>;
    searchCampaigns(input: CampaignSearchInput): Promise<{
        campaigns: ({
            _count: {
                conversions: number;
                affiliates: number;
                links: number;
            };
            creator: {
                user: {
                    id: string;
                    username: string;
                    firstName: string | null;
                    lastName: string | null;
                    email: string | null;
                    createdAt: Date;
                    updatedAt: Date;
                    isActive: boolean;
                    password: string | null;
                    phone: string | null;
                    avatar: string | null;
                    roleType: $Enums.UserRoleType;
                    isVerified: boolean;
                    address: string | null;
                    city: string | null;
                    district: string | null;
                    ward: string | null;
                    isTwoFactorEnabled: boolean;
                    failedLoginAttempts: number;
                    lockedUntil: Date | null;
                    lastLoginAt: Date | null;
                    departmentId: string | null;
                };
            } & {
                id: string;
                createdAt: Date;
                updatedAt: Date;
                description: string | null;
                isActive: boolean;
                userId: string;
                paymentMethod: $Enums.AffPaymentMethod | null;
                role: $Enums.AffUserRole;
                joinedAt: Date;
                companyName: string | null;
                businessType: string | null;
                website: string | null;
                bankAccount: string | null;
                paypalEmail: string | null;
                taxId: string | null;
                lastActiveAt: Date | null;
            };
        } & {
            id: string;
            name: string;
            createdAt: Date;
            updatedAt: Date;
            description: string | null;
            status: $Enums.AffCampaignStatus;
            productImage: string | null;
            startDate: Date | null;
            endDate: Date | null;
            commissionType: string;
            productName: string;
            productUrl: string;
            commissionRate: import("@prisma/client/runtime/library").Decimal;
            fixedAmount: import("@prisma/client/runtime/library").Decimal | null;
            maxAffiliates: number | null;
            requireApproval: boolean;
            totalClicks: number;
            totalConversions: number;
            totalRevenue: import("@prisma/client/runtime/library").Decimal;
            totalCommission: import("@prisma/client/runtime/library").Decimal;
            creatorId: string;
        })[];
        total: number;
        page: number;
        size: number;
        totalPages: number;
    }>;
    joinCampaign(affiliateUserId: string, input: JoinCampaignInput): Promise<{
        campaign: {
            id: string;
            name: string;
            createdAt: Date;
            updatedAt: Date;
            description: string | null;
            status: $Enums.AffCampaignStatus;
            productImage: string | null;
            startDate: Date | null;
            endDate: Date | null;
            commissionType: string;
            productName: string;
            productUrl: string;
            commissionRate: import("@prisma/client/runtime/library").Decimal;
            fixedAmount: import("@prisma/client/runtime/library").Decimal | null;
            maxAffiliates: number | null;
            requireApproval: boolean;
            totalClicks: number;
            totalConversions: number;
            totalRevenue: import("@prisma/client/runtime/library").Decimal;
            totalCommission: import("@prisma/client/runtime/library").Decimal;
            creatorId: string;
        };
        affiliate: {
            user: {
                id: string;
                username: string;
                firstName: string | null;
                lastName: string | null;
                email: string | null;
                createdAt: Date;
                updatedAt: Date;
                isActive: boolean;
                password: string | null;
                phone: string | null;
                avatar: string | null;
                roleType: $Enums.UserRoleType;
                isVerified: boolean;
                address: string | null;
                city: string | null;
                district: string | null;
                ward: string | null;
                isTwoFactorEnabled: boolean;
                failedLoginAttempts: number;
                lockedUntil: Date | null;
                lastLoginAt: Date | null;
                departmentId: string | null;
            };
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            description: string | null;
            isActive: boolean;
            userId: string;
            paymentMethod: $Enums.AffPaymentMethod | null;
            role: $Enums.AffUserRole;
            joinedAt: Date;
            companyName: string | null;
            businessType: string | null;
            website: string | null;
            bankAccount: string | null;
            paypalEmail: string | null;
            taxId: string | null;
            lastActiveAt: Date | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: string;
        approvedAt: Date | null;
        reason: string | null;
        campaignId: string;
        totalClicks: number;
        totalConversions: number;
        affiliateId: string;
        totalEarnings: import("@prisma/client/runtime/library").Decimal;
        appliedAt: Date;
        rejectedAt: Date | null;
    }>;
    reviewCampaignApplication(merchantUserId: string, input: ReviewCampaignApplicationInput): Promise<{
        campaign: {
            id: string;
            name: string;
            createdAt: Date;
            updatedAt: Date;
            description: string | null;
            status: $Enums.AffCampaignStatus;
            productImage: string | null;
            startDate: Date | null;
            endDate: Date | null;
            commissionType: string;
            productName: string;
            productUrl: string;
            commissionRate: import("@prisma/client/runtime/library").Decimal;
            fixedAmount: import("@prisma/client/runtime/library").Decimal | null;
            maxAffiliates: number | null;
            requireApproval: boolean;
            totalClicks: number;
            totalConversions: number;
            totalRevenue: import("@prisma/client/runtime/library").Decimal;
            totalCommission: import("@prisma/client/runtime/library").Decimal;
            creatorId: string;
        };
        affiliate: {
            user: {
                id: string;
                username: string;
                firstName: string | null;
                lastName: string | null;
                email: string | null;
                createdAt: Date;
                updatedAt: Date;
                isActive: boolean;
                password: string | null;
                phone: string | null;
                avatar: string | null;
                roleType: $Enums.UserRoleType;
                isVerified: boolean;
                address: string | null;
                city: string | null;
                district: string | null;
                ward: string | null;
                isTwoFactorEnabled: boolean;
                failedLoginAttempts: number;
                lockedUntil: Date | null;
                lastLoginAt: Date | null;
                departmentId: string | null;
            };
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            description: string | null;
            isActive: boolean;
            userId: string;
            paymentMethod: $Enums.AffPaymentMethod | null;
            role: $Enums.AffUserRole;
            joinedAt: Date;
            companyName: string | null;
            businessType: string | null;
            website: string | null;
            bankAccount: string | null;
            paypalEmail: string | null;
            taxId: string | null;
            lastActiveAt: Date | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        status: string;
        approvedAt: Date | null;
        reason: string | null;
        campaignId: string;
        totalClicks: number;
        totalConversions: number;
        affiliateId: string;
        totalEarnings: import("@prisma/client/runtime/library").Decimal;
        appliedAt: Date;
        rejectedAt: Date | null;
    }>;
    getMerchantStats(merchantUserId: string): Promise<{
        totalCampaigns: number;
        activeCampaigns: number;
        totalAffiliates: number;
        totalRevenue: number;
        totalCommissionPaid: number;
        pendingCommission: number;
        totalClicks: number;
        totalConversions: number;
        averageConversionRate: number;
    }>;
}
