import { PrismaService } from '../prisma/prisma.service';
import { CreateInvoiceInput, CreateInvoiceDetailInput, InvoiceSearchInput, BulkInvoiceInput } from '../graphql/inputs/invoice.input';
import { ExtListhoadon, ExtDetailhoadon, InvoiceSearchResult, DatabaseSyncResult, InvoiceStats } from '../graphql/models/invoice.model';
import { BackendConfigService } from './backend-config.service';
export declare class InvoiceService {
    private readonly prisma;
    private readonly configService;
    private readonly logger;
    private readonly fileLogger;
    constructor(prisma: PrismaService, configService: BackendConfigService);
    private extractDetailParams;
    private fetchInvoiceDetails;
    private saveInvoiceDetails;
    private autoFetchAndSaveDetails;
    private decimalToNumber;
    private toDecimalSafe;
    private toIntSafe;
    private toStringSafe;
    private toArraySafe;
    private normalizeInvoiceData;
    private convertInvoice;
    private convertDetail;
    createInvoice(data: CreateInvoiceInput): Promise<ExtListhoadon>;
    createInvoiceDetails(invoiceId: string, details: CreateInvoiceDetailInput[]): Promise<ExtDetailhoadon[]>;
    getInvoiceById(id: string): Promise<ExtListhoadon>;
    searchInvoices(input: InvoiceSearchInput): Promise<InvoiceSearchResult>;
    invoiceExists(idServer: string, nbmst: string, khmshdon: string, shdon: string): Promise<boolean>;
    private delay;
    bulkCreateInvoices(input: BulkInvoiceInput, onProgress?: (progress: {
        processed: number;
        total: number;
        saved: number;
        skipped: number;
        failed: number;
        detailsSaved: number;
    }) => void): Promise<DatabaseSyncResult>;
    getStats(): Promise<InvoiceStats>;
    deleteInvoice(id: string): Promise<boolean>;
    updateInvoice(id: string, data: Partial<CreateInvoiceInput>): Promise<ExtListhoadon>;
}
