{"version":3,"sources":["turbopack:///[project]/frontend/src/components/page-builder/blocks/DynamicBlock.tsx","turbopack:///[project]/frontend/src/components/page-builder/blocks/dynamicBlock/useDynamicBlockState.ts","turbopack:///[project]/frontend/src/components/page-builder/blocks/dynamicBlock/useDynamicBlockData.ts","turbopack:///[project]/frontend/src/components/page-builder/blocks/dynamicBlock/useTemplateSelection.ts","turbopack:///[project]/frontend/src/components/page-builder/blocks/dynamicBlock/validationUtils.ts","turbopack:///[project]/frontend/src/components/page-builder/blocks/dynamicBlock/useDataValidation.ts","turbopack:///[project]/frontend/src/components/page-builder/blocks/dynamicBlock/templateUtils.ts","turbopack:///[project]/frontend/src/lib/dynamicBlockSampleTemplates.ts","turbopack:///[project]/frontend/src/components/page-builder/blocks/dynamicBlock/components.tsx"],"sourcesContent":["/**\n * Dynamic Block Component - Refactored Version\n * Senior-level architecture with hooks separation\n * \n * Features:\n * - Multiple template support (Static, API, GraphQL)\n * - JSON validation with blur triggers\n * - Repeater pattern with limit\n * - Advanced template syntax ({{#each}}, {{#if}}, {{#repeat}})\n * - No infinite loops - uses reducer pattern\n */\n\n'use client';\n\nimport React, { useEffect } from 'react';\nimport { PageBlock, DynamicBlockConfig } from '@/types/page-builder';\nimport {\n  Settings,\n  Trash2,\n  RefreshCw,\n  Code,\n  Check,\n  Grid3x3,\n  Maximize2,\n  Minimize2,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from '@/components/ui/dialog';\n\n// Custom hooks\nimport {\n  useDynamicBlockState,\n  useDynamicBlockData,\n  useTemplateSelection,\n  useDataValidation,\n  testAPIConnection,\n} from './dynamicBlock';\n\n// Utilities\nimport { processTemplate, evaluateAllConditions } from './dynamicBlock/templateUtils';\nimport { hasValidationErrors } from './dynamicBlock/validationUtils';\nimport { getAllSampleTemplates, type SampleTemplate } from '@/lib/dynamicBlockSampleTemplates';\n\n// UI Components\nimport {\n  TemplateSelectionPanel,\n  TemplateEditorPanel,\n  ConfigurationPanel,\n} from './dynamicBlock/components';\n\ninterface DynamicBlockProps {\n  block: PageBlock;\n  isEditable?: boolean;\n  onUpdate: (content: any, style?: any) => void;\n  onDelete: () => void;\n}\n\n/**\n * Main Dynamic Block Component\n */\nexport const DynamicBlock: React.FC<DynamicBlockProps> = ({\n  block,\n  isEditable = true,\n  onUpdate,\n  onDelete,\n}) => {\n  const config = block.config as DynamicBlockConfig;\n  const sampleTemplates = getAllSampleTemplates();\n\n  // Ref for fullscreen textarea\n  const fullscreenTextareaRef = React.useRef<HTMLTextAreaElement>(null);\n\n  // Helper function to insert snippet in fullscreen editor\n  const insertSnippetFullscreen = (snippet: string) => {\n    if (!fullscreenTextareaRef.current) {\n      // Fallback: append to end\n      setTemplateEdit(state.templateEdit + '\\n' + snippet);\n      return;\n    }\n\n    const textarea = fullscreenTextareaRef.current;\n    const start = textarea.selectionStart;\n    const end = textarea.selectionEnd;\n    const newValue = state.templateEdit.substring(0, start) + snippet + state.templateEdit.substring(end);\n    \n    setTemplateEdit(newValue);\n    \n    // Focus and position cursor after snippet\n    setTimeout(() => {\n      if (fullscreenTextareaRef.current) {\n        const newPos = start + snippet.length;\n        fullscreenTextareaRef.current.selectionStart = fullscreenTextareaRef.current.selectionEnd = newPos;\n        fullscreenTextareaRef.current.focus();\n      }\n    }, 0);\n  };\n\n  // State management using custom hook with reducer\n  const {\n    state,\n    setEditing,\n    setFullscreenEditor,\n    setEditConfig,\n    setSelectedTemplate,\n    setTemplateEdit,\n    setLoading,\n    setData,\n    setError,\n    setStaticDataText,\n    setStaticDataError,\n    setRepeaterDataText,\n    setRepeaterDataError,\n    setLimitText,\n    setLimitError,\n    setApiTestLoading,\n    setApiTestResult,\n    setApiTestError,\n  } = useDynamicBlockState(config, block.content?.template || '');\n\n  // Data fetching hook\n  useDynamicBlockData({\n    config: state.editConfig,\n    onDataLoaded: setData,\n    onLoading: setLoading,\n    onError: setError,\n  });\n\n  // Template selection hook\n  const { handleSelectTemplate, handleSelectBlankTemplate } = useTemplateSelection({\n    onConfigChange: setEditConfig,\n    onTemplateChange: setTemplateEdit,\n    onSelectedTemplateChange: setSelectedTemplate,\n    onDataChange: setData,\n    onErrorsReset: () => {\n      setStaticDataError(null, false);\n      setRepeaterDataError(null, false, []);\n      setLimitError(null, false);\n    },\n  });\n\n  // Data validation hook\n  const { validateAndSaveStaticData, validateAndSaveRepeaterData, validateAndSaveLimit } =\n    useDataValidation({\n      editConfig: state.editConfig,\n      onConfigChange: setEditConfig,\n      onDataChange: setData,\n      onStaticDataError: setStaticDataError,\n      onRepeaterDataError: setRepeaterDataError,\n      onLimitError: setLimitError,\n    });\n\n  // Initialize static data text from config on mount/change\n  useEffect(() => {\n    if (state.editConfig.dataSource?.type === 'static') {\n      const staticData = state.editConfig.dataSource?.staticData;\n      const textValue = staticData\n        ? typeof staticData === 'string'\n          ? staticData\n          : JSON.stringify(staticData, null, 2)\n        : '{}';\n      setStaticDataText(textValue);\n    }\n  }, [state.editConfig.dataSource?.type, state.editConfig.templateId, setStaticDataText]);\n\n  // Initialize repeater data text from config on mount/change\n  useEffect(() => {\n    if (state.editConfig.repeater?.enabled) {\n      const repeaterData = state.editConfig.repeater?.data;\n      const textValue = repeaterData\n        ? typeof repeaterData === 'string'\n          ? repeaterData\n          : JSON.stringify(repeaterData, null, 2)\n        : '[]';\n      setRepeaterDataText(textValue);\n\n      // Initialize limit text\n      if (state.editConfig.repeater?.limit) {\n        setLimitText(String(state.editConfig.repeater.limit));\n      } else {\n        setLimitText('');\n      }\n    }\n  }, [state.editConfig.repeater?.enabled, state.editConfig.templateId, setRepeaterDataText, setLimitText]);\n\n  /**\n   * Handle API/GraphQL testing\n   */\n  const handleTestApi = async () => {\n    setApiTestLoading(true);\n    setApiTestError(null);\n    setApiTestResult(null);\n\n    try {\n      const result = await testAPIConnection(state.editConfig.dataSource);\n      setApiTestResult(result);\n    } catch (err) {\n      setApiTestError(err instanceof Error ? err.message : 'Failed to test connection');\n    } finally {\n      setApiTestLoading(false);\n    }\n  };\n\n  /**\n   * Render dynamic content based on configuration\n   */\n  const renderContent = () => {\n    // Template-based rendering\n    if (block.content?.componentType === 'template' && block.content?.template) {\n      let renderData = state.data;\n\n      // Fallback to sample template data\n      if (!renderData && block.content?.templateId) {\n        const matchingTemplate = sampleTemplates.find(t => t.id === block.content?.templateId);\n        if (matchingTemplate?.dataSource?.staticData) {\n          renderData = matchingTemplate.dataSource.staticData;\n        }\n      }\n\n      if (!renderData) {\n        return (\n          <div className=\"p-4 bg-gray-50 border border-gray-200 rounded text-gray-500 text-sm\">\n            No data available. Configure data source and save to preview.\n          </div>\n        );\n      }\n\n      const processedTemplate = processTemplate(block.content.template, renderData);\n      return (\n        <div className=\"template-content\" dangerouslySetInnerHTML={{ __html: processedTemplate }} />\n      );\n    }\n\n    // Loading state\n    if (state.loading) {\n      return (\n        <div className=\"flex items-center justify-center p-8\">\n          <RefreshCw className=\"w-6 h-6 animate-spin text-blue-500\" />\n          <span className=\"ml-2\">Loading...</span>\n        </div>\n      );\n    }\n\n    // Error state\n    if (state.error) {\n      return (\n        <div className=\"p-4 bg-red-50 border border-red-200 rounded text-red-600\">\n          <strong>Error:</strong> {state.error}\n        </div>\n      );\n    }\n\n    // Repeater pattern rendering\n    if (config?.repeater?.enabled && state.data) {\n      const items = Array.isArray(state.data) ? state.data : [];\n      const filteredItems = items.filter(item =>\n        evaluateAllConditions(item, config.conditions)\n      );\n      const limitedItems = config.repeater?.limit\n        ? filteredItems.slice(0, config.repeater.limit)\n        : filteredItems;\n\n      return (\n        <div className=\"grid gap-4\">\n          {limitedItems.map((item, index) => (\n            <Card key={index} className=\"p-4\">\n              <pre className=\"text-sm overflow-auto max-h-96\">{JSON.stringify(item, null, 2)}</pre>\n            </Card>\n          ))}\n        </div>\n      );\n    }\n\n    // No data\n    if (!state.data) {\n      return (\n        <div className=\"p-4 bg-gray-50 border border-gray-200 rounded text-gray-500 text-sm\">\n          No data available. Configure data source and save to preview.\n        </div>\n      );\n    }\n\n    // Default: show JSON\n    return (\n      <Card className=\"p-4\">\n        <pre className=\"text-sm overflow-auto max-h-96\">{JSON.stringify(state.data, null, 2)}</pre>\n      </Card>\n    );\n  };\n\n  /**\n   * Handle save\n   */\n  const handleSave = () => {\n    // Check for validation errors\n    if (\n      hasValidationErrors(\n        state.hasValidationError,\n        state.repeaterValidationError,\n        state.limitValidationError\n      )\n    ) {\n      return;\n    }\n\n    const updatedContent = {\n      ...block.content,\n      componentType: 'template',\n      template: state.templateEdit,\n      config: state.editConfig,\n    };\n\n    onUpdate(updatedContent, block.style);\n    setEditing(false);\n  };\n\n  // Non-editable mode\n  if (!isEditable) {\n    return <div className=\"dynamic-block-content\">{renderContent()}</div>;\n  }\n\n  // Editable mode with dialog\n  return (\n    <div className=\"relative border-2 border-dashed border-purple-300 rounded-lg p-4 group\">\n      {/* Control Bar */}\n      <div className=\"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10\">\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          onClick={() => setEditing(!state.isEditing)}\n          className=\"bg-white shadow-sm\"\n        >\n          <Settings className=\"w-4 h-4\" />\n        </Button>\n        <Button size=\"sm\" variant=\"destructive\" onClick={onDelete} className=\"shadow-sm\">\n          <Trash2 className=\"w-4 h-4\" />\n        </Button>\n      </div>\n\n      {/* Settings Dialog */}\n      <Dialog open={state.isEditing} onOpenChange={setEditing}>\n        <DialogContent className=\"max-w-7xl h-[95vh] p-0 flex flex-col\">\n          {/* Header */}\n          <DialogHeader className=\"px-8 pt-8 pb-6 border-b bg-gradient-to-r from-slate-50 to-slate-100\">\n            <DialogTitle className=\"flex items-center text-2xl font-bold\">\n              <Grid3x3 className=\"w-6 h-6 mr-3 text-blue-600\" />\n              Dynamic Block Configuration\n            </DialogTitle>\n            <DialogDescription className=\"mt-2 text-base\">\n              Choose a template, configure data source, and customize your block\n            </DialogDescription>\n          </DialogHeader>\n\n          {/* Main Content - 2 Column Layout */}\n          <div className=\"flex-1 flex overflow-hidden\">\n            {/* LEFT: Template Selection */}\n            <TemplateSelectionPanel\n              sampleTemplates={sampleTemplates}\n              selectedTemplate={state.selectedTemplate}\n              onSelectTemplate={handleSelectTemplate}\n              onSelectBlank={() => handleSelectBlankTemplate(state.editConfig)}\n              currentConfig={state.editConfig}\n            />\n\n            {/* RIGHT: Editor & Configuration */}\n            {!state.isFullscreenEditor && (\n              <div className=\"w-1/2 flex flex-col\">\n                {/* Template Editor */}\n                <TemplateEditorPanel\n                  templateEdit={state.templateEdit}\n                  onTemplateChange={setTemplateEdit}\n                  selectedTemplate={state.selectedTemplate}\n                  isFullscreenEditor={state.isFullscreenEditor}\n                  onFullscreenToggle={setFullscreenEditor}\n                />\n\n                {/* Configuration */}\n                <ConfigurationPanel\n                  editConfig={state.editConfig}\n                  onConfigChange={setEditConfig}\n                  staticDataText={state.staticDataText}\n                  onStaticDataChange={setStaticDataText}\n                  onStaticDataBlur={() => validateAndSaveStaticData(state.staticDataText)}\n                  staticDataError={state.staticDataError}\n                  hasStaticValidationError={state.hasValidationError}\n                  repeaterEnabled={state.editConfig.repeater?.enabled || false}\n                  onRepeaterEnabledChange={(checked) => {\n                    setEditConfig({\n                      ...state.editConfig,\n                      repeater: checked\n                        ? {\n                            ...state.editConfig.repeater,\n                            enabled: checked,\n                            data: state.editConfig.repeater?.data || [],\n                          }\n                        : { enabled: false },\n                    });\n                  }}\n                  repeaterDataText={state.repeaterDataText}\n                  onRepeaterDataChange={setRepeaterDataText}\n                  onRepeaterDataBlur={() => validateAndSaveRepeaterData(state.repeaterDataText)}\n                  repeaterDataError={state.repeaterDataError}\n                  hasRepeaterValidationError={state.repeaterValidationError}\n                  repeaterItemsCount={state.repeaterItemsData.length}\n                  limitText={state.limitText}\n                  onLimitChange={setLimitText}\n                  onLimitBlur={() => validateAndSaveLimit(state.limitText)}\n                  limitError={state.limitError}\n                  hasLimitValidationError={state.limitValidationError}\n                  onTestApi={handleTestApi}\n                  apiTestLoading={state.apiTestLoading}\n                  apiTestResult={state.apiTestResult}\n                  apiTestError={state.apiTestError}\n                />\n              </div>\n            )}\n\n            {/* Fullscreen Editor Modal */}\n            {state.isFullscreenEditor && (\n              <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n                <div className=\"bg-white rounded-xl shadow-2xl w-full h-full max-w-7xl max-h-[95vh] flex flex-col overflow-hidden\">\n                  {/* Header */}\n                  <div className=\"border-b px-8 py-5 flex items-center justify-between bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50\">\n                    <div className=\"flex items-center gap-4\">\n                      <Code className=\"w-6 h-6 text-blue-600\" />\n                      <div>\n                        <h2 className=\"text-xl font-bold text-gray-900\">Template HTML Editor</h2>\n                        <p className=\"text-sm text-gray-600 mt-0.5\">\n                          {state.selectedTemplate ? `Editing: ${state.selectedTemplate.name}` : 'Blank Template'}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-3\">\n                      {/* Format Button */}\n                      <Button\n                        onClick={() => {\n                          try {\n                            let formatted = state.templateEdit;\n                            let indent = 0;\n                            const lines = formatted.split('\\n');\n                            const formattedLines = lines.map(line => {\n                              const trimmed = line.trim();\n                              if (!trimmed) return '';\n                              \n                              if (trimmed.startsWith('</')) {\n                                indent = Math.max(0, indent - 1);\n                              }\n                              \n                              const indented = '  '.repeat(indent) + trimmed;\n                              \n                              if (trimmed.startsWith('<') && !trimmed.startsWith('</') && !trimmed.endsWith('/>')) {\n                                indent++;\n                              }\n                              \n                              return indented;\n                            });\n                            \n                            setTemplateEdit(formattedLines.join('\\n'));\n                          } catch (error) {\n                            console.error('Format error:', error);\n                          }\n                        }}\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"h-9 gap-2\"\n                      >\n                        <Settings className=\"w-4 h-4\" />\n                        Format\n                      </Button>\n                      \n                      {/* Close Button */}\n                      <Button\n                        onClick={() => setFullscreenEditor(false)}\n                        variant=\"outline\"\n                        size=\"sm\"\n                        className=\"h-9 w-9 p-0\"\n                        title=\"Exit fullscreen\"\n                      >\n                        <Minimize2 className=\"w-4 h-4\" />\n                      </Button>\n                    </div>\n                  </div>\n\n                  {/* Quick Insert Bar */}\n                  <div className=\"border-b px-8 py-3 bg-gray-50 flex items-center gap-2\">\n                    <span className=\"text-xs font-semibold text-gray-700 mr-2\">Quick Insert:</span>\n                    <Button\n                      onClick={() => insertSnippetFullscreen('{{variable}}')}\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-7 px-3 text-xs font-mono hover:bg-blue-100\"\n                    >\n                      {'{{var}}'}\n                    </Button>\n                    <Button\n                      onClick={() => insertSnippetFullscreen('{{#each items}}\\n  \\n{{/each}}')}\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-7 px-3 text-xs font-mono hover:bg-blue-100\"\n                    >\n                      {'{{#each}}'}\n                    </Button>\n                    <Button\n                      onClick={() => insertSnippetFullscreen('{{#if condition}}\\n  \\n{{/if}}')}\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-7 px-3 text-xs font-mono hover:bg-blue-100\"\n                    >\n                      {'{{#if}}'}\n                    </Button>\n                    <div className=\"h-4 w-px bg-gray-300 mx-1\" />\n                    <Button\n                      onClick={() => insertSnippetFullscreen('<div class=\"container\">\\n  \\n</div>')}\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-7 px-3 text-xs font-mono hover:bg-green-100\"\n                    >\n                      {'<div>'}\n                    </Button>\n                    <Button\n                      onClick={() => insertSnippetFullscreen('<h2 class=\"title\"></h2>')}\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-7 px-3 text-xs font-mono hover:bg-green-100\"\n                    >\n                      {'<h2>'}\n                    </Button>\n                    <Button\n                      onClick={() => insertSnippetFullscreen('<p class=\"text\"></p>')}\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-7 px-3 text-xs font-mono hover:bg-green-100\"\n                    >\n                      {'<p>'}\n                    </Button>\n                    <Button\n                      onClick={() => insertSnippetFullscreen('<button class=\"btn\"></button>')}\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"h-7 px-3 text-xs font-mono hover:bg-green-100\"\n                    >\n                      {'<button>'}\n                    </Button>\n                    <div className=\"flex-1\" />\n                    <div className=\"flex items-center gap-2 text-xs text-gray-600\">\n                      <span className=\"font-mono bg-white px-2 py-1 rounded border\">\n                        {state.templateEdit.split('\\n').length} lines\n                      </span>\n                      <span className=\"font-mono bg-white px-2 py-1 rounded border\">\n                        {state.templateEdit.length} chars\n                      </span>\n                    </div>\n                  </div>\n\n                  {/* Editor Area */}\n                  <div className=\"flex-1 overflow-hidden flex\">\n                    {/* Left: Code Editor */}\n                    <div className=\"flex-1 flex flex-col overflow-hidden\">\n                      <div className=\"flex-1 overflow-auto p-6\">\n                        <textarea\n                          ref={fullscreenTextareaRef}\n                          placeholder={`<!-- Example HTML Template with Handlebars syntax -->\\n<div class=\"container mx-auto p-6\">\\n  <h1 class=\"text-3xl font-bold\">{{title}}</h1>\\n  <p class=\"text-gray-600 mt-2\">{{description}}</p>\\n  \\n  {{#each items}}\\n    <div class=\"card mt-4 p-4 border rounded-lg shadow\">\\n      <h3 class=\"text-xl font-semibold\">{{this.name}}</h3>\\n      <p class=\"text-gray-700\">{{this.description}}</p>\\n      {{#if this.price}}\\n        <span class=\"text-lg font-bold text-blue-600\">\\${{this.price}}</span>\\n      {{/if}}\\n    </div>\\n  {{/each}}\\n</div>`}\n                          value={state.templateEdit}\n                          onChange={(e) => setTemplateEdit(e.target.value)}\n                          onKeyDown={(e) => {\n                            if (e.key === 'Tab') {\n                              e.preventDefault();\n                              const start = e.currentTarget.selectionStart;\n                              const end = e.currentTarget.selectionEnd;\n                              const newValue = state.templateEdit.substring(0, start) + '  ' + state.templateEdit.substring(end);\n                              setTemplateEdit(newValue);\n                              setTimeout(() => {\n                                if (fullscreenTextareaRef.current) {\n                                  fullscreenTextareaRef.current.selectionStart = fullscreenTextareaRef.current.selectionEnd = start + 2;\n                                }\n                              }, 0);\n                            }\n                          }}\n                          className=\"w-full h-full font-mono text-sm resize-none p-4 border-2 border-gray-200 rounded-lg focus:border-blue-400 focus:outline-none bg-white\"\n                          style={{\n                            lineHeight: '1.6',\n                            tabSize: 2,\n                          }}\n                        />\n                      </div>\n                    </div>\n\n                    {/* Right: Syntax Guide */}\n                    <div className=\"w-80 border-l border-gray-200 bg-gray-50 overflow-y-auto\">\n                      <div className=\"p-6 space-y-6\">\n                        <div>\n                          <h3 className=\"text-sm font-bold text-gray-900 mb-3\">Handlebars Syntax</h3>\n                          <div className=\"space-y-3\">\n                            <div className=\"bg-white p-3 rounded-lg border\">\n                              <code className=\"text-xs font-mono text-blue-600\">{'{{variable}}'}</code>\n                              <p className=\"text-xs text-gray-600 mt-1\">Display variable value</p>\n                            </div>\n                            <div className=\"bg-white p-3 rounded-lg border\">\n                              <code className=\"text-xs font-mono text-blue-600\">{'{{#each items}}'}<br/>{'  {{this.name}}'}<br/>{'{{/each}}'}</code>\n                              <p className=\"text-xs text-gray-600 mt-1\">Loop through array</p>\n                            </div>\n                            <div className=\"bg-white p-3 rounded-lg border\">\n                              <code className=\"text-xs font-mono text-blue-600\">{'{{#if condition}}'}<br/>{'  ...'}<br/>{'{{/if}}'}</code>\n                              <p className=\"text-xs text-gray-600 mt-1\">Conditional rendering</p>\n                            </div>\n                            <div className=\"bg-white p-3 rounded-lg border\">\n                              <code className=\"text-xs font-mono text-blue-600\">{'{{this.property}}'}</code>\n                              <p className=\"text-xs text-gray-600 mt-1\">Access property in loop</p>\n                            </div>\n                          </div>\n                        </div>\n\n                        <div>\n                          <h3 className=\"text-sm font-bold text-gray-900 mb-3\">TailwindCSS Classes</h3>\n                          <div className=\"space-y-2 text-xs\">\n                            <div className=\"bg-white p-2 rounded border\">\n                              <code className=\"font-mono text-purple-600\">container mx-auto</code>\n                              <p className=\"text-gray-600 mt-0.5\">Center container</p>\n                            </div>\n                            <div className=\"bg-white p-2 rounded border\">\n                              <code className=\"font-mono text-purple-600\">p-4 m-2</code>\n                              <p className=\"text-gray-600 mt-0.5\">Padding & margin</p>\n                            </div>\n                            <div className=\"bg-white p-2 rounded border\">\n                              <code className=\"font-mono text-purple-600\">text-xl font-bold</code>\n                              <p className=\"text-gray-600 mt-0.5\">Text styles</p>\n                            </div>\n                            <div className=\"bg-white p-2 rounded border\">\n                              <code className=\"font-mono text-purple-600\">bg-blue-500 text-white</code>\n                              <p className=\"text-gray-600 mt-0.5\">Colors</p>\n                            </div>\n                            <div className=\"bg-white p-2 rounded border\">\n                              <code className=\"font-mono text-purple-600\">rounded-lg shadow</code>\n                              <p className=\"text-gray-600 mt-0.5\">Border & shadow</p>\n                            </div>\n                          </div>\n                        </div>\n\n                        <div>\n                          <h3 className=\"text-sm font-bold text-gray-900 mb-3\">Tips</h3>\n                          <ul className=\"text-xs text-gray-700 space-y-2\">\n                            <li className=\"flex gap-2\">\n                              <span className=\"text-green-600\">✓</span>\n                              <span>Press Tab for indentation</span>\n                            </li>\n                            <li className=\"flex gap-2\">\n                              <span className=\"text-green-600\">✓</span>\n                              <span>Use Format button to auto-indent</span>\n                            </li>\n                            <li className=\"flex gap-2\">\n                              <span className=\"text-green-600\">✓</span>\n                              <span>Quick insert adds snippets</span>\n                            </li>\n                            <li className=\"flex gap-2\">\n                              <span className=\"text-green-600\">✓</span>\n                              <span>Combine HTML + Tailwind CSS</span>\n                            </li>\n                          </ul>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Footer */}\n                  <div className=\"border-t px-8 py-4 flex gap-3 justify-end bg-white\">\n                    <Button \n                      onClick={() => setFullscreenEditor(false)} \n                      variant=\"outline\" \n                      size=\"sm\"\n                      className=\"h-9 px-4\"\n                    >\n                      Close Editor\n                    </Button>\n                    <Button \n                      onClick={() => setFullscreenEditor(false)}\n                      size=\"sm\"\n                      className=\"h-9 px-6 bg-blue-600 hover:bg-blue-700\"\n                    >\n                      <Check className=\"w-4 h-4 mr-2\" />\n                      Apply Changes\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Footer - Action Buttons */}\n          <div className=\"border-t px-6 py-4 flex gap-2 justify-end bg-white\">\n            <Button onClick={() => setEditing(false)} variant=\"outline\" size=\"sm\">\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSave}\n              className=\"min-w-32\"\n              size=\"sm\"\n              disabled={hasValidationErrors(\n                state.hasValidationError,\n                state.repeaterValidationError,\n                state.limitValidationError\n              )}\n              title={\n                hasValidationErrors(\n                  state.hasValidationError,\n                  state.repeaterValidationError,\n                  state.limitValidationError\n                )\n                  ? 'Please fix errors before saving'\n                  : ''\n              }\n            >\n              Save Changes\n            </Button>\n            {hasValidationErrors(\n              state.hasValidationError,\n              state.repeaterValidationError,\n              state.limitValidationError\n            ) && (\n              <span className=\"text-xs text-red-600 flex items-center\">⚠️ Fix errors to save</span>\n            )}\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      {/* Dynamic Content Display */}\n      <div className=\"mt-8\">\n        <div className=\"text-xs text-gray-500 mb-2 flex items-center\">\n          <Code className=\"w-3 h-3 mr-1\" />\n          Dynamic Block\n          {config?.templateName && ` - ${config.templateName}`}\n        </div>\n        {renderContent()}\n      </div>\n    </div>\n  );\n};\n\nexport default DynamicBlock;\n","/**\n * Custom Hook: useDynamicBlockState\n * Centralized state management using useReducer\n * Prevents infinite loops and simplifies state management\n */\n\nimport { useReducer, useCallback } from 'react';\nimport { DynamicBlockState, DynamicBlockAction } from './types';\nimport { DynamicBlockConfig } from '@/types/page-builder';\n\n/**\n * Initial state factory\n */\nfunction createInitialState(config: DynamicBlockConfig, template: string): DynamicBlockState {\n  return {\n    isEditing: false,\n    isFullscreenEditor: false,\n    editConfig: config || {},\n    selectedTemplate: null,\n    templateEdit: template || '',\n    data: null,\n    loading: false,\n    error: null,\n    staticDataText: '',\n    staticDataError: null,\n    hasValidationError: false,\n    repeaterDataText: '',\n    repeaterDataError: null,\n    repeaterValidationError: false,\n    repeaterItemsData: [],\n    limitText: '',\n    limitError: null,\n    limitValidationError: false,\n    apiTestResult: null,\n    apiTestLoading: false,\n    apiTestError: null,\n  };\n}\n\n/**\n * Reducer function - centralized state updates\n */\nfunction dynamicBlockReducer(state: DynamicBlockState, action: DynamicBlockAction): DynamicBlockState {\n  switch (action.type) {\n    // UI Actions\n    case 'SET_EDITING':\n      return { ...state, isEditing: action.payload };\n    \n    case 'SET_FULLSCREEN_EDITOR':\n      return { ...state, isFullscreenEditor: action.payload };\n    \n    // Config & Template Actions\n    case 'SET_EDIT_CONFIG':\n      return { ...state, editConfig: action.payload };\n    \n    case 'SET_SELECTED_TEMPLATE':\n      return { ...state, selectedTemplate: action.payload };\n    \n    case 'SET_TEMPLATE_EDIT':\n      return { ...state, templateEdit: action.payload };\n    \n    // Data Loading\n    case 'SET_DATA_LOADING':\n      return { ...state, loading: action.payload };\n    \n    case 'SET_DATA':\n      return { ...state, data: action.payload, error: null };\n    \n    case 'SET_ERROR':\n      return { ...state, error: action.payload };\n    \n    // Static Data Validation\n    case 'SET_STATIC_DATA_TEXT':\n      return { ...state, staticDataText: action.payload };\n    \n    case 'SET_STATIC_DATA_ERROR':\n      return {\n        ...state,\n        staticDataError: action.payload.error,\n        hasValidationError: action.payload.hasError,\n      };\n    \n    case 'RESET_STATIC_DATA_VALIDATION':\n      return {\n        ...state,\n        staticDataError: null,\n        hasValidationError: false,\n      };\n    \n    // Repeater Data Validation\n    case 'SET_REPEATER_DATA_TEXT':\n      return { ...state, repeaterDataText: action.payload };\n    \n    case 'SET_REPEATER_DATA_ERROR':\n      return {\n        ...state,\n        repeaterDataError: action.payload.error,\n        repeaterValidationError: action.payload.hasError,\n        repeaterItemsData: action.payload.items,\n      };\n    \n    case 'RESET_REPEATER_DATA_VALIDATION':\n      return {\n        ...state,\n        repeaterDataError: null,\n        repeaterValidationError: false,\n      };\n    \n    // Limit Validation\n    case 'SET_LIMIT_TEXT':\n      return { ...state, limitText: action.payload };\n    \n    case 'SET_LIMIT_ERROR':\n      return {\n        ...state,\n        limitError: action.payload.error,\n        limitValidationError: action.payload.hasError,\n      };\n    \n    case 'RESET_LIMIT_VALIDATION':\n      return {\n        ...state,\n        limitError: null,\n        limitValidationError: false,\n      };\n    \n    // API Testing\n    case 'SET_API_TEST_LOADING':\n      return { ...state, apiTestLoading: action.payload };\n    \n    case 'SET_API_TEST_RESULT':\n      return { ...state, apiTestResult: action.payload, apiTestError: null };\n    \n    case 'SET_API_TEST_ERROR':\n      return { ...state, apiTestError: action.payload };\n    \n    case 'RESET_API_TEST':\n      return {\n        ...state,\n        apiTestResult: null,\n        apiTestLoading: false,\n        apiTestError: null,\n      };\n    \n    default:\n      return state;\n  }\n}\n\n/**\n * Custom Hook: useDynamicBlockState\n * Manages all state for DynamicBlock component\n */\nexport function useDynamicBlockState(config: DynamicBlockConfig, template: string) {\n  const [state, dispatch] = useReducer(\n    dynamicBlockReducer,\n    { config, template },\n    ({ config, template }) => createInitialState(config, template)\n  );\n\n  // UI Actions - memoized callbacks\n  const setEditing = useCallback((value: boolean) => {\n    dispatch({ type: 'SET_EDITING', payload: value });\n  }, []);\n\n  const setFullscreenEditor = useCallback((value: boolean) => {\n    dispatch({ type: 'SET_FULLSCREEN_EDITOR', payload: value });\n  }, []);\n\n  // Config & Template Actions\n  const setEditConfig = useCallback((config: DynamicBlockConfig) => {\n    dispatch({ type: 'SET_EDIT_CONFIG', payload: config });\n  }, []);\n\n  const setSelectedTemplate = useCallback((template: any | null) => {\n    dispatch({ type: 'SET_SELECTED_TEMPLATE', payload: template });\n  }, []);\n\n  const setTemplateEdit = useCallback((template: string) => {\n    dispatch({ type: 'SET_TEMPLATE_EDIT', payload: template });\n  }, []);\n\n  // Data Actions\n  const setLoading = useCallback((loading: boolean) => {\n    dispatch({ type: 'SET_DATA_LOADING', payload: loading });\n  }, []);\n\n  const setData = useCallback((data: any) => {\n    dispatch({ type: 'SET_DATA', payload: data });\n  }, []);\n\n  const setError = useCallback((error: string | null) => {\n    dispatch({ type: 'SET_ERROR', payload: error });\n  }, []);\n\n  // Static Data Validation\n  const setStaticDataText = useCallback((text: string) => {\n    dispatch({ type: 'SET_STATIC_DATA_TEXT', payload: text });\n  }, []);\n\n  const setStaticDataError = useCallback((error: string | null, hasError: boolean) => {\n    dispatch({ type: 'SET_STATIC_DATA_ERROR', payload: { error, hasError } });\n  }, []);\n\n  const resetStaticDataValidation = useCallback(() => {\n    dispatch({ type: 'RESET_STATIC_DATA_VALIDATION' });\n  }, []);\n\n  // Repeater Data Validation\n  const setRepeaterDataText = useCallback((text: string) => {\n    dispatch({ type: 'SET_REPEATER_DATA_TEXT', payload: text });\n  }, []);\n\n  const setRepeaterDataError = useCallback((error: string | null, hasError: boolean, items: any[] = []) => {\n    dispatch({ type: 'SET_REPEATER_DATA_ERROR', payload: { error, hasError, items } });\n  }, []);\n\n  const resetRepeaterDataValidation = useCallback(() => {\n    dispatch({ type: 'RESET_REPEATER_DATA_VALIDATION' });\n  }, []);\n\n  // Limit Validation\n  const setLimitText = useCallback((text: string) => {\n    dispatch({ type: 'SET_LIMIT_TEXT', payload: text });\n  }, []);\n\n  const setLimitError = useCallback((error: string | null, hasError: boolean) => {\n    dispatch({ type: 'SET_LIMIT_ERROR', payload: { error, hasError } });\n  }, []);\n\n  const resetLimitValidation = useCallback(() => {\n    dispatch({ type: 'RESET_LIMIT_VALIDATION' });\n  }, []);\n\n  // API Testing\n  const setApiTestLoading = useCallback((loading: boolean) => {\n    dispatch({ type: 'SET_API_TEST_LOADING', payload: loading });\n  }, []);\n\n  const setApiTestResult = useCallback((result: any) => {\n    dispatch({ type: 'SET_API_TEST_RESULT', payload: result });\n  }, []);\n\n  const setApiTestError = useCallback((error: string | null) => {\n    dispatch({ type: 'SET_API_TEST_ERROR', payload: error });\n  }, []);\n\n  const resetApiTest = useCallback(() => {\n    dispatch({ type: 'RESET_API_TEST' });\n  }, []);\n\n  return {\n    state,\n    // UI Actions\n    setEditing,\n    setFullscreenEditor,\n    // Config & Template Actions\n    setEditConfig,\n    setSelectedTemplate,\n    setTemplateEdit,\n    // Data Actions\n    setLoading,\n    setData,\n    setError,\n    // Static Data Validation\n    setStaticDataText,\n    setStaticDataError,\n    resetStaticDataValidation,\n    // Repeater Data Validation\n    setRepeaterDataText,\n    setRepeaterDataError,\n    resetRepeaterDataValidation,\n    // Limit Validation\n    setLimitText,\n    setLimitError,\n    resetLimitValidation,\n    // API Testing\n    setApiTestLoading,\n    setApiTestResult,\n    setApiTestError,\n    resetApiTest,\n  };\n}\n","/**\n * Custom Hook: useDynamicBlockData\n * Handles data fetching from different sources\n */\n\nimport { useEffect } from 'react';\nimport { DynamicBlockConfig } from '@/types/page-builder';\n\ninterface UseDynamicBlockDataParams {\n  config: DynamicBlockConfig;\n  onDataLoaded: (data: any) => void;\n  onLoading: (loading: boolean) => void;\n  onError: (error: string | null) => void;\n}\n\nexport function useDynamicBlockData({\n  config,\n  onDataLoaded,\n  onLoading,\n  onError,\n}: UseDynamicBlockDataParams) {\n  useEffect(() => {\n    if (!config?.dataSource) return;\n\n    const fetchData = async () => {\n      onLoading(true);\n      onError(null);\n\n      try {\n        const dataSource = config.dataSource;\n        if (!dataSource) return;\n\n        if (dataSource.type === 'static') {\n          console.log('Static data loaded:', dataSource.staticData);\n        \n          onDataLoaded(dataSource.staticData);\n        } else if (dataSource.type === 'api') {\n          const data = await fetchFromAPI(dataSource);\n          onDataLoaded(data);\n        } else if (dataSource.type === 'graphql') {\n          const data = await fetchFromGraphQL(dataSource);\n          onDataLoaded(data);\n        }\n      } catch (err) {\n        onError(err instanceof Error ? err.message : 'Failed to fetch data');\n      } finally {\n        onLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [config, onDataLoaded, onLoading, onError]);\n}\n\n/**\n * Fetch from REST API\n */\nasync function fetchFromAPI(dataSource: any) {\n  const headers: Record<string, string> = {\n    'Content-Type': 'application/json',\n  };\n\n  if (dataSource.token) {\n    headers['Authorization'] = `Bearer ${dataSource.token}`;\n  }\n\n  const method = dataSource.method || 'POST';\n  const body = method === 'POST' ? JSON.stringify(dataSource.variables || {}) : undefined;\n\n  const response = await fetch(dataSource.endpoint || '', {\n    method,\n    headers,\n    body,\n  });\n\n  if (!response.ok) {\n    throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n  }\n\n  return await response.json();\n}\n\n/**\n * Fetch from GraphQL endpoint\n */\nasync function fetchFromGraphQL(dataSource: any) {\n  const headers: Record<string, string> = {\n    'Content-Type': 'application/json',\n  };\n\n  if (dataSource.token) {\n    headers['Authorization'] = `Bearer ${dataSource.token}`;\n  }\n\n  const response = await fetch(dataSource.endpoint || '/graphql', {\n    method: 'POST',\n    headers,\n    body: JSON.stringify({\n      query: dataSource.query,\n      variables: dataSource.variables,\n    }),\n  });\n\n  if (!response.ok) {\n    throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n  }\n\n  const result = await response.json();\n  \n  if (result.errors) {\n    throw new Error(result.errors[0]?.message || 'GraphQL Error');\n  }\n\n  return result.data;\n}\n\n/**\n * Test API/GraphQL connection\n */\nexport async function testAPIConnection(dataSource: any) {\n  try {\n    if (dataSource.type === 'graphql') {\n      return await fetchFromGraphQL(dataSource);\n    } else if (dataSource.type === 'api') {\n      return await fetchFromAPI(dataSource);\n    }\n  } catch (err) {\n    throw err;\n  }\n}\n","/**\n * Custom Hook: useTemplateSelection\n * Handles template selection and initialization logic\n */\n\nimport { useCallback } from 'react';\nimport { DynamicBlockConfig } from '@/types/page-builder';\n\ninterface UseTemplateSelectionParams {\n  onConfigChange: (config: DynamicBlockConfig) => void;\n  onTemplateChange: (template: string) => void;\n  onSelectedTemplateChange: (template: any) => void;\n  onDataChange: (data: any) => void;\n  onErrorsReset: () => void;\n}\n\nexport function useTemplateSelection({\n  onConfigChange,\n  onTemplateChange,\n  onSelectedTemplateChange,\n  onDataChange,\n  onErrorsReset,\n}: UseTemplateSelectionParams) {\n  /**\n   * Handle template selection\n   */\n  const handleSelectTemplate = useCallback(\n    (template: any) => {\n      // Validate template structure\n      if (!template || !template.id) {\n        console.warn('Invalid template structure');\n        return;\n      }      \n      // Select the template\n      onSelectedTemplateChange(template);\n      onTemplateChange(template.template);\n\n      // Create new config with deep copy\n      const newConfig: DynamicBlockConfig = {\n        templateId: template.id,\n        templateName: template.name,\n        dataSource: {\n          type: template.dataSource?.type || 'static',\n          staticData: template.dataSource?.staticData\n            ? JSON.parse(JSON.stringify(template.dataSource.staticData))\n            : undefined,\n          endpoint: template.dataSource?.endpoint,\n          query: template.dataSource?.query,\n          variables: template.dataSource?.variables\n            ? JSON.parse(JSON.stringify(template.dataSource.variables))\n            : undefined,\n        },\n        variables: template.variables \n          ? JSON.parse(JSON.stringify(template.variables))\n          : {},\n      };\n\n      onConfigChange(newConfig);\n\n      // Update preview data\n      if (newConfig.dataSource?.type === 'static' && newConfig.dataSource?.staticData) {\n        onDataChange(newConfig.dataSource.staticData);\n      }\n\n      // Reset validation errors\n      onErrorsReset();\n    },\n    [onConfigChange, onTemplateChange, onSelectedTemplateChange, onDataChange, onErrorsReset]\n  );\n\n  /**\n   * Handle blank template selection\n   */\n  const handleSelectBlankTemplate = useCallback(\n    (currentConfig: DynamicBlockConfig) => {\n      const blankConfig: DynamicBlockConfig = {\n        ...currentConfig,\n        templateId: undefined,\n        templateName: 'Custom Template',\n        dataSource: { type: 'static', staticData: {} },\n        variables: {},\n      };\n\n      onSelectedTemplateChange(null);\n      onTemplateChange('');\n      onConfigChange(blankConfig);\n      onErrorsReset();\n    },\n    [onConfigChange, onTemplateChange, onSelectedTemplateChange, onErrorsReset]\n  );\n\n  return {\n    handleSelectTemplate,\n    handleSelectBlankTemplate,\n  };\n}\n","/**\n * Validation Utilities\n * All validation logic centralized here\n */\n\n/**\n * Validate and parse JSON string\n * @returns { isValid: boolean, data: any, error?: string }\n */\nexport function validateJSON(jsonStr: string, isArray: boolean = false) {\n  const trimmed = jsonStr.trim();\n  \n  // Empty is valid (defaults to {} or [])\n  if (!trimmed || trimmed === (isArray ? '[]' : '{}')) {\n    return {\n      isValid: true,\n      data: isArray ? [] : {},\n      error: null,\n    };\n  }\n\n  try {\n    const parsed = JSON.parse(trimmed);\n    \n    // Type check if array expected\n    if (isArray && !Array.isArray(parsed)) {\n      return {\n        isValid: false,\n        data: null,\n        error: 'Dữ liệu phải là một array',\n      };\n    }\n\n    return {\n      isValid: true,\n      data: parsed,\n      error: null,\n    };\n  } catch (err) {\n    return {\n      isValid: false,\n      data: null,\n      error: 'JSON format không hợp lệ - Kiểm tra lại cú pháp',\n    };\n  }\n}\n\n/**\n * Validate limit number\n * @returns { isValid: boolean, value?: number, error?: string }\n */\nexport function validateLimit(limitStr: string) {\n  const trimmed = limitStr.trim();\n\n  // Empty is valid (no limit)\n  if (!trimmed) {\n    return {\n      isValid: true,\n      value: undefined,\n      error: null,\n    };\n  }\n\n  const value = parseInt(trimmed);\n  \n  if (isNaN(value)) {\n    return {\n      isValid: false,\n      value: null,\n      error: 'Limit phải là một số',\n    };\n  }\n\n  if (value <= 0) {\n    return {\n      isValid: false,\n      value: null,\n      error: 'Limit phải lớn hơn 0',\n    };\n  }\n\n  return {\n    isValid: true,\n    value,\n    error: null,\n  };\n}\n\n/**\n * Check if there are any validation errors\n */\nexport function hasValidationErrors(\n  staticError: boolean,\n  repeaterError: boolean,\n  limitError: boolean\n): boolean {\n  return staticError || repeaterError || limitError;\n}\n","/**\n * Custom Hook: useDataValidation\n * Handles all data validation logic\n */\n\nimport { useCallback } from 'react';\nimport { DynamicBlockConfig } from '@/types/page-builder';\nimport { validateJSON, validateLimit } from './validationUtils';\n\ninterface UseDataValidationParams {\n  editConfig: DynamicBlockConfig;\n  onConfigChange: (config: DynamicBlockConfig) => void;\n  onDataChange: (data: any) => void;\n  // Static Data\n  onStaticDataError: (error: string | null, hasError: boolean) => void;\n  // Repeater Data\n  onRepeaterDataError: (error: string | null, hasError: boolean, items: any[]) => void;\n  // Limit\n  onLimitError: (error: string | null, hasError: boolean) => void;\n}\n\nexport function useDataValidation({\n  editConfig,\n  onConfigChange,\n  onDataChange,\n  onStaticDataError,\n  onRepeaterDataError,\n  onLimitError,\n}: UseDataValidationParams) {\n  /**\n   * Validate and save static data\n   */\n  const validateAndSaveStaticData = useCallback(\n    (jsonText: string) => {\n      const validation = validateJSON(jsonText, false);\n\n      if (!validation.isValid) {\n        onStaticDataError(validation.error || 'Invalid JSON', true);\n        return;\n      }\n\n      // Update config and data\n      onConfigChange({\n        ...editConfig,\n        dataSource: {\n          ...editConfig.dataSource,\n          type: 'static',\n          staticData: validation.data,\n        },\n      });\n\n      onDataChange(validation.data);\n      onStaticDataError(null, false);\n    },\n    [editConfig, onConfigChange, onDataChange, onStaticDataError]\n  );\n\n  /**\n   * Validate and save repeater data\n   */\n  const validateAndSaveRepeaterData = useCallback(\n    (jsonText: string) => {\n      const validation = validateJSON(jsonText, true);\n\n      if (!validation.isValid) {\n        onRepeaterDataError(validation.error || 'Invalid JSON', true, []);\n        return;\n      }\n\n      const items = validation.data as any[];\n\n      onConfigChange({\n        ...editConfig,\n        repeater: {\n          ...editConfig.repeater,\n          data: items,\n          enabled: editConfig.repeater?.enabled ?? true,\n        },\n      });\n\n      onRepeaterDataError(null, false, items);\n    },\n    [editConfig, onConfigChange, onRepeaterDataError]\n  );\n\n  /**\n   * Validate and save limit\n   */\n  const validateAndSaveLimit = useCallback(\n    (limitStr: string) => {\n      const validation = validateLimit(limitStr);\n\n      if (!validation.isValid) {\n        onLimitError(validation.error || 'Invalid limit', true);\n        return;\n      }\n\n      onConfigChange({\n        ...editConfig,\n        repeater: {\n          ...editConfig.repeater,\n          enabled: true,\n          limit: validation.value || undefined,\n        },\n      });\n\n      onLimitError(null, false);\n    },\n    [editConfig, onConfigChange, onLimitError]\n  );\n\n  return {\n    validateAndSaveStaticData,\n    validateAndSaveRepeaterData,\n    validateAndSaveLimit,\n  };\n}\n","/**\n * Template Processing Utilities\n * All template rendering logic\n */\n\n/**\n * Process Handlebars-like template syntax\n * Supports: {{variable}}, {{#each array}}, {{#if condition}}, {{#repeat count}}\n */\nexport function processTemplate(template: string, data: any): string {\n  if (!template || !data) return '';\n  \n  let result = template;\n\n  // Process repeat helper (e.g., {{#repeat rating}}) - FIRST before loops\n  const repeatRegex = /{{#repeat\\s+(\\w+)}}([\\s\\S]*?){{\\/repeat}}/g;\n  result = result.replace(repeatRegex, (match: string, countVar: string, repeatTemplate: string) => {\n    const count = data[countVar] || 0;\n    return Array(count).fill(repeatTemplate).join('');\n  });\n\n  // Process conditional blocks ({{#if condition}}) - BEFORE loops\n  const ifRegex = /{{#if\\s+(\\w+)}}([\\s\\S]*?){{\\/if}}/g;\n  result = result.replace(ifRegex, (match: string, condition: string, ifTemplate: string) => {\n    return data[condition] ? ifTemplate : '';\n  });\n\n  // Process simple loops\n  const loopRegex = /{{#each\\s+(\\w+)}}([\\s\\S]*?){{\\/each}}/g;\n  result = result.replace(loopRegex, (match: string, arrayName: string, loopTemplate: string) => {\n    const array = data[arrayName];\n    if (Array.isArray(array)) {\n      return array.map(item => {\n        let itemResult = loopTemplate;\n        \n        // Replace item properties\n        Object.entries(item).forEach(([key, value]) => {\n          const regex = new RegExp(`{{\\\\s*this\\\\.${key}\\\\s*}}`, 'g');\n          itemResult = itemResult.replace(regex, String(value));\n        });\n        \n        // Handle repeat within loops (for star ratings)\n        const itemRepeatRegex = /{{#repeat\\s+(\\w+)}}([\\s\\S]*?){{\\/repeat}}/g;\n        itemResult = itemResult.replace(itemRepeatRegex, (m: string, cv: string, rt: string) => {\n          const count = item[cv] || 0;\n          return Array(count).fill(rt).join('');\n        });\n        \n        return itemResult;\n      }).join('');\n    }\n    return '';\n  });\n\n  // Replace remaining simple variables (outside loops) - LAST\n  Object.entries(data).forEach(([key, value]) => {\n    // Skip arrays and complex objects\n    if (Array.isArray(value) || (typeof value === 'object' && value !== null)) {\n      return;\n    }\n    const regex = new RegExp(`{{\\\\s*${key}\\\\s*}}`, 'g');\n    result = result.replace(regex, String(value));\n  });\n\n  return result;\n}\n\n/**\n * Evaluate condition against item\n */\nexport function evaluateCondition(\n  item: any,\n  field: string,\n  operator: string,\n  value: any\n): boolean {\n  const fieldValue = item[field];\n\n  switch (operator) {\n    case 'equals':\n      return fieldValue === value;\n    case 'notEquals':\n      return fieldValue !== value;\n    case 'contains':\n      return String(fieldValue).includes(String(value));\n    case 'greaterThan':\n      return Number(fieldValue) > Number(value);\n    case 'lessThan':\n      return Number(fieldValue) < Number(value);\n    case 'exists':\n      return fieldValue !== null && fieldValue !== undefined;\n    default:\n      return true;\n  }\n}\n\n/**\n * Apply all conditions to item\n */\nexport function evaluateAllConditions(\n  item: any,\n  conditions?: Array<{ field: string; operator: string; value: any; logic?: 'AND' | 'OR' }>\n): boolean {\n  if (!conditions || conditions.length === 0) return true;\n\n  return conditions.every((condition, index) => {\n    const result = evaluateCondition(item, condition.field, condition.operator, condition.value);\n    \n    // Handle OR logic\n    if (index > 0 && conditions[index - 1]?.logic === 'OR') {\n      return result;\n    }\n    \n    return result;\n  });\n}\n","/**\n * Sample Templates for Dynamic Blocks\n * \n * Pre-configured templates with example data that are automatically set up\n * when users add a Dynamic Block to their page\n */\n\nexport interface SampleTemplate {\n  id: string;\n  name: string;\n  description: string;\n  template: string;\n  dataSource: {\n    type: 'static' | 'graphql' | 'api';\n    data?: any;\n    staticData?: any;\n    query?: string;\n    variables?: any;\n    endpoint?: string;\n  };\n  variables: Record<string, any>;\n  preview?: string;\n}\n\n/**\n * Product Grid Template\n * Perfect for showcasing featured products\n */\nexport const productGridTemplate: SampleTemplate = {\n  id: 'product-grid',\n  name: 'Product Grid',\n  description: 'Display products in a responsive grid with images, prices, and descriptions',\n  template: `\n<div class=\"product-grid-container p-8 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg\">\n  <h2 class=\"text-3xl font-bold mb-2\">{{title}}</h2>\n  <p class=\"text-gray-600 mb-6\">{{subtitle}}</p>\n  \n  <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n    {{#each products}}\n    <div class=\"product-card bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden\">\n      <img src=\"{{this.image}}\" alt=\"{{this.name}}\" class=\"w-full h-48 object-cover\" />\n      <div class=\"p-4\">\n        <h3 class=\"font-semibold text-lg mb-2\">{{this.name}}</h3>\n        <p class=\"text-gray-600 text-sm mb-3\">{{this.description}}</p>\n        <div class=\"flex justify-between items-center\">\n          <span class=\"text-xl font-bold text-blue-600\">{{this.price}}</span>\n          <button class=\"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors\">\n            View Details\n          </button>\n        </div>\n      </div>\n    </div>\n    {{/each}}\n  </div>\n</div>\n  `,\n  dataSource: {\n    type: 'static',\n    staticData: {\n      title: 'Featured Products',\n      subtitle: 'Discover our best-selling products with premium quality and affordable prices',\n      products: [\n        {\n          id: 1,\n          name: 'MacBook Pro M3',\n          price: '$1,999',\n          description: 'Powerful laptop for professionals with M3 chip and stunning display',\n          image: 'https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=400&h=300&fit=crop',\n        },\n        {\n          id: 2,\n          name: 'iPhone 15 Pro',\n          price: '$1,099',\n          description: 'Latest smartphone with advanced camera system and A17 Pro chip',\n          image: 'https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400&h=300&fit=crop',\n        },\n        {\n          id: 3,\n          name: 'AirPods Pro',\n          price: '$249',\n          description: 'Premium wireless earbuds with noise cancellation and spatial audio',\n          image: 'https://images.unsplash.com/photo-1606220945770-b5b6c2c55bf1?w=400&h=300&fit=crop',\n        },\n      ],\n    },\n  },\n  variables: {},\n};\n\n/**\n * Task Dashboard Template\n * Great for project management and task organization\n */\nexport const taskDashboardTemplate: SampleTemplate = {\n  id: 'task-dashboard',\n  name: 'Task Dashboard',\n  description: 'Organize tasks in a Kanban-style dashboard with status columns',\n  template: `\n<div class=\"task-dashboard-container p-8 bg-gray-50 rounded-lg\">\n  <h2 class=\"text-3xl font-bold mb-2\">{{projectName}}</h2>\n  <p class=\"text-gray-600 mb-6\">Track your project progress across different stages</p>\n  \n  <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n    <!-- Todo Column -->\n    <div class=\"column bg-white rounded-lg shadow-md p-4\">\n      <h3 class=\"font-bold text-lg mb-4 text-red-600\">📋 To Do ({{todoCount}})</h3>\n      <div class=\"space-y-3\">\n        {{#each todoTasks}}\n        <div class=\"task-card bg-red-50 p-3 rounded-lg border-l-4 border-red-500\">\n          <h4 class=\"font-semibold\">{{this.title}}</h4>\n          <p class=\"text-sm text-gray-600\">{{this.description}}</p>\n          <div class=\"mt-2 flex justify-between items-center text-xs\">\n            <span class=\"text-red-600 font-semibold\">{{this.priority}}</span>\n            <span class=\"text-gray-500\">{{this.dueDate}}</span>\n          </div>\n        </div>\n        {{/each}}\n      </div>\n    </div>\n    \n    <!-- In Progress Column -->\n    <div class=\"column bg-white rounded-lg shadow-md p-4\">\n      <h3 class=\"font-bold text-lg mb-4 text-yellow-600\">⚙️ In Progress ({{inProgressCount}})</h3>\n      <div class=\"space-y-3\">\n        {{#each inProgressTasks}}\n        <div class=\"task-card bg-yellow-50 p-3 rounded-lg border-l-4 border-yellow-500\">\n          <h4 class=\"font-semibold\">{{this.title}}</h4>\n          <p class=\"text-sm text-gray-600\">{{this.description}}</p>\n          <div class=\"mt-2 flex justify-between items-center text-xs\">\n            <span class=\"text-yellow-600 font-semibold\">{{this.priority}}</span>\n            <span class=\"text-gray-500\">Assigned to: {{this.assignee}}</span>\n          </div>\n        </div>\n        {{/each}}\n      </div>\n    </div>\n    \n    <!-- Done Column -->\n    <div class=\"column bg-white rounded-lg shadow-md p-4\">\n      <h3 class=\"font-bold text-lg mb-4 text-green-600\">✅ Done ({{doneCount}})</h3>\n      <div class=\"space-y-3\">\n        {{#each doneTasks}}\n        <div class=\"task-card bg-green-50 p-3 rounded-lg border-l-4 border-green-500\">\n          <h4 class=\"font-semibold line-through text-gray-600\">{{this.title}}</h4>\n          <p class=\"text-sm text-gray-500\">{{this.description}}</p>\n        </div>\n        {{/each}}\n      </div>\n    </div>\n  </div>\n</div>\n  `,\n  dataSource: {\n    type: 'static',\n    staticData: {\n      projectName: 'Website Redesign',\n      todoCount: 2,\n      inProgressCount: 2,\n      doneCount: 2,\n      todoTasks: [\n        {\n          id: 1,\n          title: 'Design mockups',\n          description: 'Create wireframes and prototypes for new features',\n          priority: 'HIGH',\n          dueDate: '2025-10-20',\n        },\n        {\n          id: 2,\n          title: 'Write specifications',\n          description: 'Document technical requirements',\n          priority: 'MEDIUM',\n          dueDate: '2025-10-22',\n        },\n      ],\n      inProgressTasks: [\n        {\n          id: 3,\n          title: 'Frontend development',\n          description: 'Implement React components and styling',\n          priority: 'HIGH',\n          assignee: 'John Doe',\n        },\n        {\n          id: 4,\n          title: 'API integration',\n          description: 'Connect frontend to backend services',\n          priority: 'HIGH',\n          assignee: 'Jane Smith',\n        },\n      ],\n      doneTasks: [\n        {\n          id: 5,\n          title: 'Research phase',\n          description: 'Completed market analysis and competitor review',\n          priority: 'MEDIUM',\n        },\n        {\n          id: 6,\n          title: 'Project kickoff',\n          description: 'Team meeting and project planning complete',\n          priority: 'HIGH',\n        },\n      ],\n    },\n  },\n  variables: {},\n};\n\n/**\n * Category Showcase Template\n * Display product or content categories with icons and links\n */\nexport const categoryShowcaseTemplate: SampleTemplate = {\n  id: 'category-showcase',\n  name: 'Category Showcase',\n  description: 'Display categories with images and product counts in a hero-style layout',\n  template: `\n<div class=\"category-showcase-container py-12 px-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg\">\n  <h2 class=\"text-3xl font-bold mb-2 text-center\">{{title}}</h2>\n  <p class=\"text-gray-600 mb-8 text-center\">Browse our collections</p>\n  \n  <div class=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n    {{#each categories}}\n    <div class=\"category-card group cursor-pointer transform hover:scale-105 transition-transform duration-300\">\n      <div class=\"relative overflow-hidden rounded-lg shadow-lg h-64\">\n        <img src=\"{{this.image}}\" alt=\"{{this.name}}\" class=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300\" />\n        <div class=\"absolute inset-0 bg-black bg-opacity-40 group-hover:bg-opacity-50 transition-all duration-300 flex flex-col justify-end p-4\">\n          <h3 class=\"text-white font-bold text-2xl\">{{this.name}}</h3>\n          <p class=\"text-white text-sm\">{{this.productCount}} products</p>\n        </div>\n      </div>\n    </div>\n    {{/each}}\n  </div>\n</div>\n  `,\n  dataSource: {\n    type: 'static',\n    staticData: {\n      title: 'Shop by Category',\n      categories: [\n        {\n          id: 1,\n          name: 'Electronics',\n          image: 'https://images.unsplash.com/photo-1498049794561-7780e7231661?w=400&h=300&fit=crop',\n          productCount: 150,\n        },\n        {\n          id: 2,\n          name: 'Fashion',\n          image: 'https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=400&h=300&fit=crop',\n          productCount: 89,\n        },\n        {\n          id: 3,\n          name: 'Home & Garden',\n          image: 'https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=400&h=300&fit=crop',\n          productCount: 67,\n        },\n      ],\n    },\n  },\n  variables: {},\n};\n\n/**\n * Hero Section Template\n * Large banner section with title, subtitle and CTA button\n */\nexport const heroSectionTemplate: SampleTemplate = {\n  id: 'hero-section',\n  name: 'Hero Section',\n  description: 'Large banner section with background image, headline and CTA button',\n  template: `\n<div class=\"hero-section relative overflow-hidden rounded-lg h-96 md:h-[500px]\">\n  <img src=\"{{backgroundImage}}\" alt=\"Hero\" class=\"absolute inset-0 w-full h-full object-cover\" />\n  <div class=\"absolute inset-0 bg-black bg-opacity-40\"></div>\n  \n  <div class=\"absolute inset-0 flex flex-col justify-center items-center text-center p-4\">\n    <h1 class=\"text-4xl md:text-5xl font-bold text-white mb-4 max-w-3xl\">{{title}}</h1>\n    <p class=\"text-lg md:text-xl text-white mb-8 max-w-2xl\">{{subtitle}}</p>\n    <button class=\"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors\">\n      {{ctaText}}\n    </button>\n  </div>\n</div>\n  `,\n  dataSource: {\n    type: 'static',\n    staticData: {\n      title: 'Turn Ideas Into Reality',\n      subtitle: 'Build professional websites with cutting-edge technology. No coding required.',\n      ctaText: 'Start Building Now',\n      backgroundImage: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=1920&h=1080&fit=crop',\n    },\n  },\n  variables: {},\n};\n\n/**\n * Testimonials Template\n * Display customer testimonials with avatars and ratings\n */\nexport const testimonialsTemplate: SampleTemplate = {\n  id: 'testimonials',\n  name: 'Testimonials',\n  description: 'Showcase customer testimonials with avatars, names, and star ratings',\n  template: `\n<div class=\"testimonials-container py-12 px-6 bg-gray-50 rounded-lg\">\n  <h2 class=\"text-3xl font-bold mb-2 text-center\">{{title}}</h2>\n  <p class=\"text-gray-600 mb-8 text-center\">Read what our happy customers have to say</p>\n  \n  <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n    {{#each testimonials}}\n    <div class=\"testimonial-card bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow\">\n      <div class=\"flex items-center mb-4\">\n        <img src=\"{{this.avatar}}\" alt=\"{{this.name}}\" class=\"w-12 h-12 rounded-full object-cover mr-4\" />\n        <div>\n          <h3 class=\"font-bold\">{{this.name}}</h3>\n          <p class=\"text-sm text-gray-600\">{{this.position}}</p>\n        </div>\n      </div>\n      \n      <div class=\"flex mb-3 text-yellow-400\">\n        {{#range this.rating}}⭐{{/range}}\n      </div>\n      \n      <p class=\"text-gray-700 italic\">\"{{this.content}}\"</p>\n    </div>\n    {{/each}}\n  </div>\n</div>\n  `,\n  dataSource: {\n    type: 'static',\n    staticData: {\n      title: 'What Our Customers Say',\n      testimonials: [\n        {\n          id: 1,\n          name: 'Nguyễn Văn A',\n          position: 'CEO, Tech Startup',\n          avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=80&h=80&fit=crop&crop=face',\n          content: 'Excellent service! The team is very professional and supportive. Our website traffic increased by 300%.',\n          rating: 5,\n        },\n        {\n          id: 2,\n          name: 'Trần Thị B',\n          position: 'Marketing Manager, Fashion Brand',\n          avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b786?w=80&h=80&fit=crop&crop=face',\n          content: 'Beautiful design, complete features, and fast loading speed. Definitely worth the investment!',\n          rating: 5,\n        },\n        {\n          id: 3,\n          name: 'Lê Minh C',\n          position: 'Founder, E-commerce Store',\n          avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=80&h=80&fit=crop&crop=face',\n          content: 'Since using this platform, our online sales have doubled. Highly recommended to everyone!',\n          rating: 5,\n        },\n      ],\n    },\n  },\n  variables: {},\n};\n\n/**\n * Contact Form Template\n * Display contact information and form\n */\nexport const contactFormTemplate: SampleTemplate = {\n  id: 'contact-form',\n  name: 'Contact Form',\n  description: 'Display contact information and a contact form',\n  template: `\n<div class=\"contact-container p-8 bg-white rounded-lg\">\n  <div class=\"max-w-2xl mx-auto\">\n    <h2 class=\"text-3xl font-bold mb-2\">{{title}}</h2>\n    <p class=\"text-gray-600 mb-8\">{{description}}</p>\n    \n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8\">\n      <div class=\"space-y-4\">\n        <div class=\"flex items-start\">\n          <span class=\"text-blue-600 text-2xl mr-4\">✉️</span>\n          <div>\n            <h3 class=\"font-bold\">Email</h3>\n            <p class=\"text-gray-600\">{{email}}</p>\n          </div>\n        </div>\n        <div class=\"flex items-start\">\n          <span class=\"text-blue-600 text-2xl mr-4\">📞</span>\n          <div>\n            <h3 class=\"font-bold\">Phone</h3>\n            <p class=\"text-gray-600\">{{phone}}</p>\n          </div>\n        </div>\n        <div class=\"flex items-start\">\n          <span class=\"text-blue-600 text-2xl mr-4\">📍</span>\n          <div>\n            <h3 class=\"font-bold\">Address</h3>\n            <p class=\"text-gray-600\">{{address}}</p>\n          </div>\n        </div>\n      </div>\n      \n      <form class=\"space-y-4\">\n        <input type=\"text\" placeholder=\"Your Name\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg\" />\n        <input type=\"email\" placeholder=\"Your Email\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg\" />\n        <textarea placeholder=\"Your Message\" class=\"w-full px-4 py-2 border border-gray-300 rounded-lg h-24\"></textarea>\n        <button type=\"submit\" class=\"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors\">\n          Send Message\n        </button>\n      </form>\n    </div>\n  </div>\n</div>\n  `,\n  dataSource: {\n    type: 'static',\n    staticData: {\n      title: 'Get in Touch',\n      description: 'We are always ready to help. Leave your information and we will respond within 24 hours.',\n      email: 'hello@rausachcore.com',\n      phone: '+84 (0) 123 456 789',\n      address: 'Floor 10, ABC Building, 123 DEF Street, District 1, Ho Chi Minh City',\n    },\n  },\n  variables: {},\n};\n\n/**\n * FAQ Section Template\n * Display frequently asked questions\n */\nexport const faqTemplate: SampleTemplate = {\n  id: 'faq-section',\n  name: 'FAQ Section',\n  description: 'Collapsible FAQ section with common questions and answers',\n  template: `\n<div class=\"faq-container py-12 px-6 bg-gray-50 rounded-lg\">\n  <h2 class=\"text-3xl font-bold mb-2 text-center\">{{title}}</h2>\n  <p class=\"text-gray-600 mb-8 text-center\">Find answers to common questions</p>\n  \n  <div class=\"max-w-2xl mx-auto space-y-4\">\n    {{#each faqs}}\n    <div class=\"faq-item bg-white p-4 rounded-lg shadow-md\">\n      <button class=\"w-full flex justify-between items-center font-bold text-lg hover:text-blue-600 transition-colors\">\n        <span>{{this.question}}</span>\n        <span class=\"text-blue-600\">+</span>\n      </button>\n      <p class=\"hidden text-gray-600 mt-3 pt-3 border-t\">{{this.answer}}</p>\n    </div>\n    {{/each}}\n  </div>\n  \n  <p class=\"text-center text-gray-600 mt-8\">Still have questions? Contact our support team!</p>\n</div>\n  `,\n  dataSource: {\n    type: 'static',\n    staticData: {\n      title: 'Frequently Asked Questions',\n      faqs: [\n        {\n          id: 1,\n          question: 'Do I need coding knowledge to design a website?',\n          answer: 'Not at all! Our platform is designed with an intuitive drag-and-drop interface. You just drag components and customize them to your needs without writing any code.',\n        },\n        {\n          id: 2,\n          question: 'How many templates are available?',\n          answer: 'We provide 100+ professional templates for different industries: e-commerce, business, portfolio, blog, landing pages, and more. New templates are added regularly.',\n        },\n        {\n          id: 3,\n          question: 'Are websites responsive on mobile devices?',\n          answer: 'Yes! All templates and components are fully responsive and optimized for all devices - desktop, tablet, and mobile phones.',\n        },\n        {\n          id: 4,\n          question: 'Do you support SEO?',\n          answer: 'Absolutely! We include complete SEO features: meta tags, sitemap generation, structured data, image optimization, and page speed optimization.',\n        },\n        {\n          id: 5,\n          question: 'Can I integrate custom code?',\n          answer: 'Yes! While our platform is no-code friendly, you can also add custom HTML, CSS, and JavaScript for advanced customizations.',\n        },\n      ],\n    },\n  },\n  variables: {},\n};\n\n/**\n * Product Carousel Template\n * Display products in an auto-scrolling carousel with data from database\n */\nexport const productCarouselTemplate: SampleTemplate = {\n  id: 'product-carousel',\n  name: 'Product Carousel',\n  description: 'Auto-scrolling carousel showcasing featured products from your database',\n  template: `\n<div class=\"product-carousel-container py-12 px-4 md:px-8 bg-gradient-to-b from-white to-gray-50 rounded-lg overflow-hidden\">\n  <div class=\"max-w-7xl mx-auto\">\n    <!-- Header -->\n    <div class=\"text-center mb-8\">\n      <h2 class=\"text-3xl md:text-4xl font-bold mb-3 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n        {{title}}\n      </h2>\n      <p class=\"text-gray-600 text-lg\">{{subtitle}}</p>\n    </div>\n\n    <!-- Carousel Container -->\n    <div class=\"relative group\">\n      <!-- Navigation Buttons -->\n      <button class=\"carousel-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -ml-4\">\n        <svg class=\"w-6 h-6 text-gray-800\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"/>\n        </svg>\n      </button>\n      <button class=\"carousel-next absolute right-0 top-1/2 -translate-y-1/2 z-10 bg-white/90 hover:bg-white p-3 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 -mr-4\">\n        <svg class=\"w-6 h-6 text-gray-800\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\"/>\n        </svg>\n      </button>\n\n      <!-- Carousel Track -->\n      <div class=\"overflow-hidden\">\n        <div class=\"carousel-track flex gap-6 transition-transform duration-500 ease-out\">\n          {{#each products}}\n          <div class=\"carousel-item flex-shrink-0 w-full sm:w-1/2 lg:w-1/3 xl:w-1/4\">\n            <div class=\"product-card bg-white rounded-xl shadow-md hover:shadow-2xl transition-all duration-300 overflow-hidden group/card h-full flex flex-col\">\n              <!-- Product Image -->\n              <div class=\"relative overflow-hidden aspect-square bg-gray-100\">\n                {{#if this.thumbnail}}\n                  <img src=\"{{this.thumbnail}}\" alt=\"{{this.name}}\" class=\"w-full h-full object-cover group-hover/card:scale-110 transition-transform duration-500\" />\n                {{else}}\n                  <div class=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-gray-200 to-gray-300\">\n                    <svg class=\"w-20 h-20 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"/>\n                    </svg>\n                  </div>\n                {{/if}}\n                \n                <!-- Badges -->\n                <div class=\"absolute top-3 left-3 flex flex-col gap-2\">\n                  {{#if this.isFeatured}}\n                    <span class=\"bg-yellow-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md\">⭐ Featured</span>\n                  {{/if}}\n                  {{#if this.isOnSale}}\n                    <span class=\"bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md\">🔥 Sale</span>\n                  {{/if}}\n                  {{#if this.isNewArrival}}\n                    <span class=\"bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md\">✨ New</span>\n                  {{/if}}\n                </div>\n\n                <!-- Discount Badge -->\n                {{#if this.discountPercentage}}\n                  <div class=\"absolute top-3 right-3\">\n                    <span class=\"bg-gradient-to-r from-red-500 to-pink-500 text-white text-sm font-bold px-3 py-2 rounded-lg shadow-lg\">\n                      -{{this.discountPercentage}}%\n                    </span>\n                  </div>\n                {{/if}}\n              </div>\n\n              <!-- Product Info -->\n              <div class=\"p-4 flex-grow flex flex-col\">\n                <!-- Category -->\n                {{#if this.category}}\n                  <p class=\"text-xs text-blue-600 font-semibold uppercase tracking-wide mb-2\">\n                    {{this.category.name}}\n                  </p>\n                {{/if}}\n\n                <!-- Product Name -->\n                <h3 class=\"font-bold text-lg mb-2 line-clamp-2 group-hover/card:text-blue-600 transition-colors\">\n                  {{this.name}}\n                </h3>\n\n                <!-- Description -->\n                {{#if this.shortDesc}}\n                  <p class=\"text-sm text-gray-600 mb-3 line-clamp-2\">{{this.shortDesc}}</p>\n                {{/if}}\n\n                <!-- SKU & Stock -->\n                <div class=\"flex items-center gap-3 mb-3 text-xs text-gray-500\">\n                  {{#if this.sku}}\n                    <span class=\"flex items-center gap-1\">\n                      <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 20l4-16m2 16l4-16M6 9h14M4 15h14\"/>\n                      </svg>\n                      {{this.sku}}\n                    </span>\n                  {{/if}}\n                  <span class=\"flex items-center gap-1 {{#if this.stock}}{{#if (gt this.stock 0)}}text-green-600{{else}}text-red-600{{/if}}{{/if}}\">\n                    <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4\"/>\n                    </svg>\n                    {{#if this.stock}}\n                      {{#if (gt this.stock 0)}}\n                        Còn {{this.stock}} {{this.unit}}\n                      {{else}}\n                        Hết hàng\n                      {{/if}}\n                    {{else}}\n                      Liên hệ\n                    {{/if}}\n                  </span>\n                </div>\n\n                <!-- Pricing -->\n                <div class=\"mt-auto\">\n                  <div class=\"flex items-baseline gap-2 mb-3\">\n                    <span class=\"text-2xl font-bold text-blue-600\">\n                      {{this.price}}đ\n                    </span>\n                    {{#if this.originalPrice}}\n                      {{#if (gt this.originalPrice this.price)}}\n                        <span class=\"text-sm text-gray-400 line-through\">\n                          {{this.originalPrice}}đ\n                        </span>\n                      {{/if}}\n                    {{/if}}\n                  </div>\n\n                  <!-- Action Buttons -->\n                  <div class=\"flex gap-2\">\n                    <button class=\"flex-1 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold py-2.5 px-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-md hover:shadow-lg\">\n                      <span class=\"flex items-center justify-center gap-2\">\n                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\"/>\n                        </svg>\n                        Thêm giỏ\n                      </span>\n                    </button>\n                    <button class=\"bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-2.5 px-3 rounded-lg transition-colors\">\n                      <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"/>\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"/>\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          {{/each}}\n        </div>\n      </div>\n\n      <!-- Carousel Indicators -->\n      <div class=\"flex justify-center gap-2 mt-6\">\n        {{#each products}}\n          <button class=\"carousel-indicator w-2 h-2 rounded-full bg-gray-300 hover:bg-gray-400 transition-colors\" data-index=\"{{@index}}\"></button>\n        {{/each}}\n      </div>\n    </div>\n\n    <!-- View All Button -->\n    <div class=\"text-center mt-8\">\n      <button class=\"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl\">\n        Xem tất cả sản phẩm →\n      </button>\n    </div>\n  </div>\n</div>\n\n<!-- Carousel Auto-scroll Script -->\n<script>\n(function() {\n  const track = document.querySelector('.carousel-track');\n  const prevBtn = document.querySelector('.carousel-prev');\n  const nextBtn = document.querySelector('.carousel-next');\n  const indicators = document.querySelectorAll('.carousel-indicator');\n  const items = document.querySelectorAll('.carousel-item');\n  \n  if (!track || items.length === 0) return;\n  \n  let currentIndex = 0;\n  const itemsPerView = window.innerWidth >= 1280 ? 4 : window.innerWidth >= 1024 ? 3 : window.innerWidth >= 640 ? 2 : 1;\n  const maxIndex = Math.max(0, items.length - itemsPerView);\n  let autoScrollInterval;\n  \n  function updateCarousel() {\n    const itemWidth = items[0].offsetWidth;\n    const gap = 24; // 1.5rem = 24px\n    const offset = -(currentIndex * (itemWidth + gap));\n    track.style.transform = \\`translateX(\\${offset}px)\\`;\n    \n    indicators.forEach((indicator, i) => {\n      indicator.classList.toggle('bg-blue-600', i === currentIndex);\n      indicator.classList.toggle('bg-gray-300', i !== currentIndex);\n    });\n  }\n  \n  function nextSlide() {\n    currentIndex = currentIndex >= maxIndex ? 0 : currentIndex + 1;\n    updateCarousel();\n  }\n  \n  function prevSlide() {\n    currentIndex = currentIndex <= 0 ? maxIndex : currentIndex - 1;\n    updateCarousel();\n  }\n  \n  // Auto-scroll every 5 seconds\n  function startAutoScroll() {\n    autoScrollInterval = setInterval(nextSlide, 5000);\n  }\n  \n  function stopAutoScroll() {\n    clearInterval(autoScrollInterval);\n  }\n  \n  // Event Listeners\n  prevBtn?.addEventListener('click', () => {\n    prevSlide();\n    stopAutoScroll();\n    startAutoScroll();\n  });\n  \n  nextBtn?.addEventListener('click', () => {\n    nextSlide();\n    stopAutoScroll();\n    startAutoScroll();\n  });\n  \n  indicators.forEach((indicator, index) => {\n    indicator.addEventListener('click', () => {\n      currentIndex = index;\n      updateCarousel();\n      stopAutoScroll();\n      startAutoScroll();\n    });\n  });\n  \n  // Pause on hover\n  track.parentElement.addEventListener('mouseenter', stopAutoScroll);\n  track.parentElement.addEventListener('mouseleave', startAutoScroll);\n  \n  // Initialize\n  updateCarousel();\n  startAutoScroll();\n  \n  // Handle resize\n  window.addEventListener('resize', updateCarousel);\n})();\n</script>\n  `,\n  dataSource: {\n    type: 'static',\n    staticData: {\n      title: 'Sản Phẩm Nổi Bật',\n      subtitle: 'Khám phá những sản phẩm được yêu thích nhất',\n      products: [\n        {\n          id: '1',\n          name: 'Serum Vitamin C Dưỡng Trắng Da',\n          slug: 'serum-vitamin-c-duong-trang-da',\n          shortDesc: 'Làm sáng da, mờ thâm nám, tăng cường collagen tự nhiên',\n          description: 'Serum Vitamin C cao cấp giúp dưỡng trắng da hiệu quả',\n          sku: 'SER-VIT-C-001',\n          price: 299000,\n          originalPrice: 450000,\n          unit: 'Chai',\n          stock: 150,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1620916566398-39f1143ab7be?w=400&h=400&fit=crop',\n          isFeatured: true,\n          isNewArrival: false,\n          isBestSeller: true,\n          isOnSale: true,\n          category: {\n            id: 'cat-1',\n            name: 'Chăm Sóc Da',\n            slug: 'cham-soc-da',\n          },\n        },\n        {\n          id: '2',\n          name: 'Bộ Dụng Cụ Nối Mi Chuyên Nghiệp',\n          slug: 'bo-dung-cu-noi-mi-chuyen-nghiep',\n          shortDesc: 'Bộ full dụng cụ nối mi cao cấp cho thợ chuyên nghiệp',\n          description: 'Bộ dụng cụ nối mi chuyên nghiệp đầy đủ nhất',\n          sku: 'NOI-MI-SET-001',\n          price: 1250000,\n          originalPrice: 1800000,\n          unit: 'Bộ',\n          stock: 45,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1631730486572-226d1f595b68?w=400&h=400&fit=crop',\n          isFeatured: true,\n          isNewArrival: true,\n          isBestSeller: false,\n          isOnSale: true,\n          category: {\n            id: 'cat-2',\n            name: 'Nối Mi',\n            slug: 'noi-mi',\n          },\n        },\n        {\n          id: '3',\n          name: 'Kem Dưỡng Ẩm Hyaluronic Acid',\n          slug: 'kem-duong-am-hyaluronic-acid',\n          shortDesc: 'Cấp ẩm sâu, làm mềm mịn da, chống lão hóa hiệu quả',\n          description: 'Kem dưỡng ẩm chuyên sâu với Hyaluronic Acid',\n          sku: 'CREAM-HYA-001',\n          price: 380000,\n          originalPrice: 520000,\n          unit: 'Hộp',\n          stock: 200,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=400&h=400&fit=crop',\n          isFeatured: true,\n          isNewArrival: false,\n          isBestSeller: true,\n          isOnSale: false,\n          category: {\n            id: 'cat-1',\n            name: 'Chăm Sóc Da',\n            slug: 'cham-soc-da',\n          },\n        },\n        {\n          id: '4',\n          name: 'Keo Nối Mi Hàn Quốc Premium',\n          slug: 'keo-noi-mi-han-quoc-premium',\n          shortDesc: 'Keo nối mi siêu dính, giữ lâu, không gây kích ứng',\n          description: 'Keo nối mi nhập khẩu Hàn Quốc chất lượng cao',\n          sku: 'GLUE-KR-PREM-001',\n          price: 450000,\n          originalPrice: null,\n          unit: 'Chai',\n          stock: 89,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=400&h=400&fit=crop',\n          isFeatured: true,\n          isNewArrival: true,\n          isBestSeller: false,\n          isOnSale: false,\n          category: {\n            id: 'cat-2',\n            name: 'Nối Mi',\n            slug: 'noi-mi',\n          },\n        },\n        {\n          id: '5',\n          name: 'Mực Phun Xăm Môi Organic',\n          slug: 'muc-phun-xam-moi-organic',\n          shortDesc: 'Mực phun xăm môi an toàn, màu chuẩn, lên màu đẹp tự nhiên',\n          description: 'Mực phun xăm môi organic cao cấp',\n          sku: 'INK-LIP-ORG-001',\n          price: 890000,\n          originalPrice: 1200000,\n          unit: 'Lọ',\n          stock: 67,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1586495777744-4413f21062fa?w=400&h=400&fit=crop',\n          isFeatured: true,\n          isNewArrival: false,\n          isBestSeller: true,\n          isOnSale: true,\n          category: {\n            id: 'cat-3',\n            name: 'Phun Xăm',\n            slug: 'phun-xam',\n          },\n        },\n        {\n          id: '6',\n          name: 'Sữa Rửa Mặt Tạo Bọt Nhẹ Nhàng',\n          slug: 'sua-rua-mat-tao-bot-nhe-nhang',\n          shortDesc: 'Làm sạch sâu, không làm khô da, phù hợp mọi loại da',\n          description: 'Sữa rửa mặt tạo bọt nhẹ nhàng cho mọi loại da',\n          sku: 'CLEAN-FOAM-001',\n          price: 180000,\n          originalPrice: 250000,\n          unit: 'Chai',\n          stock: 320,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1556228453-efd6c1ff04f6?w=400&h=400&fit=crop',\n          isFeatured: true,\n          isNewArrival: false,\n          isBestSeller: false,\n          isOnSale: true,\n          category: {\n            id: 'cat-1',\n            name: 'Chăm Sóc Da',\n            slug: 'cham-soc-da',\n          },\n        },\n        {\n          id: '7',\n          name: 'Mi Giả 3D Cao Cấp',\n          slug: 'mi-gia-3d-cao-cap',\n          shortDesc: 'Mi giả 3D siêu mềm, tự nhiên như mi thật',\n          description: 'Mi giả 3D chất lượng cao nhập khẩu',\n          sku: 'LASH-3D-001',\n          price: 120000,\n          originalPrice: 180000,\n          unit: 'Cặp',\n          stock: 250,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1583001809350-0b9c723cad97?w=400&h=400&fit=crop',\n          isFeatured: false,\n          isNewArrival: true,\n          isBestSeller: false,\n          isOnSale: true,\n          category: {\n            id: 'cat-2',\n            name: 'Nối Mi',\n            slug: 'noi-mi',\n          },\n        },\n        {\n          id: '8',\n          name: 'Máy Phun Xăm Chuyên Nghiệp',\n          slug: 'may-phun-xam-chuyen-nghiep',\n          shortDesc: 'Máy phun xăm hiện đại, êm ái, chính xác cao',\n          description: 'Máy phun xăm chuyên nghiệp cho thợ chuyên nghiệp',\n          sku: 'MACHINE-PMU-001',\n          price: 5500000,\n          originalPrice: 7200000,\n          unit: 'Máy',\n          stock: 12,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=400&h=400&fit=crop',\n          isFeatured: true,\n          isNewArrival: true,\n          isBestSeller: false,\n          isOnSale: true,\n          category: {\n            id: 'cat-3',\n            name: 'Phun Xăm',\n            slug: 'phun-xam',\n          },\n        },\n        {\n          id: '9',\n          name: 'Toner Cân Bằng Da pH5.5',\n          slug: 'toner-can-bang-da-ph55',\n          shortDesc: 'Cân bằng độ pH, se khít lỗ chân lông, làm mịn da',\n          description: 'Toner cân bằng da với độ pH lý tưởng',\n          sku: 'TONER-PH55-001',\n          price: 220000,\n          originalPrice: null,\n          unit: 'Chai',\n          stock: 180,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=400&h=400&fit=crop',\n          isFeatured: false,\n          isNewArrival: false,\n          isBestSeller: true,\n          isOnSale: false,\n          category: {\n            id: 'cat-1',\n            name: 'Chăm Sóc Da',\n            slug: 'cham-soc-da',\n          },\n        },\n        {\n          id: '10',\n          name: 'Kim Phun Xăm Nano 1 Đầu',\n          slug: 'kim-phun-xam-nano-1-dau',\n          shortDesc: 'Kim phun nano siêu mỏng, không đau, lên màu chuẩn',\n          description: 'Kim phun xăm nano 1 đầu chuyên dụng',\n          sku: 'NEEDLE-NANO-001',\n          price: 35000,\n          originalPrice: 50000,\n          unit: 'Cái',\n          stock: 500,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1519494140681-8b17d830a3ec?w=400&h=400&fit=crop',\n          isFeatured: false,\n          isNewArrival: false,\n          isBestSeller: true,\n          isOnSale: true,\n          category: {\n            id: 'cat-3',\n            name: 'Phun Xăm',\n            slug: 'phun-xam',\n          },\n        },\n        {\n          id: '11',\n          name: 'Chổi Đánh Mi Mascara Dùng 1 Lần',\n          slug: 'choi-danh-mi-mascara-dung-1-lan',\n          shortDesc: 'Chổi đánh mi dùng 1 lần, vệ sinh, an toàn cho khách',\n          description: 'Chổi đánh mi mascara dùng 1 lần (50 cái/hộp)',\n          sku: 'BRUSH-MASC-DISP-001',\n          price: 45000,\n          originalPrice: null,\n          unit: 'Hộp',\n          stock: 400,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1512207736890-6ffed8a84e8d?w=400&h=400&fit=crop',\n          isFeatured: false,\n          isNewArrival: false,\n          isBestSeller: false,\n          isOnSale: false,\n          category: {\n            id: 'cat-2',\n            name: 'Nối Mi',\n            slug: 'noi-mi',\n          },\n        },\n        {\n          id: '12',\n          name: 'Kem Chống Nắng SPF50+ PA+++',\n          slug: 'kem-chong-nang-spf50-pa',\n          shortDesc: 'Bảo vệ da khỏi tia UV, không gây nhờn rít',\n          description: 'Kem chống nắng phổ rộng SPF50+ PA+++',\n          sku: 'SUN-SPF50-001',\n          price: 350000,\n          originalPrice: 480000,\n          unit: 'Tuýp',\n          stock: 156,\n          status: 'ACTIVE',\n          thumbnail: 'https://images.unsplash.com/photo-1556228578-0d85b1a4d571?w=400&h=400&fit=crop',\n          isFeatured: true,\n          isNewArrival: false,\n          isBestSeller: true,\n          isOnSale: true,\n          category: {\n            id: 'cat-1',\n            name: 'Chăm Sóc Da',\n            slug: 'cham-soc-da',\n          },\n        },\n      ],\n    },\n  },\n  variables: {},\n};\n\n/**\n * Get all available sample templates\n */\nexport const getAllSampleTemplates = (): SampleTemplate[] => {\n  return [\n    productGridTemplate,\n    taskDashboardTemplate,\n    categoryShowcaseTemplate,\n    heroSectionTemplate,\n    testimonialsTemplate,\n    contactFormTemplate,\n    faqTemplate,\n    productCarouselTemplate,\n  ];\n};\n\nexport const getSampleTemplateById = (id: string): SampleTemplate | undefined => {\n  const templates = getAllSampleTemplates();\n  return templates.find(t => t.id === id);\n};\n","/**\n * Dynamic Block UI Components\n * Extracted from main component for better organization\n */\n\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Switch } from '@/components/ui/switch';\nimport { Check, Maximize2 } from 'lucide-react';\nimport { DynamicBlockConfig } from '@/types/page-builder';\nimport type { SampleTemplate } from '@/lib/dynamicBlockSampleTemplates';\n\n/**\n * Template Selection Panel\n */\nexport const TemplateSelectionPanel: React.FC<{\n  sampleTemplates: SampleTemplate[];\n  selectedTemplate: any | null;\n  onSelectTemplate: (template: SampleTemplate) => void;\n  onSelectBlank: () => void;\n  currentConfig: DynamicBlockConfig;\n}> = ({ sampleTemplates, selectedTemplate, onSelectTemplate, onSelectBlank }) => (\n  <div className=\"w-1/2 border-r border-gray-200 overflow-y-auto flex flex-col\">\n    <div className=\"px-6 py-6 space-y-4 flex-1 overflow-y-auto\">\n      <div>\n        <h3 className=\"text-lg font-bold mb-2\">Choose Template</h3>\n        <p className=\"text-sm text-gray-600 mb-6\">Select from professional templates or start with blank</p>\n\n        <div className=\"space-y-3\">\n          {/* Blank Template */}\n          <button\n            onClick={onSelectBlank}\n            className={`w-full p-4 rounded-lg border-2 transition-all text-left hover:shadow-md ${\n              selectedTemplate === null ? 'border-blue-500 bg-blue-50' : 'border-gray-200 bg-white hover:border-gray-300'\n            }`}\n          >\n            <div className=\"font-semibold text-base mb-1\">Blank Template</div>\n            <p className=\"text-xs text-gray-600\">Start with empty HTML</p>\n            {selectedTemplate === null && (\n              <div className=\"mt-2 flex items-center text-blue-600 text-xs font-semibold\">\n                <Check className=\"w-3 h-3 mr-1\" /> Selected\n              </div>\n            )}\n          </button>\n\n          {/* Sample Templates */}\n          {sampleTemplates.map((template) => (\n            <button\n              key={template.id}\n              onClick={() => onSelectTemplate(template)}\n              className={`w-full p-4 rounded-lg border-2 transition-all text-left hover:shadow-md ${\n                selectedTemplate?.id === template.id\n                  ? 'border-blue-500 bg-blue-50'\n                  : 'border-gray-200 bg-white hover:border-gray-300'\n              }`}\n            >\n              <div className=\"font-semibold text-base mb-1\">{template.name}</div>\n              <p className=\"text-xs text-gray-600 line-clamp-2\">{template.description}</p>\n              {selectedTemplate?.id === template.id && (\n                <div className=\"mt-2 flex items-center text-blue-600 text-xs font-semibold\">\n                  <Check className=\"w-3 h-3 mr-1\" /> Selected\n                </div>\n              )}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  </div>\n);\n\n/**\n * Template Editor Panel - Enhanced with better UI\n */\nexport const TemplateEditorPanel: React.FC<{\n  templateEdit: string;\n  onTemplateChange: (template: string) => void;\n  selectedTemplate: any | null;\n  isFullscreenEditor: boolean;\n  onFullscreenToggle: (value: boolean) => void;\n}> = ({ templateEdit, onTemplateChange, selectedTemplate, onFullscreenToggle }) => {\n  const [lineCount, setLineCount] = React.useState(0);\n  const textareaRef = React.useRef<HTMLTextAreaElement>(null);\n\n  // Count lines when template changes\n  React.useEffect(() => {\n    const lines = templateEdit.split('\\n').length;\n    setLineCount(lines);\n  }, [templateEdit]);\n\n  // Handle Tab key for indentation\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === 'Tab') {\n      e.preventDefault();\n      const start = e.currentTarget.selectionStart;\n      const end = e.currentTarget.selectionEnd;\n      const newValue = templateEdit.substring(0, start) + '  ' + templateEdit.substring(end);\n      onTemplateChange(newValue);\n      \n      // Set cursor position after the inserted tab\n      setTimeout(() => {\n        if (textareaRef.current) {\n          textareaRef.current.selectionStart = textareaRef.current.selectionEnd = start + 2;\n        }\n      }, 0);\n    }\n  };\n\n  // Format HTML with basic indentation\n  const formatHTML = () => {\n    try {\n      let formatted = templateEdit;\n      let indent = 0;\n      const lines = formatted.split('\\n');\n      const formattedLines = lines.map(line => {\n        const trimmed = line.trim();\n        if (!trimmed) return '';\n        \n        // Decrease indent for closing tags\n        if (trimmed.startsWith('</')) {\n          indent = Math.max(0, indent - 1);\n        }\n        \n        const indented = '  '.repeat(indent) + trimmed;\n        \n        // Increase indent for opening tags (not self-closing)\n        if (trimmed.startsWith('<') && !trimmed.startsWith('</') && !trimmed.endsWith('/>')) {\n          indent++;\n        }\n        \n        return indented;\n      });\n      \n      onTemplateChange(formattedLines.join('\\n'));\n    } catch (error) {\n      console.error('Format error:', error);\n    }\n  };\n\n  // Insert template snippet at cursor\n  const insertSnippet = (snippet: string) => {\n    if (!textareaRef.current) return;\n    \n    const start = textareaRef.current.selectionStart;\n    const end = textareaRef.current.selectionEnd;\n    const newValue = templateEdit.substring(0, start) + snippet + templateEdit.substring(end);\n    onTemplateChange(newValue);\n    \n    // Set cursor position after the inserted snippet\n    setTimeout(() => {\n      if (textareaRef.current) {\n        const newPos = start + snippet.length;\n        textareaRef.current.selectionStart = textareaRef.current.selectionEnd = newPos;\n        textareaRef.current.focus();\n      }\n    }, 0);\n  };\n\n  return (\n    <div className=\"flex-1 border-b border-gray-200 overflow-hidden flex flex-col bg-gray-50\">\n      <div className=\"px-6 py-4 space-y-3 flex flex-col h-full\">\n        {/* Header with actions */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <h3 className=\"text-base font-bold\">Template HTML</h3>\n            <div className=\"flex items-center gap-1 text-xs text-gray-500 bg-white px-2 py-1 rounded border\">\n              <span className=\"font-mono\">{lineCount} lines</span>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button\n              onClick={formatHTML}\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"h-7 text-xs\"\n              title=\"Format HTML\"\n            >\n              Format\n            </Button>\n            <Button\n              onClick={() => onFullscreenToggle(true)}\n              variant=\"outline\"\n              size=\"sm\"\n              className=\"h-7 w-7 p-0\"\n              title=\"Fullscreen edit\"\n            >\n              <Maximize2 className=\"w-4 h-4\" />\n            </Button>\n          </div>\n        </div>\n\n        {/* Template info */}\n        <div className=\"flex items-center gap-2 text-xs\">\n          <span className=\"text-gray-500\">Template:</span>\n          <span className=\"font-semibold text-blue-600\">\n            {selectedTemplate ? selectedTemplate.name : 'Blank'}\n          </span>\n        </div>\n\n        {/* Quick insert snippets */}\n        <div className=\"flex flex-wrap gap-1.5\">\n          <Button\n            onClick={() => insertSnippet('{{variable}}')}\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"h-6 px-2 text-xs font-mono bg-white hover:bg-blue-50\"\n          >\n            {'{{var}}'}\n          </Button>\n          <Button\n            onClick={() => insertSnippet('{{#each items}}\\n  \\n{{/each}}')}\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"h-6 px-2 text-xs font-mono bg-white hover:bg-blue-50\"\n          >\n            {'{{#each}}'}\n          </Button>\n          <Button\n            onClick={() => insertSnippet('{{#if condition}}\\n  \\n{{/if}}')}\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"h-6 px-2 text-xs font-mono bg-white hover:bg-blue-50\"\n          >\n            {'{{#if}}'}\n          </Button>\n          <Button\n            onClick={() => insertSnippet('<div class=\"container\">\\n  \\n</div>')}\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"h-6 px-2 text-xs font-mono bg-white hover:bg-blue-50\"\n          >\n            {'<div>'}\n          </Button>\n          <Button\n            onClick={() => insertSnippet('<h2 class=\"title\"></h2>')}\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"h-6 px-2 text-xs font-mono bg-white hover:bg-blue-50\"\n          >\n            {'<h2>'}\n          </Button>\n          <Button\n            onClick={() => insertSnippet('<button class=\"btn\"></button>')}\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"h-6 px-2 text-xs font-mono bg-white hover:bg-blue-50\"\n          >\n            {'<button>'}\n          </Button>\n        </div>\n\n        {/* Code editor */}\n        <div className=\"flex-1 flex flex-col overflow-hidden border border-gray-300 rounded-lg bg-white shadow-sm\">\n          <Textarea\n            ref={textareaRef}\n            placeholder={`<!-- Example HTML Template with Handlebars syntax -->\\n<div class=\"p-6 bg-white rounded-lg shadow\">\\n  <h2 class=\"text-2xl font-bold\">{{title}}</h2>\\n  <p class=\"text-gray-600\">{{description}}</p>\\n  \\n  {{#each items}}\\n    <div class=\"mt-4 p-4 border rounded\">\\n      <h3>{{this.name}}</h3>\\n      <p>{{this.description}}</p>\\n      {{#if this.price}}\\n        <span class=\"font-bold\">{{this.price}}</span>\\n      {{/if}}\\n    </div>\\n  {{/each}}\\n</div>`}\n            value={templateEdit}\n            onChange={(e) => onTemplateChange(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className=\"font-mono text-xs resize-none flex-1 border-0 focus-visible:ring-0 focus-visible:ring-offset-0\"\n            style={{\n              lineHeight: '1.5',\n              tabSize: 2,\n            }}\n          />\n        </div>\n\n        {/* Syntax help */}\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n          <p className=\"text-xs font-semibold text-blue-900 mb-1.5\">Syntax Guide:</p>\n          <div className=\"grid grid-cols-2 gap-x-4 gap-y-1 text-xs\">\n            <div className=\"flex items-center gap-1.5\">\n              <code className=\"bg-white px-1.5 py-0.5 rounded text-xs font-mono border\">{'{{name}}'}</code>\n              <span className=\"text-gray-600\">Variable</span>\n            </div>\n            <div className=\"flex items-center gap-1.5\">\n              <code className=\"bg-white px-1.5 py-0.5 rounded text-xs font-mono border\">{'{{#each}}'}</code>\n              <span className=\"text-gray-600\">Loop array</span>\n            </div>\n            <div className=\"flex items-center gap-1.5\">\n              <code className=\"bg-white px-1.5 py-0.5 rounded text-xs font-mono border\">{'{{#if}}'}</code>\n              <span className=\"text-gray-600\">Condition</span>\n            </div>\n            <div className=\"flex items-center gap-1.5\">\n              <code className=\"bg-white px-1.5 py-0.5 rounded text-xs font-mono border\">{'{{this.prop}}'}</code>\n              <span className=\"text-gray-600\">Loop item property</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/**\n * Configuration Panel\n */\nexport const ConfigurationPanel: React.FC<{\n  editConfig: DynamicBlockConfig;\n  onConfigChange: (config: DynamicBlockConfig) => void;\n  staticDataText: string;\n  onStaticDataChange: (text: string) => void;\n  onStaticDataBlur: () => void;\n  staticDataError: string | null;\n  hasStaticValidationError: boolean;\n  repeaterEnabled: boolean;\n  onRepeaterEnabledChange: (checked: boolean) => void;\n  repeaterDataText: string;\n  onRepeaterDataChange: (text: string) => void;\n  onRepeaterDataBlur: () => void;\n  repeaterDataError: string | null;\n  hasRepeaterValidationError: boolean;\n  repeaterItemsCount: number;\n  limitText: string;\n  onLimitChange: (text: string) => void;\n  onLimitBlur: () => void;\n  limitError: string | null;\n  hasLimitValidationError: boolean;\n  onTestApi: () => void;\n  apiTestLoading: boolean;\n  apiTestResult: any | null;\n  apiTestError: string | null;\n}> = ({\n  editConfig,\n  onConfigChange,\n  staticDataText,\n  onStaticDataChange,\n  onStaticDataBlur,\n  staticDataError,\n  hasStaticValidationError,\n  repeaterEnabled,\n  onRepeaterEnabledChange,\n  repeaterDataText,\n  onRepeaterDataChange,\n  onRepeaterDataBlur,\n  repeaterDataError,\n  hasRepeaterValidationError,\n  repeaterItemsCount,\n  limitText,\n  onLimitChange,\n  onLimitBlur,\n  limitError,\n  hasLimitValidationError,\n  onTestApi,\n  apiTestLoading,\n  apiTestResult,\n  apiTestError,\n}) => (\n  <div className=\"flex-1 overflow-y-auto\">\n    <div className=\"px-6 py-6 space-y-4\">\n      {/* Template Name */}\n      <div>\n        <Label className=\"text-xs font-semibold\">Template Name</Label>\n        <Input\n          type=\"text\"\n          placeholder=\"my-dynamic-block\"\n          value={editConfig.templateName || ''}\n          onChange={(e) => onConfigChange({ ...editConfig, templateName: e.target.value })}\n          className=\"bg-white mt-1 text-sm h-9\"\n        />\n      </div>\n\n      {/* Data Source Type */}\n      <div>\n        <Label className=\"text-xs font-semibold\">Data Source Type</Label>\n        <Select\n          value={editConfig.dataSource?.type || 'static'}\n          onValueChange={(value) =>\n            onConfigChange({\n              ...editConfig,\n              dataSource: {\n                ...editConfig.dataSource,\n                type: value as any,\n                method: editConfig.dataSource?.method || 'GET',\n                token: editConfig.dataSource?.token || '',\n              },\n            })\n          }\n        >\n          <SelectTrigger className=\"bg-white mt-1 text-sm h-9\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"static\">Static Data</SelectItem>\n            <SelectItem value=\"api\">REST API</SelectItem>\n            <SelectItem value=\"graphql\">GraphQL</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* API/GraphQL Configuration */}\n      {(editConfig.dataSource?.type === 'api' || editConfig.dataSource?.type === 'graphql') && (\n        <>\n          <div>\n            <Label className=\"text-xs font-semibold\">Endpoint</Label>\n            <Input\n              type=\"text\"\n              placeholder=\"/api/data or /graphql\"\n              value={editConfig.dataSource?.endpoint || ''}\n              onChange={(e) =>\n                onConfigChange({\n                  ...editConfig,\n                  dataSource: {\n                    type: editConfig.dataSource?.type || 'api',\n                    ...editConfig.dataSource,\n                    endpoint: e.target.value,\n                  },\n                })\n              }\n              className=\"bg-white mt-1 text-sm h-9\"\n            />\n          </div>\n\n          <div>\n            <Label className=\"text-xs font-semibold\">Authorization Token</Label>\n            <Input\n              type=\"password\"\n              placeholder=\"Bearer token or API key\"\n              value={editConfig.dataSource?.token || ''}\n              onChange={(e) =>\n                onConfigChange({\n                  ...editConfig,\n                  dataSource: {\n                    type: editConfig.dataSource?.type || 'api',\n                    ...editConfig.dataSource,\n                    token: e.target.value,\n                  },\n                })\n              }\n              className=\"bg-white mt-1 text-sm h-9\"\n            />\n          </div>\n\n          <div className=\"flex gap-2 items-center pt-2\">\n            <Button\n              onClick={onTestApi}\n              disabled={apiTestLoading || !editConfig.dataSource?.endpoint}\n              size=\"sm\"\n              className=\"bg-blue-600 hover:bg-blue-700 h-8 text-xs\"\n            >\n              {apiTestLoading ? 'Testing...' : 'Test'}\n            </Button>\n            {apiTestResult && <span className=\"text-xs text-green-600 font-semibold\">✓ Success</span>}\n            {apiTestError && <span className=\"text-xs text-red-600 font-semibold\">✗ Error</span>}\n          </div>\n        </>\n      )}\n\n      {/* Static Data */}\n      {editConfig.dataSource?.type === 'static' && (\n        <div>\n          <Label className=\"text-xs font-semibold\">Static Data (JSON)</Label>\n          <Textarea\n            placeholder='{\"title\": \"My Data\", \"items\": [{\"id\": 1, \"name\": \"Item 1\"}]}'\n            value={staticDataText}\n            onChange={(e) => onStaticDataChange(e.target.value)}\n            onBlur={onStaticDataBlur}\n            rows={6}\n            className={`font-mono text-xs mt-1 resize-none ${\n              hasStaticValidationError\n                ? 'border-red-500 focus:border-red-500 focus:ring-red-200'\n                : 'border-gray-300'\n            }`}\n          />\n          {hasStaticValidationError && (\n            <p className=\"text-xs text-red-600 mt-2 flex items-start\">\n              <span className=\"mr-1 mt-0.5\">❌</span>\n              <span>{staticDataError}</span>\n            </p>\n          )}\n        </div>\n      )}\n\n      {/* Repeater */}\n      <div className=\"pt-2 border-t border-gray-200\">\n        <div className=\"flex items-center justify-between gap-2\">\n          <Label className=\"text-xs font-semibold\">Enable Repeater</Label>\n          <Switch checked={repeaterEnabled} onCheckedChange={onRepeaterEnabledChange} />\n        </div>\n        {repeaterEnabled && (\n          <div className=\"space-y-3 mt-3\">\n            {/* Repeater Data */}\n            <div>\n              <Label className=\"text-xs font-semibold\">Repeater Data (JSON Array)</Label>\n              <Textarea\n                placeholder='[{\"id\": 1, \"name\": \"Item 1\"}]'\n                value={repeaterDataText}\n                onChange={(e) => onRepeaterDataChange(e.target.value)}\n                onBlur={onRepeaterDataBlur}\n                rows={4}\n                className={`font-mono text-xs mt-1 resize-none ${\n                  hasRepeaterValidationError\n                    ? 'border-red-500 focus:border-red-500 focus:ring-red-200'\n                    : 'border-gray-300'\n                }`}\n              />\n              {hasRepeaterValidationError && (\n                <p className=\"text-xs text-red-600 mt-2 flex items-start\">\n                  <span className=\"mr-1 mt-0.5\">❌</span>\n                  <span>{repeaterDataError}</span>\n                </p>\n              )}\n              {!hasRepeaterValidationError && repeaterItemsCount > 0 && (\n                <p className=\"text-xs text-green-600 mt-2 flex items-center\">\n                  <span className=\"mr-1\">✓</span>\n                  JSON valid - {repeaterItemsCount} items\n                </p>\n              )}\n            </div>\n\n            {/* Limit */}\n            <div>\n              <Label className=\"text-xs font-semibold\">Limit (optional)</Label>\n              <Input\n                type=\"text\"\n                placeholder=\"Max items to display\"\n                value={limitText}\n                onChange={(e) => onLimitChange(e.target.value)}\n                onBlur={onLimitBlur}\n                className={`text-xs h-8 mt-1 ${\n                  hasLimitValidationError\n                    ? 'border-red-500 focus:border-red-500 focus:ring-red-200'\n                    : 'border-gray-300'\n                }`}\n              />\n              {hasLimitValidationError && (\n                <p className=\"text-xs text-red-600 mt-2 flex items-start\">\n                  <span className=\"mr-1 mt-0.5\">❌</span>\n                  <span>{limitError}</span>\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  </div>\n);\n"],"names":[],"mappings":"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"}