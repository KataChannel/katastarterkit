module.exports=[50599,a=>{"use strict";var b=a.i(321248),c=a.i(53627),d=a.i(651332),e=a.i(285439),f=a.i(975780),g=a.i(202979),h=a.i(293470),i=a.i(772451),j=a.i(466577),k=a.i(976762),l=a.i(928624),m=a.i(785694),n=a.i(234211),o=a.i(516482),p=a.i(607226),q=a.i(128348),r=a.i(890082),s=a.i(411185),t=a.i(779149),u=a.i(327987),v=a.i(390874),w=a.i(687649),x=a.i(973174),y=a.i(439889),z=a.i(400438);function A(){var a;let A,B,C=(0,c.useParams)();(0,c.useRouter)();let{toast:D}=(0,n.useToast)(),E=C.id,[F,G]=(0,d.useState)(!1),[H,I]=(0,d.useState)(""),{onboardingChecklist:J,loading:K,refetch:L}=(0,e.useOnboardingChecklist)(E),{updateOnboardingChecklist:M,loading:N}=(0,e.useUpdateOnboardingChecklist)(),{completeOnboardingTask:O,loading:P}=(0,e.useCompleteOnboardingTask)(),Q=async(a,b)=>{try{await O(E,a)&&(D({title:"Thành công",description:b?"Đã đánh dấu công việc hoàn thành":"Đã hủy hoàn thành",type:"success"}),L())}catch(a){D({title:"Lỗi",description:a.message||"Không thể cập nhật trạng thái công việc",type:"error"})}},R=async a=>{try{await M(E,{status:a}),D({title:"Thành công",description:"Đã cập nhật trạng thái onboarding",type:"success"}),L()}catch(a){D({title:"Lỗi",description:a.message||"Không thể cập nhật trạng thái",type:"error"})}},S=async()=>{try{await M(E,{hrNotes:H}),D({title:"Thành công",description:"Đã lưu ghi chú",type:"success"}),G(!1),L()}catch(a){D({title:"Lỗi",description:a.message||"Không thể lưu ghi chú",type:"error"})}};return K?(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsx)(i.Skeleton,{className:"h-10 w-64"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)(i.Skeleton,{className:"h-96"}),(0,b.jsx)(i.Skeleton,{className:"h-96 md:col-span-2"})]})]}):J?(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(y.default,{href:"/admin/hr/onboarding",children:(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(o.ArrowLeft,{className:"h-5 w-5"})})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold tracking-tight",children:["Onboarding - ",J.employeeProfile?.fullName||"N/A"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:J.employeeProfile?.employeeCode||"-"})]})]}),(0,b.jsx)("div",{children:(a=J.status,B=(A=({[z.OnboardingStatus.PENDING]:{variant:"secondary",icon:u.AlertCircle,label:"Chờ xử lý"},[z.OnboardingStatus.IN_PROGRESS]:{variant:"default",icon:s.Clock,label:"Đang thực hiện"},[z.OnboardingStatus.COMPLETED]:{variant:"default",icon:r.CheckCircle2,label:"Hoàn thành",className:"bg-green-500"},[z.OnboardingStatus.CANCELLED]:{variant:"destructive",icon:v.XCircle,label:"Đã hủy"}})[a]).icon,(0,b.jsxs)(h.Badge,{variant:A.variant,className:A.className,children:[(0,b.jsx)(B,{className:"mr-1 h-3 w-3"}),A.label]}))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Tiến độ"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-4xl font-bold text-primary",children:[J.progressPercentage,"%"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Hoàn thành"})]}),(0,b.jsx)(k.Progress,{value:J.progressPercentage,className:"w-full"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Tổng công việc:"}),(0,b.jsx)("span",{className:"font-medium",children:J.totalTasks})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Đã hoàn thành:"}),(0,b.jsx)("span",{className:"font-medium text-green-600",children:J.completedTasks})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Còn lại:"}),(0,b.jsx)("span",{className:"font-medium text-orange-600",children:J.totalTasks-J.completedTasks})]})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(q.Calendar,{className:"mr-2 h-5 w-5"}),"Thời gian"]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Ngày bắt đầu"}),(0,b.jsx)("p",{className:"text-sm",children:new Date(J.startDate).toLocaleDateString("vi-VN")})]}),J.targetDate&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Ngày mục tiêu"}),(0,b.jsx)("p",{className:"text-sm",children:new Date(J.targetDate).toLocaleDateString("vi-VN")})]}),J.actualCompletionDate&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Ngày hoàn thành"}),(0,b.jsx)("p",{className:"text-sm",children:new Date(J.actualCompletionDate).toLocaleDateString("vi-VN")})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(t.User,{className:"mr-2 h-5 w-5"}),"Phân công"]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-3",children:[J.assignedTo&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Người phụ trách"}),(0,b.jsx)("p",{className:"text-sm",children:J.assignedTo})]}),J.buddyId&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Buddy"}),(0,b.jsx)("p",{className:"text-sm",children:J.buddyId})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Hành động"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-2",children:[J.status===z.OnboardingStatus.PENDING&&(0,b.jsx)(g.Button,{className:"w-full",onClick:()=>R(z.OnboardingStatus.IN_PROGRESS),disabled:N,children:"Bắt đầu onboarding"}),J.status===z.OnboardingStatus.IN_PROGRESS&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Button,{className:"w-full",onClick:()=>R(z.OnboardingStatus.COMPLETED),disabled:N||J.progressPercentage<100,children:"Hoàn thành onboarding"}),(0,b.jsx)(g.Button,{className:"w-full",variant:"outline",onClick:()=>R(z.OnboardingStatus.CANCELLED),disabled:N,children:"Hủy onboarding"})]})]})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Danh sách công việc"}),(0,b.jsx)(f.CardDescription,{children:"Đánh dấu hoàn thành các công việc trong quá trình onboarding"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:J.tasks&&J.tasks.length>0?J.tasks.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-muted/50 transition-colors",children:[(0,b.jsx)(l.Checkbox,{id:`task-${c}`,checked:a.completed,onCheckedChange:b=>Q(a.id,b),disabled:P||J.status===z.OnboardingStatus.COMPLETED}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{htmlFor:`task-${c}`,className:`text-sm font-medium cursor-pointer ${a.completed?"line-through text-muted-foreground":""}`,children:a.title}),a.description&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[a.dueDate&&(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsx)(q.Calendar,{className:"mr-1 h-3 w-3"}),new Date(a.dueDate).toLocaleDateString("vi-VN")]}),a.completedAt&&(0,b.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,b.jsx)(r.CheckCircle2,{className:"mr-1 h-3 w-3"}),new Date(a.completedAt).toLocaleDateString("vi-VN")]})]})]})]},a.id||c)):(0,b.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"Chưa có công việc nào được gán"})})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)(f.CardTitle,{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Ghi chú & Phản hồi"}),!F&&(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{G(!0),I(J.hrNotes||"")},children:(0,b.jsx)(w.Edit,{className:"h-4 w-4"})})]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[J.employeeFeedback&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Phản hồi từ nhân viên"}),(0,b.jsx)("p",{className:"text-sm p-3 bg-muted rounded-lg",children:J.employeeFeedback})]}),J.managerFeedback&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Phản hồi từ quản lý"}),(0,b.jsx)("p",{className:"text-sm p-3 bg-muted rounded-lg",children:J.managerFeedback})]}),(0,b.jsx)(m.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Ghi chú HR"}),F?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Textarea,{value:H,onChange:a=>I(a.target.value),rows:4,placeholder:"Nhập ghi chú..."}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsxs)(g.Button,{size:"sm",onClick:S,disabled:N,children:[(0,b.jsx)(x.Save,{className:"mr-2 h-4 w-4"}),"Lưu"]}),(0,b.jsx)(g.Button,{size:"sm",variant:"outline",onClick:()=>G(!1),children:"Hủy"})]})]}):(0,b.jsx)("p",{className:"text-sm p-3 bg-muted rounded-lg",children:J.hrNotes||"Chưa có ghi chú"})]})]})]}),J.employeeProfile&&(0,b.jsx)(y.default,{href:`/admin/hr/employee/${J.employeeProfileId}`,children:(0,b.jsx)(f.Card,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:(0,b.jsx)(f.CardContent,{className:"py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(t.User,{className:"h-6 w-6 text-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Xem hồ sơ nhân viên"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:J.employeeProfile.fullName})]})]}),(0,b.jsx)(g.Button,{variant:"ghost",children:"Xem chi tiết"})]})})})})]})]})]}):(0,b.jsx)("div",{className:"container mx-auto p-6",children:(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"py-12 text-center text-muted-foreground",children:[(0,b.jsx)(p.UserPlus,{className:"mx-auto h-12 w-12 mb-2"}),(0,b.jsx)("p",{children:"Không tìm thấy thông tin onboarding"}),(0,b.jsx)(y.default,{href:"/admin/hr/onboarding",children:(0,b.jsx)(g.Button,{variant:"outline",className:"mt-4",children:"Quay lại danh sách"})})]})})})}a.s(["default",()=>A])}];

//# sourceMappingURL=frontend_src_app_admin_hr_onboarding_%5Bid%5D_page_tsx_db3381eb._.js.map