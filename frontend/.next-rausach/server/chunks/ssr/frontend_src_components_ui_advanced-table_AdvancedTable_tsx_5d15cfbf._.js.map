{"version":3,"sources":["turbopack:///[project]/frontend/src/components/ui/advanced-table/AdvancedTable.tsx","turbopack:///[project]/frontend/src/components/ui/advanced-table/utils.ts","turbopack:///[project]/frontend/src/components/ui/advanced-table/FilterBar.tsx","turbopack:///[project]/frontend/src/components/ui/advanced-table/ColumnHeader.tsx","turbopack:///[project]/frontend/src/components/ui/advanced-table/TableCell.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useMemo, useCallback, memo } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '@/components/ui/dialog';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Badge } from '@/components/ui/badge';\nimport { AdvancedTableProps, RowData, ColumnDef, SortConfig, FilterCondition, ColumnPinPosition } from './types';\nimport { TableUtils } from './utils';\nimport { FilterBar } from './FilterBar';\nimport { ColumnHeader } from './ColumnHeader';\nimport { TableCell } from './TableCell';\nimport { \n  Download, \n  Plus, \n  Trash2, \n  Settings, \n  RotateCcw,\n  Eye,\n  EyeOff,\n  Maximize2\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\nexport function AdvancedTable<T extends RowData>({\n  columns: initialColumns,\n  data,\n  config = {},\n  loading = false,\n  onRowSelect,\n  onRowEdit,\n  onRowCreate,\n  onRowDelete,\n  onSort,\n  onFilter,\n  className,\n  height = 600\n}: AdvancedTableProps<T>) {\n  // State management\n  const [columns, setColumns] = useState<ColumnDef<T>[]>(initialColumns);\n  const [sortConfigs, setSortConfigs] = useState<SortConfig[]>([]);\n  const [filters, setFilters] = useState<FilterCondition[]>([]);\n  const [globalSearch, setGlobalSearch] = useState('');\n  const [selectedRows, setSelectedRows] = useState<Set<string | number>>(new Set());\n  const [editingCell, setEditingCell] = useState<{ rowId: string | number; field: keyof T } | null>(null);\n  const [showColumnSettings, setShowColumnSettings] = useState(false);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [columnWidths, setColumnWidths] = useState<Record<string, number>>({});\n\n  // Configuration defaults\n  const {\n    enableSorting = true,\n    enableFiltering = true,\n    enableColumnPinning = true,\n    enableColumnResizing = true,\n    enableColumnHiding = true,\n    enableRowSelection = true,\n    enableInlineEditing = true,\n    enableDialogEditing = false,\n    enableRowDeletion = true,\n    rowHeight = 40,\n    headerHeight = 40,\n    showToolbar = true,\n    showPagination = false,\n    pageSize = 50,\n    virtualScrolling = false\n  } = config;\n\n  // Initialize column widths\n  useEffect(() => {\n    const initialWidths: Record<string, number> = {};\n    columns.forEach(col => {\n      const key = String(col.field);\n      initialWidths[key] = col.width || 150;\n    });\n    setColumnWidths(initialWidths);\n  }, [columns]);\n\n  // Process data based on filters and sorting\n  const processedData = useMemo(() => {\n    let result = [...data];\n\n    // Apply global search\n    if (globalSearch) {\n      result = TableUtils.globalSearch(result, globalSearch, columns);\n    }\n\n    // Apply filters\n    if (filters.length > 0) {\n      result = TableUtils.applyFiltering(result, filters);\n    }\n\n    // Apply sorting\n    if (sortConfigs.length > 0) {\n      result = TableUtils.applySorting(result, sortConfigs);\n    }\n\n    return result;\n  }, [data, globalSearch, filters, sortConfigs, columns]);\n\n  // Notify parent of selection changes (outside render cycle)\n  useEffect(() => {\n    if (onRowSelect) {\n      // Defer to next tick to avoid setState during render warning\n      const timeoutId = setTimeout(() => {\n        const selectedRowData = processedData.filter(row => selectedRows.has(row.id));\n        onRowSelect(selectedRowData);\n      }, 0);\n      \n      return () => clearTimeout(timeoutId);\n    }\n  }, [selectedRows, processedData, onRowSelect]);\n\n  // Notify parent of sort changes (outside render cycle)\n  useEffect(() => {\n    if (onSort && sortConfigs.length >= 0) {\n      const timeoutId = setTimeout(() => {\n        onSort(sortConfigs);\n      }, 0);\n      \n      return () => clearTimeout(timeoutId);\n    }\n  }, [sortConfigs, onSort]);\n\n  // Notify parent of filter changes (outside render cycle)\n  useEffect(() => {\n    if (onFilter) {\n      const timeoutId = setTimeout(() => {\n        onFilter(filters);\n      }, 0);\n      \n      return () => clearTimeout(timeoutId);\n    }\n  }, [filters, onFilter]);\n\n  // Column management\n  const visibleColumns = useMemo(() => TableUtils.getVisibleColumns(columns), [columns]);\n  const pinnedLeftColumns = useMemo(() => TableUtils.getPinnedColumns(columns, 'left'), [columns]);\n  const pinnedRightColumns = useMemo(() => TableUtils.getPinnedColumns(columns, 'right'), [columns]);\n  const centerColumns = useMemo(() => TableUtils.getCenterColumns(columns), [columns]);\n\n  // Event handlers\n  const handleSort = useCallback((field: keyof T, direction: SortConfig['direction']) => {\n    setSortConfigs(prev => {\n      let newSortConfigs: SortConfig[];\n      \n      if (direction === null) {\n        newSortConfigs = prev.filter(config => config.field !== field);\n      } else {\n        const existingIndex = prev.findIndex(config => config.field === field);\n        if (existingIndex >= 0) {\n          newSortConfigs = [...prev];\n          newSortConfigs[existingIndex] = { ...newSortConfigs[existingIndex], direction };\n        } else {\n          newSortConfigs = [...prev, { field: String(field), direction, priority: prev.length }];\n        }\n      }\n      \n      return newSortConfigs;\n    });\n  }, []);\n\n  const handleColumnPin = useCallback((field: keyof T, position: ColumnPinPosition) => {\n    setColumns(prev => prev.map(col => \n      col.field === field ? { ...col, pinned: position } : col\n    ));\n  }, []);\n\n  const handleColumnHide = useCallback((field: keyof T) => {\n    setColumns(prev => prev.map(col => \n      col.field === field ? { ...col, hide: true } : col\n    ));\n  }, []);\n\n  const handleColumnResize = useCallback((field: keyof T, width: number) => {\n    setColumnWidths(prev => ({ ...prev, [String(field)]: width }));\n  }, []);\n\n  const handleAutoSizeColumn = useCallback((field: keyof T) => {\n    // Simple auto-sizing logic - in a real implementation, you'd measure content\n    const newWidth = Math.max(100, Math.min(300, String(field).length * 10 + 80));\n    handleColumnResize(field, newWidth);\n  }, [handleColumnResize]);\n\n  const handleAutoSizeAllColumns = useCallback(() => {\n    visibleColumns.forEach(col => {\n      handleAutoSizeColumn(col.field);\n    });\n  }, [visibleColumns, handleAutoSizeColumn]);\n\n  const handleRowSelect = useCallback((rowId: string | number, selected: boolean) => {\n    setSelectedRows(prev => {\n      const newSelection = new Set(prev);\n      if (selected) {\n        newSelection.add(rowId);\n      } else {\n        newSelection.delete(rowId);\n      }\n      return newSelection;\n    });\n  }, []);\n\n  const handleSelectAll = useCallback((selected: boolean) => {\n    if (selected) {\n      const allIds = new Set(processedData.map(row => row.id));\n      setSelectedRows(allIds);\n    } else {\n      setSelectedRows(new Set());\n    }\n  }, [processedData]);\n\n  const handleCellEdit = useCallback(async (rowId: string | number, field: keyof T, newValue: any) => {\n    const row = processedData.find(r => r.id === rowId);\n    if (!row) return false;\n\n    const success = await onRowEdit?.(row, field, newValue);\n    if (success) {\n      setEditingCell(null);\n    }\n    return success || false;\n  }, [processedData, onRowEdit]);\n\n  const handleDeleteSelected = useCallback(async () => {\n    const rowsToDelete = processedData.filter(row => selectedRows.has(row.id));\n    const success = await onRowDelete?.(rowsToDelete);\n    if (success) {\n      setSelectedRows(new Set());\n      setShowDeleteDialog(false);\n    }\n  }, [processedData, selectedRows, onRowDelete]);\n\n  const handleExport = useCallback(() => {\n    TableUtils.exportToCsv(processedData, visibleColumns, 'export.csv');\n  }, [processedData, visibleColumns]);\n\n  const handleFiltersChange = useCallback((newFilters: FilterCondition[]) => {\n    setFilters(newFilters);\n  }, []);\n\n  const getSortConfig = useCallback((field: keyof T) => {\n    return sortConfigs.find(config => config.field === field);\n  }, [sortConfigs]);\n\n  const renderColumnGroup = useCallback((cols: ColumnDef<T>[], isPinned: boolean = false) => {\n    return cols.map(column => {\n      const sortConfig = getSortConfig(column.field);\n      const width = columnWidths[String(column.field)] || column.width || 150;\n      \n      return (\n        <div key={String(column.field)} className=\"flex flex-col\">\n          <div style={{ height: headerHeight }}>\n            <ColumnHeader\n              column={column}\n              sortDirection={sortConfig?.direction}\n              sortPriority={sortConfig?.priority}\n              onSort={(direction) => handleSort(column.field, direction)}\n              onPin={(position) => handleColumnPin(column.field, position)}\n              onHide={() => handleColumnHide(column.field)}\n              onAutoSize={() => handleAutoSizeColumn(column.field)}\n              onResize={(newWidth) => handleColumnResize(column.field, newWidth)}\n              width={width}\n            />\n          </div>\n          \n          {processedData.map((row, rowIndex) => {\n            const value = column.valueGetter ? column.valueGetter(row) : row[column.field];\n            const isEditing = editingCell?.rowId === row.id && editingCell?.field === column.field;\n            const isSelected = selectedRows.has(row.id);\n            \n            return (\n              <div key={`${row.id}-${String(column.field)}`} style={{ height: rowHeight }}>\n                <TableCell\n                  column={column}\n                  data={row}\n                  value={value}\n                  rowIndex={rowIndex}\n                  isEditing={isEditing}\n                  isSelected={isSelected}\n                  onStartEdit={() => setEditingCell({ rowId: row.id, field: column.field })}\n                  onSave={(newValue) => handleCellEdit(row.id, column.field, newValue)}\n                  onCancel={() => setEditingCell(null)}\n                />\n              </div>\n            );\n          })}\n        </div>\n      );\n    });\n  }, [processedData, sortConfigs, columnWidths, headerHeight, rowHeight, editingCell, selectedRows, \n      getSortConfig, handleSort, handleColumnPin, handleColumnHide, handleAutoSizeColumn, \n      handleColumnResize, handleCellEdit]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={cn('border rounded-lg overflow-hidden bg-white', className)}>\n      {/* Toolbar - Responsive */}\n      {showToolbar && (\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-3 sm:p-4 border-b bg-gray-50\">\n          <div className=\"flex items-center gap-2 flex-wrap\">\n            {enableRowSelection && selectedRows.size > 0 && (\n              <>\n                <Badge variant=\"secondary\" className=\"text-xs sm:text-sm\">\n                  {selectedRows.size} selected\n                </Badge>\n                {enableRowDeletion && (\n                  <Button\n                    variant=\"destructive\"\n                    size=\"sm\"\n                    onClick={() => setShowDeleteDialog(true)}\n                    className=\"text-xs sm:text-sm\"\n                  >\n                    <Trash2 className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\n                    <span className=\"hidden sm:inline\">Delete</span>\n                    <span className=\"sm:hidden\">Del</span>\n                  </Button>\n                )}\n              </>\n            )}\n            {onRowCreate && (\n              <Button size=\"sm\" onClick={() => onRowCreate({} as Partial<T>)} className=\"text-xs sm:text-sm\">\n                <Plus className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\n                <span className=\"hidden sm:inline\">Add Row</span>\n                <span className=\"sm:hidden\">Add</span>\n              </Button>\n            )}\n          </div>\n          \n          <div className=\"flex items-center gap-2 flex-wrap w-full sm:w-auto\">\n            <Button variant=\"outline\" size=\"sm\" onClick={handleExport} className=\"text-xs sm:text-sm flex-1 sm:flex-none\">\n              <Download className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\n              <span className=\"hidden sm:inline\">Export</span>\n              <span className=\"sm:hidden\">CSV</span>\n            </Button>\n            <Button variant=\"outline\" size=\"sm\" onClick={handleAutoSizeAllColumns} className=\"text-xs sm:text-sm hidden md:flex\">\n              <Maximize2 className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\n              Auto Size All\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => setShowColumnSettings(true)}\n              className=\"text-xs sm:text-sm flex-1 sm:flex-none\"\n            >\n              <Settings className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\n              Columns\n            </Button>\n          </div>\n        </div>\n      )}\n\n      {/* Filter Bar */}\n      {enableFiltering && (\n        <FilterBar\n          columns={columns}\n          filters={filters}\n          onFiltersChange={handleFiltersChange}\n          globalSearch={globalSearch}\n          onGlobalSearchChange={setGlobalSearch}\n        />\n      )}\n\n      {/* Table - Responsive with horizontal scroll */}\n      <div \n        className=\"overflow-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100\"\n        style={{ height: height - (showToolbar ? 60 : 0) - (enableFiltering ? 80 : 0) }}\n      >\n        <div className=\"flex min-w-full\">{/* Ensure min-width for mobile scroll */}\n          {/* Selection Column */}\n          {enableRowSelection && (\n            <div className=\"flex flex-col flex-shrink-0\">\n              <div \n                className=\"flex items-center justify-center px-3 border-r border-gray-200 bg-gray-50\"\n                style={{ height: headerHeight }}\n              >\n                <Checkbox\n                  checked={selectedRows.size === processedData.length && processedData.length > 0}\n                  indeterminate={selectedRows.size > 0 && selectedRows.size < processedData.length}\n                  onCheckedChange={handleSelectAll}\n                />\n              </div>\n              {processedData.map((row) => (\n                <div \n                  key={row.id} \n                  className=\"flex items-center justify-center px-3 border-r border-b border-gray-200 bg-white\"\n                  style={{ height: rowHeight }}\n                >\n                  <Checkbox\n                    checked={selectedRows.has(row.id)}\n                    onCheckedChange={(checked) => handleRowSelect(row.id, checked as boolean)}\n                  />\n                </div>\n              ))}\n            </div>\n          )}\n\n          {/* Pinned Left Columns */}\n          {pinnedLeftColumns.length > 0 && (\n            <div className=\"flex flex-shrink-0 border-r-2 border-blue-200\">\n              {renderColumnGroup(pinnedLeftColumns, true)}\n            </div>\n          )}\n\n          {/* Center Columns */}\n          <div className=\"flex flex-1 min-w-0\">\n            {renderColumnGroup(centerColumns)}\n          </div>\n\n          {/* Pinned Right Columns */}\n          {pinnedRightColumns.length > 0 && (\n            <div className=\"flex flex-shrink-0 border-l-2 border-blue-200\">\n              {renderColumnGroup(pinnedRightColumns, true)}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Delete Confirmation Dialog */}\n      <Dialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>\n        <DialogContent>\n          <DialogHeader>\n            <DialogTitle>Confirm Delete</DialogTitle>\n          </DialogHeader>\n          <p>Are you sure you want to delete {selectedRows.size} row(s)? This action cannot be undone.</p>\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => setShowDeleteDialog(false)}>\n              Cancel\n            </Button>\n            <Button variant=\"destructive\" onClick={handleDeleteSelected}>\n              Delete\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Column Settings Dialog - Responsive */}\n      <Dialog open={showColumnSettings} onOpenChange={setShowColumnSettings}>\n        <DialogContent className=\"max-w-md w-[95vw] sm:w-full max-h-[90vh] overflow-hidden flex flex-col\">\n          <DialogHeader>\n            <DialogTitle className=\"text-base sm:text-lg\">Column Settings</DialogTitle>\n          </DialogHeader>\n          \n          {/* Select All / Deselect All - Responsive */}\n          <div className=\"flex items-center gap-2 pb-2 border-b flex-wrap\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => {\n                setColumns(prev => prev.map(col => ({ ...col, hide: false })));\n              }}\n              className=\"text-xs sm:text-sm flex-1 sm:flex-none\"\n            >\n              <Eye className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\n              <span className=\"hidden sm:inline\">Show All</span>\n              <span className=\"sm:hidden\">All</span>\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => {\n                setColumns(prev => prev.map(col => ({ ...col, hide: true })));\n              }}\n              className=\"text-xs sm:text-sm flex-1 sm:flex-none\"\n            >\n              <EyeOff className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\n              <span className=\"hidden sm:inline\">Hide All</span>\n              <span className=\"sm:hidden\">None</span>\n            </Button>\n          </div>\n          \n          <div className=\"space-y-2 overflow-auto flex-1 pr-2\">\n            {columns.map(column => (\n              <div key={String(column.field)} className=\"flex items-center justify-between py-1\">\n                <div className=\"flex items-center gap-2 flex-1 min-w-0\">\n                  <Checkbox\n                    checked={!column.hide}\n                    onCheckedChange={(checked) => {\n                      setColumns(prev => prev.map(col => \n                        col.field === column.field ? { ...col, hide: !checked } : col\n                      ));\n                    }}\n                  />\n                  <span className=\"text-xs sm:text-sm truncate\">{column.headerName}</span>\n                </div>\n                <div className=\"flex items-center gap-1 flex-shrink-0 ml-2\">\n                  {column.pinned === 'left' && <Badge variant=\"outline\" className=\"text-[10px] sm:text-xs\">Left</Badge>}\n                  {column.pinned === 'right' && <Badge variant=\"outline\" className=\"text-[10px] sm:text-xs\">Right</Badge>}\n                </div>\n              </div>\n            ))}\n          </div>\n          <DialogFooter className=\"flex-shrink-0 flex-col sm:flex-row gap-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => {\n                setColumns(initialColumns);\n                setShowColumnSettings(false);\n              }}\n              className=\"w-full sm:w-auto text-xs sm:text-sm\"\n            >\n              <RotateCcw className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\n              Reset\n            </Button>\n            <Button onClick={() => setShowColumnSettings(false)} className=\"w-full sm:w-auto text-xs sm:text-sm\">\n              Done\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}","import { FilterCondition, SortConfig, ColumnDef, RowData } from './types';\n\nexport class TableUtils {\n  // Sorting utilities\n  static applySorting<T extends RowData>(data: T[], sortConfigs: SortConfig[]): T[] {\n    if (sortConfigs.length === 0) return data;\n\n    return [...data].sort((a, b) => {\n      for (const config of sortConfigs.sort((x, y) => x.priority - y.priority)) {\n        const aValue = a[config.field];\n        const bValue = b[config.field];\n        \n        let comparison = 0;\n        \n        if (aValue == null && bValue == null) comparison = 0;\n        else if (aValue == null) comparison = -1;\n        else if (bValue == null) comparison = 1;\n        else if (typeof aValue === 'string' && typeof bValue === 'string') {\n          comparison = aValue.localeCompare(bValue);\n        } else if (typeof aValue === 'number' && typeof bValue === 'number') {\n          comparison = aValue - bValue;\n        } else if (aValue instanceof Date && bValue instanceof Date) {\n          comparison = aValue.getTime() - bValue.getTime();\n        } else {\n          comparison = String(aValue).localeCompare(String(bValue));\n        }\n        \n        if (comparison !== 0) {\n          return config.direction === 'desc' ? -comparison : comparison;\n        }\n      }\n      return 0;\n    });\n  }\n\n  // Filtering utilities\n  static applyFiltering<T extends RowData>(data: T[], filters: FilterCondition[]): T[] {\n    if (filters.length === 0) return data;\n\n    return data.filter(row => {\n      return filters.every(filter => {\n        const value = row[filter.field];\n        const filterValue = filter.value;\n        \n        switch (filter.operator) {\n          case 'equals':\n            return value === filterValue;\n          case 'contains':\n            return String(value).toLowerCase().includes(String(filterValue).toLowerCase());\n          case 'startsWith':\n            return String(value).toLowerCase().startsWith(String(filterValue).toLowerCase());\n          case 'endsWith':\n            return String(value).toLowerCase().endsWith(String(filterValue).toLowerCase());\n          case 'greaterThan':\n            return Number(value) > Number(filterValue);\n          case 'lessThan':\n            return Number(value) < Number(filterValue);\n          case 'between':\n            return Number(value) >= Number(filterValue) && Number(value) <= Number(filter.value2);\n          case 'in':\n            return Array.isArray(filterValue) && filterValue.includes(value);\n          default:\n            return true;\n        }\n      });\n    });\n  }\n\n  // Column utilities\n  static getVisibleColumns<T>(columns: ColumnDef<T>[]): ColumnDef<T>[] {\n    return columns.filter(col => !col.hide);\n  }\n\n  static getPinnedColumns<T>(columns: ColumnDef<T>[], position: 'left' | 'right'): ColumnDef<T>[] {\n    return columns.filter(col => col.pinned === position && !col.hide);\n  }\n\n  static getCenterColumns<T>(columns: ColumnDef<T>[]): ColumnDef<T>[] {\n    return columns.filter(col => !col.pinned && !col.hide);\n  }\n\n  // Data utilities\n  static generateId(): string {\n    return Math.random().toString(36).substr(2, 9);\n  }\n\n  static validateCellValue(value: any, column: ColumnDef): string | null {\n    if (column.validation) {\n      return column.validation(value);\n    }\n\n    // Basic type validation\n    switch (column.type) {\n      case 'number':\n        if (value !== null && value !== undefined && value !== '' && isNaN(Number(value))) {\n          return 'Must be a valid number';\n        }\n        break;\n      case 'date':\n        if (value && !(value instanceof Date) && isNaN(Date.parse(value))) {\n          return 'Must be a valid date';\n        }\n        break;\n      default:\n        break;\n    }\n\n    return null;\n  }\n\n  // Search utilities\n  static globalSearch<T extends RowData>(data: T[], searchTerm: string, columns: ColumnDef<T>[]): T[] {\n    if (!searchTerm.trim()) return data;\n\n    const term = searchTerm.toLowerCase();\n    return data.filter(row => {\n      return columns.some(column => {\n        const value = row[column.field];\n        return String(value).toLowerCase().includes(term);\n      });\n    });\n  }\n\n  // Export utilities\n  static exportToCsv<T extends RowData>(data: T[], columns: ColumnDef<T>[], filename: string = 'export.csv'): void {\n    const visibleColumns = this.getVisibleColumns(columns);\n    const headers = visibleColumns.map(col => col.headerName).join(',');\n    \n    const rows = data.map(row => \n      visibleColumns.map(col => {\n        const value = row[col.field];\n        // Escape quotes and wrap in quotes if contains comma\n        const stringValue = String(value || '');\n        return stringValue.includes(',') || stringValue.includes('\"') \n          ? `\"${stringValue.replace(/\"/g, '\"\"')}\"` \n          : stringValue;\n      }).join(',')\n    );\n\n    const csv = [headers, ...rows].join('\\n');\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    \n    if (link.download !== undefined) {\n      const url = URL.createObjectURL(blob);\n      link.setAttribute('href', url);\n      link.setAttribute('download', filename);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  }\n}","'use client';\n\nimport React, { useState, useRef, useEffect, useMemo, useCallback } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { Badge } from '@/components/ui/badge';\nimport { FilterCondition, ColumnDef, FilterType } from './types';\nimport { X, Filter, Plus } from 'lucide-react';\n\ninterface FilterBarProps<T> {\n  columns: ColumnDef<T>[];\n  filters: FilterCondition[];\n  onFiltersChange: (filters: FilterCondition[]) => void;\n  globalSearch: string;\n  onGlobalSearchChange: (search: string) => void;\n}\n\nconst OPERATORS = {\n  text: [\n    { value: 'contains', label: 'Contains' },\n    { value: 'equals', label: 'Equals' },\n    { value: 'startsWith', label: 'Starts with' },\n    { value: 'endsWith', label: 'Ends with' },\n  ],\n  number: [\n    { value: 'equals', label: 'Equals' },\n    { value: 'greaterThan', label: 'Greater than' },\n    { value: 'lessThan', label: 'Less than' },\n    { value: 'between', label: 'Between' },\n  ],\n  date: [\n    { value: 'equals', label: 'Equals' },\n    { value: 'greaterThan', label: 'After' },\n    { value: 'lessThan', label: 'Before' },\n    { value: 'between', label: 'Between' },\n  ],\n  select: [\n    { value: 'equals', label: 'Equals' },\n    { value: 'in', label: 'In' },\n  ],\n  boolean: [\n    { value: 'equals', label: 'Equals' },\n  ],\n};\n\nexport function FilterBar<T>({ \n  columns, \n  filters, \n  onFiltersChange, \n  globalSearch, \n  onGlobalSearchChange \n}: FilterBarProps<T>) {\n  const [isAddingFilter, setIsAddingFilter] = useState(false);\n  const [newFilter, setNewFilter] = useState<Partial<FilterCondition>>({});\n\n  const filterableColumns = useMemo(() => columns.filter(col => col.filterable !== false), [columns]);\n\n  // Reset newFilter when closing popover\n  const handleClosePopover = useCallback((open: boolean) => {\n    setIsAddingFilter(open);\n    if (!open) {\n      setNewFilter({});\n    }\n  }, []);\n\n  const addFilter = useCallback(() => {\n    if (newFilter.field && newFilter.operator && newFilter.value !== undefined && newFilter.value !== '') {\n      const filter: FilterCondition = {\n        field: newFilter.field,\n        operator: newFilter.operator,\n        value: newFilter.value,\n        value2: newFilter.value2,\n      };\n      onFiltersChange([...filters, filter]);\n      setNewFilter({});\n      setIsAddingFilter(false);\n    }\n  }, [newFilter, filters, onFiltersChange]);\n\n  const removeFilter = useCallback((index: number) => {\n    const newFilters = filters.filter((_, i) => i !== index);\n    onFiltersChange(newFilters);\n  }, [filters, onFiltersChange]);\n\n  const updateFilter = useCallback((index: number, updates: Partial<FilterCondition>) => {\n    const newFilters = filters.map((filter, i) => \n      i === index ? { ...filter, ...updates } : filter\n    );\n    onFiltersChange(newFilters);\n  }, [filters, onFiltersChange]);\n\n  const getColumnType = useCallback((field: string): FilterType => {\n    const column = columns.find(col => col.field === field);\n    return (column?.type as FilterType) || 'text';\n  }, [columns]);\n\n  const getOperators = useCallback((type: FilterType) => {\n    return OPERATORS[type] || OPERATORS.text;\n  }, []);\n\n  const renderFilterValue = (filter: FilterCondition, index: number) => {\n    const column = columns.find(col => col.field === filter.field);\n    const type = getColumnType(filter.field);\n\n    if (type === 'select' && column?.filterOptions) {\n      return (\n        <Select\n          value={filter.value}\n          onValueChange={(value) => updateFilter(index, { value })}\n        >\n          <SelectTrigger className=\"w-full sm:w-32 text-xs sm:text-sm\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            {column.filterOptions.map(option => (\n              <SelectItem key={option} value={option} className=\"text-xs sm:text-sm\">\n                {option}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      );\n    }\n\n    if (type === 'boolean') {\n      return (\n        <Select\n          value={String(filter.value)}\n          onValueChange={(value) => updateFilter(index, { value: value === 'true' })}\n        >\n          <SelectTrigger className=\"w-full sm:w-24 text-xs sm:text-sm\">\n            <SelectValue />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"true\" className=\"text-xs sm:text-sm\">True</SelectItem>\n            <SelectItem value=\"false\" className=\"text-xs sm:text-sm\">False</SelectItem>\n          </SelectContent>\n        </Select>\n      );\n    }\n\n    return (\n      <div className=\"flex flex-col sm:flex-row gap-2\">\n        <Input\n          type={type === 'number' ? 'number' : type === 'date' ? 'date' : 'text'}\n          value={filter.value || ''}\n          onChange={(e) => updateFilter(index, { value: e.target.value })}\n          className=\"w-full sm:w-32 text-xs sm:text-sm\"\n          placeholder=\"Value\"\n        />\n        {filter.operator === 'between' && (\n          <Input\n            type={type === 'number' ? 'number' : type === 'date' ? 'date' : 'text'}\n            value={filter.value2 || ''}\n            onChange={(e) => updateFilter(index, { value2: e.target.value })}\n            className=\"w-full sm:w-32 text-xs sm:text-sm\"\n            placeholder=\"To\"\n          />\n        )}\n      </div>\n    );\n  };\n\n  const renderNewFilterValue = () => {\n    if (!newFilter.field) return null;\n    \n    const column = columns.find(col => col.field === newFilter.field);\n    const type = getColumnType(newFilter.field);\n\n    if (type === 'select' && column?.filterOptions) {\n      return (\n        <Select\n          value={newFilter.value}\n          onValueChange={(value) => setNewFilter({ ...newFilter, value })}\n        >\n          <SelectTrigger className=\"w-full text-xs sm:text-sm\">\n            <SelectValue placeholder=\"Select value\" />\n          </SelectTrigger>\n          <SelectContent>\n            {column.filterOptions.map(option => (\n              <SelectItem key={option} value={option} className=\"text-xs sm:text-sm\">\n                {option}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      );\n    }\n\n    if (type === 'boolean') {\n      return (\n        <Select\n          value={newFilter.value !== undefined ? String(newFilter.value) : undefined}\n          onValueChange={(value) => setNewFilter({ ...newFilter, value: value === 'true' })}\n        >\n          <SelectTrigger className=\"w-full text-xs sm:text-sm\">\n            <SelectValue placeholder=\"Select value\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"true\" className=\"text-xs sm:text-sm\">True</SelectItem>\n            <SelectItem value=\"false\" className=\"text-xs sm:text-sm\">False</SelectItem>\n          </SelectContent>\n        </Select>\n      );\n    }\n\n    return (\n      <div className=\"flex flex-col sm:flex-row gap-2\">\n        <Input\n          type={type === 'number' ? 'number' : type === 'date' ? 'date' : 'text'}\n          value={newFilter.value || ''}\n          onChange={(e) => setNewFilter({ ...newFilter, value: e.target.value })}\n          className=\"w-full text-xs sm:text-sm\"\n          placeholder=\"Value\"\n        />\n        {newFilter.operator === 'between' && (\n          <Input\n            type={type === 'number' ? 'number' : type === 'date' ? 'date' : 'text'}\n            value={newFilter.value2 || ''}\n            onChange={(e) => setNewFilter({ ...newFilter, value2: e.target.value })}\n            className=\"w-full text-xs sm:text-sm\"\n            placeholder=\"To\"\n          />\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"space-y-3 sm:space-y-4 p-3 sm:p-4 border-b bg-gray-50\">\n      {/* Global Search - Responsive */}\n      <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4\">\n        <Input\n          placeholder=\"Global search...\"\n          value={globalSearch}\n          onChange={(e) => onGlobalSearchChange(e.target.value)}\n          className=\"flex-1 sm:max-w-md text-sm\"\n        />\n        \n        <Popover open={isAddingFilter} onOpenChange={handleClosePopover}>\n          <PopoverTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\" className=\"w-full sm:w-auto text-xs sm:text-sm\">\n              <Plus className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2\" />\n              Add Filter\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent className=\"w-[95vw] sm:w-96 max-w-md\">\n            <div className=\"space-y-3 sm:space-y-4\">\n              <h4 className=\"font-medium text-sm sm:text-base\">Add Filter</h4>\n              \n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                <Select\n                  value={newFilter.field}\n                  onValueChange={(value) => setNewFilter({ ...newFilter, field: value, operator: undefined, value: undefined })}\n                >\n                  <SelectTrigger className=\"text-xs sm:text-sm\">\n                    <SelectValue placeholder=\"Column\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {filterableColumns.map(col => (\n                      <SelectItem key={String(col.field)} value={String(col.field)} className=\"text-xs sm:text-sm\">\n                        {col.headerName}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n\n                {newFilter.field && (\n                  <Select\n                    value={newFilter.operator}\n                    onValueChange={(value) => setNewFilter({ ...newFilter, operator: value as any, value: undefined })}\n                  >\n                    <SelectTrigger className=\"text-xs sm:text-sm\">\n                      <SelectValue placeholder=\"Operator\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {getOperators(getColumnType(newFilter.field)).map(op => (\n                        <SelectItem key={op.value} value={op.value} className=\"text-xs sm:text-sm\">\n                          {op.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                )}\n              </div>\n\n              {newFilter.field && newFilter.operator && (\n                <div>\n                  {renderNewFilterValue()}\n                </div>\n              )}\n\n              <div className=\"flex flex-col sm:flex-row justify-end gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => setIsAddingFilter(false)}\n                  className=\"w-full sm:w-auto text-xs sm:text-sm\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  size=\"sm\"\n                  onClick={addFilter}\n                  disabled={!newFilter.field || !newFilter.operator || newFilter.value === undefined || newFilter.value === ''}\n                  className=\"w-full sm:w-auto text-xs sm:text-sm\"\n                >\n                  Add\n                </Button>\n              </div>\n            </div>\n          </PopoverContent>\n        </Popover>\n      </div>\n\n      {/* Active Filters - Responsive */}\n      {filters.length > 0 && (\n        <div className=\"flex flex-wrap gap-1.5 sm:gap-2 items-center\">\n          <span className=\"text-xs sm:text-sm text-gray-600 flex items-center flex-shrink-0\">\n            <Filter className=\"w-3 h-3 sm:w-4 sm:h-4 mr-1\" />\n            Filters:\n          </span>\n          {filters.map((filter, index) => {\n            const column = columns.find(col => col.field === filter.field);\n            return (\n              <Badge key={index} variant=\"secondary\" className=\"flex items-center gap-1 text-[10px] sm:text-xs\">\n                <span className=\"font-medium\">{column?.headerName}</span>\n                <span className=\"opacity-75 hidden sm:inline\">\n                  {OPERATORS[getColumnType(filter.field)]?.find(op => op.value === filter.operator)?.label}\n                </span>\n                <span className=\"truncate max-w-[80px] sm:max-w-none\">{String(filter.value)}</span>\n                {filter.value2 && <span className=\"hidden sm:inline\">- {String(filter.value2)}</span>}\n                <button\n                  onClick={() => removeFilter(index)}\n                  className=\"ml-1 hover:bg-gray-300 rounded-full p-0.5\"\n                >\n                  <X className=\"w-2.5 h-2.5 sm:w-3 sm:h-3\" />\n                </button>\n              </Badge>\n            );\n          })}\n          {filters.length > 0 && (\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => onFiltersChange([])}\n              className=\"h-5 sm:h-6 px-1.5 sm:px-2 text-[10px] sm:text-xs\"\n            >\n              Clear All\n            </Button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}","'use client';\n\nimport React, { useState, useRef, useEffect, memo } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuSeparator, DropdownMenuTrigger } from '@/components/ui/dropdown-menu';\nimport { ColumnDef, SortDirection, ColumnPinPosition } from './types';\nimport { ChevronUp, ChevronDown, MoreHorizontal, Pin, PinOff, Eye, EyeOff, Maximize2 } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface ColumnHeaderProps<T> {\n  column: ColumnDef<T>;\n  sortDirection?: SortDirection;\n  sortPriority?: number;\n  onSort?: (direction: SortDirection) => void;\n  onPin?: (position: ColumnPinPosition) => void;\n  onHide?: () => void;\n  onAutoSize?: () => void;\n  onResize?: (width: number) => void;\n  width: number;\n  isResizing?: boolean;\n}\n\nexport function ColumnHeader<T>({\n  column,\n  sortDirection,\n  sortPriority,\n  onSort,\n  onPin,\n  onHide,\n  onAutoSize,\n  onResize,\n  width,\n  isResizing\n}: ColumnHeaderProps<T>) {\n  const [isDragging, setIsDragging] = useState(false);\n  const resizeRef = useRef<HTMLDivElement>(null);\n  const startXRef = useRef<number>(0);\n  const startWidthRef = useRef<number>(0);\n\n  const handleSortClick = () => {\n    if (!column.sortable) return;\n    \n    let newDirection: SortDirection;\n    if (sortDirection === 'asc') {\n      newDirection = 'desc';\n    } else if (sortDirection === 'desc') {\n      newDirection = null;\n    } else {\n      newDirection = 'asc';\n    }\n    \n    onSort?.(newDirection);\n  };\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    if (!column.resizable) return;\n    \n    setIsDragging(true);\n    startXRef.current = e.clientX;\n    startWidthRef.current = width;\n    \n    e.preventDefault();\n  };\n\n  useEffect(() => {\n    const handleMouseMove = (e: MouseEvent) => {\n      if (!isDragging) return;\n      \n      const diff = e.clientX - startXRef.current;\n      const newWidth = Math.max(50, startWidthRef.current + diff);\n      onResize?.(newWidth);\n    };\n\n    const handleMouseUp = () => {\n      setIsDragging(false);\n    };\n\n    if (isDragging) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n    }\n\n    return () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDragging, onResize]);\n\n  const getSortIcon = () => {\n    if (!column.sortable) return null;\n    \n    if (sortDirection === 'asc') {\n      return <ChevronUp className=\"w-4 h-4\" />;\n    } else if (sortDirection === 'desc') {\n      return <ChevronDown className=\"w-4 h-4\" />;\n    }\n    \n    return (\n      <div className=\"flex flex-col opacity-50\">\n        <ChevronUp className=\"w-3 h-3 -mb-1\" />\n        <ChevronDown className=\"w-3 h-3\" />\n      </div>\n    );\n  };\n\n  const getPinIcon = () => {\n    if (column.pinned === 'left') return <Pin className=\"w-4 h-4 rotate-45\" />;\n    if (column.pinned === 'right') return <Pin className=\"w-4 h-4 -rotate-45\" />;\n    return <PinOff className=\"w-4 h-4\" />;\n  };\n\n  return (\n    <div\n      className={cn(\n        'group relative flex items-center h-full px-3 border-r border-gray-200 bg-gray-50 select-none',\n        column.headerClass,\n        column.sortable && 'cursor-pointer hover:bg-gray-100',\n        column.pinned === 'left' && 'border-r-2 border-blue-200 bg-blue-50',\n        column.pinned === 'right' && 'border-l-2 border-blue-200 bg-blue-50'\n      )}\n      style={{ width }}\n      onClick={handleSortClick}\n    >\n      <div className=\"flex items-center justify-between w-full min-w-0\">\n        <div className=\"flex items-center gap-2 min-w-0\">\n          <span className=\"font-medium text-sm truncate\">{column.headerName}</span>\n          {sortPriority !== undefined && sortPriority > 0 && (\n            <span className=\"text-xs bg-blue-100 text-blue-800 px-1 rounded\">\n              {sortPriority + 1}\n            </span>\n          )}\n        </div>\n        \n        <div className=\"flex items-center gap-1 flex-shrink-0\">\n          {getSortIcon()}\n          \n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                className=\"h-6 w-6 p-0 opacity-0 group-hover:opacity-100\"\n                onClick={(e) => e.stopPropagation()}\n              >\n                <MoreHorizontal className=\"w-4 h-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\">\n              {column.sortable && (\n                <>\n                  <DropdownMenuItem onClick={() => onSort?.('asc')}>\n                    <ChevronUp className=\"w-4 h-4 mr-2\" />\n                    Sort Ascending\n                  </DropdownMenuItem>\n                  <DropdownMenuItem onClick={() => onSort?.('desc')}>\n                    <ChevronDown className=\"w-4 h-4 mr-2\" />\n                    Sort Descending\n                  </DropdownMenuItem>\n                  {sortDirection && (\n                    <DropdownMenuItem onClick={() => onSort?.(null)}>\n                      Clear Sort\n                    </DropdownMenuItem>\n                  )}\n                  <DropdownMenuSeparator />\n                </>\n              )}\n              \n              <DropdownMenuItem onClick={() => onPin?.(column.pinned === 'left' ? null : 'left')}>\n                <Pin className=\"w-4 h-4 mr-2 rotate-45\" />\n                {column.pinned === 'left' ? 'Unpin' : 'Pin Left'}\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={() => onPin?.(column.pinned === 'right' ? null : 'right')}>\n                <Pin className=\"w-4 h-4 mr-2 -rotate-45\" />\n                {column.pinned === 'right' ? 'Unpin' : 'Pin Right'}\n              </DropdownMenuItem>\n              \n              <DropdownMenuSeparator />\n              \n              {column.resizable && (\n                <>\n                  <DropdownMenuItem onClick={onAutoSize}>\n                    <Maximize2 className=\"w-4 h-4 mr-2\" />\n                    Auto Size Column\n                  </DropdownMenuItem>\n                  <DropdownMenuSeparator />\n                </>\n              )}\n              \n              <DropdownMenuItem onClick={onHide}>\n                <EyeOff className=\"w-4 h-4 mr-2\" />\n                Hide Column\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n      </div>\n\n      {/* Resize handle */}\n      {column.resizable && (\n        <div\n          ref={resizeRef}\n          className={cn(\n            'absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-400 z-10',\n            isDragging && 'bg-blue-500'\n          )}\n          onMouseDown={handleMouseDown}\n          onClick={(e) => e.stopPropagation()}\n        />\n      )}\n    </div>\n  );\n}","'use client';\n\nimport React, { useState, useRef, useEffect, memo } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { ColumnDef, RowData, CellEditorParams } from './types';\nimport { TableUtils } from './utils';\nimport { Check, X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface TableCellProps<T extends RowData> {\n  column: ColumnDef<T>;\n  data: T;\n  value: any;\n  rowIndex: number;\n  isEditing: boolean;\n  onStartEdit: () => void;\n  onSave: (newValue: any) => void;\n  onCancel: () => void;\n  isSelected?: boolean;\n  className?: string;\n}\n\nexport function TableCell<T extends RowData>({\n  column,\n  data,\n  value,\n  rowIndex,\n  isEditing,\n  onStartEdit,\n  onSave,\n  onCancel,\n  isSelected,\n  className\n}: TableCellProps<T>) {\n  const [editValue, setEditValue] = useState(value);\n  const [validationError, setValidationError] = useState<string | null>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (isEditing && inputRef.current) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n  }, [isEditing]);\n\n  useEffect(() => {\n    setEditValue(value);\n  }, [value]);\n\n  const handleSave = () => {\n    const error = TableUtils.validateCellValue(editValue, column);\n    if (error) {\n      setValidationError(error);\n      return;\n    }\n\n    setValidationError(null);\n    onSave(editValue);\n  };\n\n  const handleCancel = () => {\n    setEditValue(value);\n    setValidationError(null);\n    onCancel();\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      handleSave();\n    } else if (e.key === 'Escape') {\n      handleCancel();\n    }\n  };\n\n  const renderValue = () => {\n    if (column.cellRenderer) {\n      const rendered = column.cellRenderer({\n        value,\n        data,\n        field: column.field,\n        rowIndex,\n        colDef: column\n      });\n      \n      // If cellRenderer returns a simple value (string, number), wrap it properly\n      if (typeof rendered === 'string' || typeof rendered === 'number') {\n        return <span className=\"truncate block\">{rendered}</span>;\n      }\n      \n      // Otherwise return as-is (React element)\n      return rendered;\n    }\n\n    if (column.valueGetter) {\n      const displayValue = column.valueGetter(data);\n      return renderDefaultValue(displayValue);\n    }\n\n    return renderDefaultValue(value);\n  };\n\n  const renderDefaultValue = (val: any) => {\n    if (val === null || val === undefined) {\n      return <span className=\"text-gray-400\">â€”</span>;\n    }\n\n    switch (column.type) {\n      case 'boolean':\n        return (\n          <div className=\"flex justify-center\">\n            <Checkbox checked={Boolean(val)} disabled />\n          </div>\n        );\n      case 'date':\n        if (val instanceof Date) {\n          return val.toLocaleDateString();\n        }\n        if (typeof val === 'string') {\n          const date = new Date(val);\n          return isNaN(date.getTime()) ? val : date.toLocaleDateString();\n        }\n        return String(val);\n      case 'number':\n        return typeof val === 'number' ? val.toLocaleString() : val;\n      default:\n        // Return string for display with title attribute\n        return String(val);\n    }\n  };\n\n  // Get display text for title attribute\n  const getDisplayText = (): string => {\n    if (value === null || value === undefined) {\n      return '';\n    }\n\n    if (column.valueGetter) {\n      const displayValue = column.valueGetter(data);\n      if (displayValue === null || displayValue === undefined) return '';\n      \n      switch (column.type) {\n        case 'boolean':\n          return Boolean(displayValue) ? 'True' : 'False';\n        case 'date':\n          if (displayValue instanceof Date) {\n            return displayValue.toLocaleDateString();\n          }\n          if (typeof displayValue === 'string') {\n            const date = new Date(displayValue);\n            return isNaN(date.getTime()) ? displayValue : date.toLocaleDateString();\n          }\n          return String(displayValue);\n        case 'number':\n          return typeof displayValue === 'number' ? displayValue.toLocaleString() : String(displayValue);\n        default:\n          return String(displayValue);\n      }\n    }\n\n    switch (column.type) {\n      case 'boolean':\n        return Boolean(value) ? 'True' : 'False';\n      case 'date':\n        if (value instanceof Date) {\n          return value.toLocaleDateString();\n        }\n        if (typeof value === 'string') {\n          const date = new Date(value);\n          return isNaN(date.getTime()) ? value : date.toLocaleDateString();\n        }\n        return String(value);\n      case 'number':\n        return typeof value === 'number' ? value.toLocaleString() : String(value);\n      default:\n        return String(value);\n    }\n  };\n\n  const renderEditor = () => {\n    if (column.cellEditor) {\n      const editorParams: CellEditorParams<T> = {\n        value: editValue,\n        data,\n        field: column.field,\n        rowIndex,\n        colDef: column,\n        onValueChange: setEditValue,\n        onCancel: handleCancel,\n        onSave: handleSave\n      };\n      return column.cellEditor(editorParams);\n    }\n\n    return renderDefaultEditor();\n  };\n\n  const renderDefaultEditor = () => {\n    switch (column.type) {\n      case 'boolean':\n        return (\n          <div className=\"flex items-center justify-center\">\n            <Checkbox\n              checked={Boolean(editValue)}\n              onCheckedChange={(checked) => setEditValue(checked)}\n              autoFocus\n            />\n          </div>\n        );\n\n      case 'select':\n        if (column.filterOptions) {\n          return (\n            <Select value={editValue} onValueChange={setEditValue}>\n              <SelectTrigger className=\"h-8\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {column.filterOptions.map(option => (\n                  <SelectItem key={option} value={option}>\n                    {option}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          );\n        }\n        break;\n\n      case 'number':\n        return (\n          <Input\n            ref={inputRef}\n            type=\"number\"\n            value={editValue || ''}\n            onChange={(e) => setEditValue(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className=\"h-8\"\n          />\n        );\n\n      case 'date':\n        return (\n          <Input\n            ref={inputRef}\n            type=\"date\"\n            value={editValue instanceof Date ? editValue.toISOString().split('T')[0] : editValue || ''}\n            onChange={(e) => setEditValue(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className=\"h-8\"\n          />\n        );\n\n      default:\n        return (\n          <Input\n            ref={inputRef}\n            type=\"text\"\n            value={editValue || ''}\n            onChange={(e) => setEditValue(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className=\"h-8\"\n          />\n        );\n    }\n\n    return (\n      <Input\n        ref={inputRef}\n        type=\"text\"\n        value={editValue || ''}\n        onChange={(e) => setEditValue(e.target.value)}\n        onKeyDown={handleKeyDown}\n        className=\"h-8\"\n      />\n    );\n  };\n\n  const cellClass = typeof column.cellClass === 'function' \n    ? column.cellClass(data) \n    : column.cellClass;\n\n  if (isEditing) {\n    return (\n      <div className={cn(\n        'h-full px-3 py-2 border-r border-gray-200 bg-white relative flex items-center',\n        isSelected && 'bg-blue-50',\n        cellClass,\n        className\n      )}>\n        <div className=\"flex items-center gap-1 w-full\">\n          <div className=\"flex-1 min-w-0\">\n            {renderEditor()}\n          </div>\n          <div className=\"flex gap-1 ml-2 flex-shrink-0\">\n            <Button\n              size=\"sm\"\n              variant=\"ghost\"\n              className=\"h-6 w-6 p-0 text-green-600 hover:bg-green-100\"\n              onClick={handleSave}\n            >\n              <Check className=\"w-3 h-3\" />\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"ghost\"\n              className=\"h-6 w-6 p-0 text-red-600 hover:bg-red-100\"\n              onClick={handleCancel}\n            >\n              <X className=\"w-3 h-3\" />\n            </Button>\n          </div>\n        </div>\n        {validationError && (\n          <div className=\"absolute top-full left-0 z-10 mt-1 text-xs text-red-600 bg-red-50 border border-red-200 rounded px-2 py-1\">\n            {validationError}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className={cn(\n        'h-full px-3 py-2 border-r border-gray-200 bg-white cursor-default flex items-center overflow-hidden',\n        column.editable && 'hover:bg-gray-50 cursor-pointer',\n        isSelected && 'bg-blue-50',\n        cellClass,\n        className\n      )}\n      onClick={column.editable ? onStartEdit : undefined}\n      onDoubleClick={column.editable ? onStartEdit : undefined}\n      title={getDisplayText()}\n    >\n      <div className=\"truncate w-full min-w-0\">\n        {renderValue()}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}