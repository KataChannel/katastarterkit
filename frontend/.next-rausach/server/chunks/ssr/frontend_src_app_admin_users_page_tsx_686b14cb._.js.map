{"version":3,"sources":["turbopack:///[project]/frontend/src/app/admin/users/page.tsx","turbopack:///[project]/frontend/src/components/admin/users/UserManagementHeader.tsx","turbopack:///[project]/frontend/src/lib/hooks/useUserManagement.ts","turbopack:///[project]/frontend/src/lib/graphql/user-queries.ts","turbopack:///[project]/frontend/src/lib/graphql/universal-dynamic-hooks.ts","turbopack:///[project]/frontend/src/components/admin/users/UserManagementContent.tsx","turbopack:///[project]/frontend/src/components/admin/users/CreateUserModal.tsx","turbopack:///[project]/frontend/src/components/admin/users/EditUserModal.tsx","turbopack:///[project]/frontend/src/graphql/admin/user-management.graphql.ts","turbopack:///[project]/frontend/src/components/admin/users/ErrorState.tsx","turbopack:///[project]/frontend/src/components/admin/users/UserTable.tsx","turbopack:///[project]/frontend/src/components/admin/users/TablePagination.tsx","turbopack:///[project]/frontend/src/components/admin/users/UserTableSkeleton.tsx","turbopack:///[project]/frontend/src/components/admin/users/LoadingState.tsx","turbopack:///[project]/frontend/src/components/admin/users/AccessDenied.tsx","turbopack:///[project]/frontend/src/components/admin/rbac/RbacManagement.tsx","turbopack:///[project]/frontend/src/components/admin/rbac/RoleManagement.tsx","turbopack:///[project]/frontend/src/graphql/rbac.queries.ts","turbopack:///[project]/frontend/src/hooks/useRbac.ts","turbopack:///[project]/frontend/src/components/admin/rbac/AssignRolePermissionsModal.tsx","turbopack:///[project]/frontend/src/components/admin/rbac/CreateRoleModal.tsx","turbopack:///[project]/frontend/src/components/admin/rbac/EditRoleModal.tsx","turbopack:///[project]/frontend/src/components/admin/rbac/CreatePermissionModal.tsx","turbopack:///[project]/frontend/src/components/admin/rbac/EditPermissionModal.tsx","turbopack:///[project]/frontend/src/components/admin/rbac/PermissionManagement.tsx","turbopack:///[project]/frontend/src/components/admin/rbac/UserRoleAssignment.tsx","turbopack:///[project]/frontend/src/components/admin/rbac/UserRolePermissionModal.tsx"],"sourcesContent":["/**\n * Admin Users Page\n * \n * Main entry point for user management\n * Clean, simple, and maintainable\n */\n\n'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/contexts/AuthContext';\n\n// Import components\nimport { UserManagementHeader } from '@/components/admin/users/UserManagementHeader';\nimport { UserManagementContent } from '@/components/admin/users/UserManagementContent';\nimport { LoadingState } from '@/components/admin/users/LoadingState';\nimport { AccessDenied } from '@/components/admin/users/AccessDenied';\nimport RbacManagement from '@/components/admin/rbac/RbacManagement';\n\nexport default function AdminUsersPage() {\n  const { user, loading, isAuthenticated } = useAuth();\n  const router = useRouter();\n  const [activeTab, setActiveTab] = useState<'users' | 'rbac'>('users');\n\n  // Redirect if not authenticated\n  useEffect(() => {\n    if (!loading && !isAuthenticated) {\n      console.log('AdminUsersPage: Not authenticated, redirecting to login');\n      router.push('/login');\n    } else if (!loading && isAuthenticated && user?.roleType !== 'ADMIN') {\n      console.log('AdminUsersPage: User is not admin', { \n        roleType: user?.roleType \n      });\n      // Don't redirect, show access denied instead\n    }\n  }, [loading, isAuthenticated, user, router]);\n\n  // Show loading state\n  if (loading) {\n    return <LoadingState message=\"Loading admin panel...\" />;\n  }\n\n  // Show access denied for non-admin users\n  if (isAuthenticated && user?.roleType !== 'ADMIN') {\n    return <AccessDenied userRole={user?.roleType} requiredRole=\"ADMIN\" />;\n  }\n\n  // Redirect if not authenticated (will be handled by useEffect)\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  // Main content - only show if authenticated and admin\n  return (\n    <div className=\"container mx-auto py-8 space-y-6\">\n      {/* Page Header with Tab Navigation */}\n      <UserManagementHeader \n        activeTab={activeTab} \n        onTabChange={setActiveTab} \n      />\n\n      {/* Tab Content */}\n      {activeTab === 'users' && <UserManagementContent />}\n      {activeTab === 'rbac' && <RbacManagement />}\n    </div>\n  );\n}\n","/**\n * UserManagementHeader Component\n * \n * Displays page title, description, and tab navigation\n * Updated with shadcn Tabs component for better UX\n */\n\n'use client';\n\nimport React from 'react';\nimport { Tabs, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Users, Shield, Settings } from 'lucide-react';\n\ninterface UserManagementHeaderProps {\n  activeTab: 'users' | 'rbac';\n  onTabChange: (tab: 'users' | 'rbac') => void;\n}\n\nexport function UserManagementHeader({ activeTab, onTabChange }: UserManagementHeaderProps) {\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Title */}\n      <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-bold tracking-tight\">Bảng Điều Khiển Quản Trị</h1>\n          <p className=\"text-muted-foreground mt-2\">\n            Quản lý người dùng, vai trò và quyền hạn trên toàn hệ thống\n          </p>\n        </div>\n      </div>\n\n      {/* Tabs Navigation */}\n      <Tabs value={activeTab} onValueChange={(value) => onTabChange(value as 'users' | 'rbac')}>\n        <TabsList className=\"grid w-full max-w-md grid-cols-2\">\n          <TabsTrigger value=\"users\" className=\"gap-2\">\n            <Users className=\"w-4 h-4\" />\n            User Management\n          </TabsTrigger>\n          <TabsTrigger value=\"rbac\" className=\"gap-2\">\n            <Shield className=\"w-4 h-4\" />\n            RBAC & Permissions\n          </TabsTrigger>\n        </TabsList>\n      </Tabs>\n    </div>\n  );\n}\n","import { useQuery, useMutation, useApolloClient } from '@apollo/client';\nimport {\n  GET_USER_STATS,\n  GET_USER_BY_ID,\n  GET_ALL_USERS,\n  ADMIN_UPDATE_USER,\n  ADMIN_CREATE_USER,\n  BULK_USER_ACTION,\n  DELETE_USER,\n  UPDATE_USER,\n} from '../graphql/user-queries';\nimport { \n  useDynamicFindMany, \n  useDynamicCount \n} from '../graphql/universal-dynamic-hooks';\nimport { useMemo } from 'react';\n\n// Types\ninterface UserSearchInput {\n  search?: string;\n  roleType?: 'ADMIN' | 'USER' | 'GUEST';\n  isActive?: boolean;\n  isVerified?: boolean;\n  createdAfter?: string;\n  createdBefore?: string;\n  page?: number;\n  size?: number;\n  sortBy?: string;\n  sortOrder?: 'asc' | 'desc';\n}\n\ninterface BulkUserActionInput {\n  userIds: string[];\n  action: 'activate' | 'deactivate' | 'delete' | 'verify' | 'changeRole';\n  newRole?: 'ADMIN' | 'USER' | 'GUEST';\n}\n\ninterface AdminUpdateUserInput {\n  username?: string;\n  email?: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  roleType?: 'ADMIN' | 'USER' | 'GUEST';\n  isActive?: boolean;\n  isVerified?: boolean;\n  isTwoFactorEnabled?: boolean;\n  avatar?: string;\n}\n\ninterface AdminCreateUserInput {\n  username: string;\n  email?: string;\n  password: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  roleType?: 'ADMIN' | 'USER' | 'GUEST';\n  isActive?: boolean;\n  isVerified?: boolean;\n  avatar?: string;\n}\n\ninterface UpdateUserInput {\n  email?: string;\n  username?: string;\n  firstName?: string;\n  lastName?: string;\n  avatar?: string;\n}\n\n// Query hooks\n\n/**\n * useSearchUsers - Dynamic search users with flexible filtering\n * Uses Universal Dynamic Query System for maximum flexibility\n * \n * @example\n * const result = useSearchUsers({\n *   search: 'john',\n *   roleType: 'ADMIN',\n *   isActive: true,\n *   page: 0,\n *   size: 20\n * });\n * \n * // Access data\n * const { users, total, loading, error, refetch } = result;\n */\nexport function useSearchUsers(input: UserSearchInput = {}, options?: { skip?: boolean }) {\n  // Build dynamic where condition\n  const whereCondition = useMemo(() => {\n    const where: any = {};\n    \n    // Search across multiple fields\n    if (input.search && input.search.trim()) {\n      where.OR = [\n        { email: { contains: input.search, mode: 'insensitive' } },\n        { username: { contains: input.search, mode: 'insensitive' } },\n        { firstName: { contains: input.search, mode: 'insensitive' } },\n        { lastName: { contains: input.search, mode: 'insensitive' } },\n      ];\n    }\n    \n    // Filter by role type\n    if (input.roleType) {\n      where.roleType = { equals: input.roleType };\n    }\n    \n    // Filter by active status\n    if (input.isActive !== undefined) {\n      where.isActive = { equals: input.isActive };\n    }\n    \n    // Filter by verified status\n    if (input.isVerified !== undefined) {\n      where.isVerified = { equals: input.isVerified };\n    }\n    \n    // Date range filters\n    if (input.createdAfter) {\n      where.createdAt = { ...(where.createdAt || {}), gte: input.createdAfter };\n    }\n    \n    if (input.createdBefore) {\n      where.createdAt = { ...(where.createdAt || {}), lte: input.createdBefore };\n    }\n    \n    return where;\n  }, [input.search, input.roleType, input.isActive, input.isVerified, input.createdAfter, input.createdBefore]);\n\n  // Build orderBy condition\n  const orderBy = useMemo(() => {\n    const sortBy = input.sortBy || 'createdAt';\n    const sortOrder = input.sortOrder || 'desc';\n    return { [sortBy]: sortOrder };\n  }, [input.sortBy, input.sortOrder]);\n\n  // Calculate pagination\n  const page = input.page || 0;\n  const size = input.size || 20;\n\n  // Fetch users with Dynamic Query\n  const { data: usersData, loading: usersLoading, error: usersError, refetch: refetchUsers } = useDynamicFindMany({\n    model: 'user',\n    where: whereCondition,\n    orderBy,\n    pagination: {\n      page,\n      limit: size,\n      sortBy: input.sortBy || 'createdAt',\n      sortOrder: input.sortOrder || 'desc',\n    },\n    select: {\n      id: true,\n      email: true,\n      username: true,\n      firstName: true,\n      lastName: true,\n      phone: true,\n      avatar: true,\n      roleType: true,\n      isActive: true,\n      isVerified: true,\n      isTwoFactorEnabled: true,\n      failedLoginAttempts: true,\n      lockedUntil: true,\n      lastLoginAt: true,\n      createdAt: true,\n      updatedAt: true,\n    },\n  }, {\n    fetchPolicy: 'cache-and-network',\n    skip: options?.skip,\n  });\n\n  // Count total users\n  const { data: countData, loading: countLoading, error: countError } = useDynamicCount({\n    model: 'user',\n    where: whereCondition,\n  }, {\n    fetchPolicy: 'cache-and-network',\n    skip: options?.skip,\n  });\n\n  // Extract and transform data\n  const users = usersData?.dynamicFindMany?.data || [];\n  const total = countData?.dynamicCount?.data || 0;\n  const totalPages = Math.ceil(total / size);\n  const loading = usersLoading || countLoading;\n  const error = usersError || countError;\n\n  // Refetch function\n  const refetch = async (newInput?: UserSearchInput) => {\n    if (newInput) {\n      // Note: For complex refetch with new params, component should call hook with new params\n      console.warn('useSearchUsers: refetch with new input not fully supported. Re-render component with new input instead.');\n    }\n    await Promise.all([\n      refetchUsers(),\n      // Count will auto-refetch due to same where condition\n    ]);\n  };\n\n  return {\n    data: {\n      searchUsers: {\n        users,\n        total,\n        page,\n        size,\n        totalPages,\n      },\n    },\n    users,\n    total,\n    page,\n    size,\n    totalPages,\n    loading,\n    error,\n    refetch,\n  };\n}\n\nexport function useUserStats(options?: { skip?: boolean }) {\n  return useQuery(GET_USER_STATS, {\n    fetchPolicy: 'cache-and-network',\n    errorPolicy: 'all',\n    skip: options?.skip,\n  });\n}\n\nexport function useUserById(id: string) {\n  return useQuery(GET_USER_BY_ID, {\n    variables: { id },\n    skip: !id,\n    errorPolicy: 'all',\n  });\n}\n\nexport function useAllUsers() {\n  return useQuery(GET_ALL_USERS, {\n    fetchPolicy: 'cache-and-network',\n    errorPolicy: 'all',\n  });\n}\n\n// Mutation hooks\nexport function useAdminUpdateUser() {\n  const client = useApolloClient();\n  \n  return useMutation(ADMIN_UPDATE_USER, {\n    onCompleted: () => {\n      // Refetch queries to update cache\n      // Note: Dynamic queries will auto-update, but we keep these for compatibility\n      client.refetchQueries({\n        include: [GET_ALL_USERS, GET_USER_STATS],\n      });\n    },\n    errorPolicy: 'all',\n  });\n}\n\nexport function useAdminCreateUser() {\n  const client = useApolloClient();\n  \n  return useMutation(ADMIN_CREATE_USER, {\n    onCompleted: () => {\n      // Refetch queries to update cache\n      // Note: Dynamic queries will auto-update, but we keep these for compatibility\n      client.refetchQueries({\n        include: [GET_ALL_USERS, GET_USER_STATS],\n      });\n    },\n    errorPolicy: 'all',\n  });\n}\n\nexport function useBulkUserAction() {\n  const client = useApolloClient();\n  \n  return useMutation(BULK_USER_ACTION, {\n    onCompleted: () => {\n      // Refetch queries to update cache\n      // Note: Dynamic queries will auto-update, but we keep these for compatibility\n      client.refetchQueries({\n        include: [GET_ALL_USERS, GET_USER_STATS],\n      });\n    },\n    errorPolicy: 'all',\n  });\n}\n\nexport function useDeleteUser() {\n  const client = useApolloClient();\n  \n  return useMutation(DELETE_USER, {\n    onCompleted: () => {\n      // Refetch queries to update cache\n      // Note: Dynamic queries will auto-update, but we keep these for compatibility\n      client.refetchQueries({\n        include: [GET_ALL_USERS, GET_USER_STATS],\n      });\n    },\n    errorPolicy: 'all',\n  });\n}\n\nexport function useUpdateUser() {\n  const client = useApolloClient();\n  \n  return useMutation(UPDATE_USER, {\n    onCompleted: () => {\n      // Refetch queries to update cache\n      // Note: Dynamic queries will auto-update, but we keep these for compatibility\n      client.refetchQueries({\n        include: [GET_USER_BY_ID],\n      });\n    },\n    errorPolicy: 'all',\n  });\n}","import { gql } from '@apollo/client';\nimport { USER_FRAGMENT } from '@/lib/graphql/shared-fragments';\n\n// Re-export for backward compatibility\nexport { USER_FRAGMENT };\n\n// User management queries\nexport const SEARCH_USERS = gql`\n  query SearchUsers($input: UserSearchInput!) {\n    searchUsers(input: $input) {\n      users {\n        ...UserFragment\n      }\n      total\n      page\n      size\n      totalPages\n    }\n  }\n  ${USER_FRAGMENT}\n`;\n\nexport const GET_USER_STATS = gql`\n  query GetUserStats {\n    getUserStats {\n      totalUsers\n      activeUsers\n      verifiedUsers\n      newUsersThisMonth\n      adminUsers\n      regularUsers\n      guestUsers\n    }\n  }\n`;\n\nexport const GET_USER_BY_ID = gql`\n  query GetUserById($id: String!) {\n    getUserById(id: $id) {\n      ...UserFragment\n    }\n  }\n  ${USER_FRAGMENT}\n`;\n\nexport const GET_ALL_USERS = gql`\n  query GetAllUsers {\n    getUsers {\n      ...UserFragment\n    }\n  }\n  ${USER_FRAGMENT}\n`;\n\n// User management mutations\nexport const ADMIN_UPDATE_USER = gql`\n  mutation AdminUpdateUser($id: String!, $input: AdminUpdateUserInput!) {\n    adminUpdateUser(id: $id, input: $input) {\n      ...UserFragment\n    }\n  }\n  ${USER_FRAGMENT}\n`;\n\nexport const BULK_USER_ACTION = gql`\n  mutation BulkUserAction($input: BulkUserActionInput!) {\n    bulkUserAction(input: $input) {\n      success\n      affectedCount\n      errors\n      message\n    }\n  }\n`;\n\nexport const ADMIN_CREATE_USER = gql`\n  mutation AdminCreateUser($input: AdminCreateUserInput!) {\n    adminCreateUser(input: $input) {\n      ...UserFragment\n    }\n  }\n  ${USER_FRAGMENT}\n`;\n\nexport const DELETE_USER = gql`\n  mutation DeleteUser($id: String!) {\n    deleteUser(id: $id)\n  }\n`;\n\n// Regular user mutations\nexport const UPDATE_USER = gql`\n  mutation UpdateUser($id: String!, $input: UpdateUserInput!) {\n    updateUser(id: $id, input: $input) {\n      ...UserFragment\n    }\n  }\n  ${USER_FRAGMENT}\n`;","'use client';\n\nimport { useQuery, useMutation, ApolloError } from '@apollo/client';\nimport { useCallback, useMemo } from 'react';\nimport {\n  DYNAMIC_FIND_MANY,\n  DYNAMIC_FIND_UNIQUE,\n  DYNAMIC_FIND_FIRST,\n  DYNAMIC_CREATE,\n  DYNAMIC_CREATE_MANY,\n  DYNAMIC_UPDATE,\n  DYNAMIC_UPDATE_MANY,\n  DYNAMIC_UPSERT,\n  DYNAMIC_DELETE,\n  DYNAMIC_DELETE_MANY,\n  DYNAMIC_COUNT,\n  DYNAMIC_AGGREGATE,\n  DYNAMIC_GROUP_BY,\n  LIST_AVAILABLE_MODELS,\n} from './universal-dynamic-queries';\n\nimport type {\n  FindManyInput,\n  FindUniqueInput,\n  CreateInput,\n  CreateManyInput,\n  UpdateInput,\n  UpdateManyInput,\n  UpsertInput,\n  DeleteInput,\n  DeleteManyInput,\n  CountInput,\n  AggregateInput,\n  GroupByInput,\n  DynamicQueryOptions,\n  DynamicMutationOptions,\n  DynamicQueryResult,\n  CreateManyResult,\n  UpdateManyResult,\n  DeleteManyResult,\n  CountResult,\n  AggregateResult,\n  GroupByResult,\n  ModelName,\n} from './universal-dynamic-types';\n\n// ==================== FIND HOOKS ====================\n\n/**\n * useDynamicFindMany - Find multiple records with pagination\n * \n * @example\n * const { data, loading, error } = useDynamicFindMany({\n *   model: 'user',\n *   where: { isActive: true },\n *   select: { id: true, email: true, name: true },\n *   pagination: { page: 1, limit: 20 }\n * });\n */\nexport function useDynamicFindMany<T = any>(\n  input: FindManyInput,\n  options?: DynamicQueryOptions\n) {\n  return useQuery<{ dynamicFindMany: DynamicQueryResult<T[]> }>(\n    DYNAMIC_FIND_MANY,\n    {\n      variables: { input },\n      ...options,\n    }\n  );\n}\n\n/**\n * useDynamicFindUnique - Find single unique record\n * \n * @example\n * const { data, loading } = useDynamicFindUnique({\n *   model: 'user',\n *   where: { id: 'user-uuid' },\n *   include: { posts: true }\n * });\n */\nexport function useDynamicFindUnique<T = any>(\n  input: FindUniqueInput,\n  options?: DynamicQueryOptions\n) {\n  return useQuery<{ dynamicFindUnique: T }>(\n    DYNAMIC_FIND_UNIQUE,\n    {\n      variables: { input },\n      ...options,\n    }\n  );\n}\n\n/**\n * useDynamicFindFirst - Find first matching record\n * \n * @example\n * const { data } = useDynamicFindFirst({\n *   model: 'post',\n *   where: { published: true },\n *   orderBy: { createdAt: 'desc' }\n * });\n */\nexport function useDynamicFindFirst<T = any>(\n  input: FindManyInput,\n  options?: DynamicQueryOptions\n) {\n  return useQuery<{ dynamicFindFirst: T }>(\n    DYNAMIC_FIND_FIRST,\n    {\n      variables: { input },\n      ...options,\n    }\n  );\n}\n\n// ==================== CREATE HOOKS ====================\n\n/**\n * useDynamicCreate - Create single record\n * \n * @example\n * const [createUser, { data, loading }] = useDynamicCreate();\n * \n * await createUser({\n *   variables: {\n *     input: {\n *       model: 'user',\n *       data: { email: 'new@example.com', name: 'New User' }\n *     }\n *   }\n * });\n */\nexport function useDynamicCreate<T = any>(options?: DynamicMutationOptions) {\n  return useMutation<\n    { dynamicCreate: T },\n    { input: CreateInput }\n  >(DYNAMIC_CREATE, options);\n}\n\n/**\n * useDynamicCreateMany - Bulk create records\n * \n * @example\n * const [createMany] = useDynamicCreateMany();\n * \n * await createMany({\n *   variables: {\n *     input: {\n *       model: 'task',\n *       data: [\n *         { title: 'Task 1', status: 'TODO' },\n *         { title: 'Task 2', status: 'TODO' }\n *       ]\n *     }\n *   }\n * });\n */\nexport function useDynamicCreateMany(options?: DynamicMutationOptions) {\n  return useMutation<\n    { dynamicCreateMany: CreateManyResult },\n    { input: CreateManyInput }\n  >(DYNAMIC_CREATE_MANY, options);\n}\n\n// ==================== UPDATE HOOKS ====================\n\n/**\n * useDynamicUpdate - Update single record\n * \n * @example\n * const [updateUser] = useDynamicUpdate();\n * \n * await updateUser({\n *   variables: {\n *     input: {\n *       model: 'user',\n *       where: { id: 'user-uuid' },\n *       data: { name: 'Updated Name' }\n *     }\n *   }\n * });\n */\nexport function useDynamicUpdate<T = any>(options?: DynamicMutationOptions) {\n  return useMutation<\n    { dynamicUpdate: T },\n    { input: UpdateInput }\n  >(DYNAMIC_UPDATE, options);\n}\n\n/**\n * useDynamicUpdateMany - Bulk update records\n * \n * @example\n * const [updateMany] = useDynamicUpdateMany();\n * \n * await updateMany({\n *   variables: {\n *     input: {\n *       model: 'task',\n *       where: { status: 'TODO' },\n *       data: { priority: 'HIGH' }\n *     }\n *   }\n * });\n */\nexport function useDynamicUpdateMany(options?: DynamicMutationOptions) {\n  return useMutation<\n    { dynamicUpdateMany: UpdateManyResult },\n    { input: UpdateManyInput }\n  >(DYNAMIC_UPDATE_MANY, options);\n}\n\n/**\n * useDynamicUpsert - Create or update record\n * \n * @example\n * const [upsert] = useDynamicUpsert();\n * \n * await upsert({\n *   variables: {\n *     input: {\n *       model: 'user',\n *       where: { email: 'user@example.com' },\n *       create: { email: 'user@example.com', name: 'New User' },\n *       update: { name: 'Updated User' }\n *     }\n *   }\n * });\n */\nexport function useDynamicUpsert<T = any>(options?: DynamicMutationOptions) {\n  return useMutation<\n    { dynamicUpsert: T },\n    { input: UpsertInput }\n  >(DYNAMIC_UPSERT, options);\n}\n\n// ==================== DELETE HOOKS ====================\n\n/**\n * useDynamicDelete - Delete single record\n * \n * @example\n * const [deleteTask] = useDynamicDelete();\n * \n * await deleteTask({\n *   variables: {\n *     input: {\n *       model: 'task',\n *       where: { id: 'task-uuid' }\n *     }\n *   }\n * });\n */\nexport function useDynamicDelete<T = any>(options?: DynamicMutationOptions) {\n  return useMutation<\n    { dynamicDelete: T },\n    { input: DeleteInput }\n  >(DYNAMIC_DELETE, options);\n}\n\n/**\n * useDynamicDeleteMany - Bulk delete records\n * \n * @example\n * const [deleteMany] = useDynamicDeleteMany();\n * \n * await deleteMany({\n *   variables: {\n *     input: {\n *       model: 'post',\n *       where: { published: false }\n *     }\n *   }\n * });\n */\nexport function useDynamicDeleteMany(options?: DynamicMutationOptions) {\n  return useMutation<\n    { dynamicDeleteMany: DeleteManyResult },\n    { input: DeleteManyInput }\n  >(DYNAMIC_DELETE_MANY, options);\n}\n\n// ==================== AGGREGATION HOOKS ====================\n\n/**\n * useDynamicCount - Count records\n * \n * @example\n * const { data } = useDynamicCount({\n *   model: 'user',\n *   where: { isActive: true }\n * });\n */\nexport function useDynamicCount(\n  input: CountInput,\n  options?: DynamicQueryOptions\n) {\n  return useQuery<{ dynamicCount: CountResult }>(\n    DYNAMIC_COUNT,\n    {\n      variables: { input },\n      ...options,\n    }\n  );\n}\n\n/**\n * useDynamicAggregate - Aggregate computations\n * \n * @example\n * const { data } = useDynamicAggregate({\n *   model: 'ext_listhoadon',\n *   where: { status: 'paid' },\n *   _sum: { totalAmount: true },\n *   _avg: { totalAmount: true },\n *   _count: true\n * });\n */\nexport function useDynamicAggregate(\n  input: AggregateInput,\n  options?: DynamicQueryOptions\n) {\n  return useQuery<{ dynamicAggregate: AggregateResult }>(\n    DYNAMIC_AGGREGATE,\n    {\n      variables: { input },\n      ...options,\n    }\n  );\n}\n\n/**\n * useDynamicGroupBy - Group and aggregate\n * \n * @example\n * const { data } = useDynamicGroupBy({\n *   model: 'task',\n *   by: ['status'],\n *   _count: { _all: true },\n *   where: { userId: 'user-uuid' }\n * });\n */\nexport function useDynamicGroupBy(\n  input: GroupByInput,\n  options?: DynamicQueryOptions\n) {\n  return useQuery<{ dynamicGroupBy: GroupByResult[] }>(\n    DYNAMIC_GROUP_BY,\n    {\n      variables: { input },\n      ...options,\n    }\n  );\n}\n\n// ==================== UTILITY HOOKS ====================\n\n/**\n * useListAvailableModels - Get all available models\n * \n * @example\n * const { data } = useListAvailableModels();\n * // data.listAvailableModels = ['user', 'post', 'task', ...]\n */\nexport function useListAvailableModels(options?: DynamicQueryOptions) {\n  return useQuery<{ listAvailableModels: string[] }>(\n    LIST_AVAILABLE_MODELS,\n    options\n  );\n}\n\n// ==================== COMPOSITE HOOKS ====================\n\n/**\n * useDynamicCRUD - Get all CRUD operations for a model\n * \n * @example\n * const crud = useDynamicCRUD('user');\n * \n * // Use operations\n * const { data, loading } = crud.findMany({ where: { isActive: true } });\n * await crud.create({ data: { email: 'new@test.com' } });\n * await crud.update({ where: { id: 'uuid' }, data: { name: 'New Name' } });\n * await crud.delete({ where: { id: 'uuid' } });\n */\nexport function useDynamicCRUD<T = any>(model: ModelName) {\n  const [create] = useDynamicCreate<T>();\n  const [update] = useDynamicUpdate<T>();\n  const [deleteRecord] = useDynamicDelete<T>();\n  const [createMany] = useDynamicCreateMany();\n  const [updateMany] = useDynamicUpdateMany();\n  const [deleteMany] = useDynamicDeleteMany();\n\n  return useMemo(() => ({\n    model,\n    \n    // Query methods (need to be called with useQuery separately)\n    findMany: (input: Omit<FindManyInput, 'model'>) => ({\n      model,\n      ...input,\n    }),\n    \n    findUnique: (input: Omit<FindUniqueInput, 'model'>) => ({\n      model,\n      ...input,\n    }),\n    \n    findFirst: (input: Omit<FindManyInput, 'model'>) => ({\n      model,\n      ...input,\n    }),\n    \n    // Mutation methods\n    create: (data: Record<string, any>, options?: { select?: Record<string, any>; include?: Record<string, any> }) =>\n      create({\n        variables: {\n          input: {\n            model,\n            data,\n            select: options?.select,\n            include: options?.include,\n          },\n        },\n      }),\n    \n    createMany: (data: Array<Record<string, any>>, skipDuplicates = false) =>\n      createMany({\n        variables: {\n          input: {\n            model,\n            data,\n            skipDuplicates,\n          },\n        },\n      }),\n    \n    update: (where: Record<string, any>, data: Record<string, any>, options?: { select?: Record<string, any>; include?: Record<string, any> }) =>\n      update({\n        variables: {\n          input: {\n            model,\n            where,\n            data,\n            select: options?.select,\n            include: options?.include,\n          },\n        },\n      }),\n    \n    updateMany: (where: Record<string, any>, data: Record<string, any>) =>\n      updateMany({\n        variables: {\n          input: {\n            model,\n            where,\n            data,\n          },\n        },\n      }),\n    \n    delete: (where: Record<string, any>) =>\n      deleteRecord({\n        variables: {\n          input: {\n            model,\n            where,\n          },\n        },\n      }),\n    \n    deleteMany: (where: Record<string, any>) =>\n      deleteMany({\n        variables: {\n          input: {\n            model,\n            where,\n          },\n        },\n      }),\n  }), [model, create, update, deleteRecord, createMany, updateMany, deleteMany]);\n}\n\n// ==================== LAZY QUERY HOOK ====================\n\n/**\n * useLazyDynamicFindMany - Lazy load multiple records\n * \n * @example\n * const [loadUsers, { data, loading }] = useLazyDynamicFindMany();\n * \n * // Later...\n * loadUsers({\n *   variables: {\n *     input: {\n *       model: 'user',\n *       where: { isActive: true }\n *     }\n *   }\n * });\n */\nexport function useLazyDynamicFindMany<T = any>() {\n  const [execute, result] = useMutation<\n    { dynamicFindMany: DynamicQueryResult<T[]> },\n    { input: FindManyInput }\n  >(DYNAMIC_FIND_MANY);\n\n  return [execute, result] as const;\n}\n\n// ==================== ERROR HANDLING WRAPPER ====================\n\n/**\n * withErrorHandler - Wrap hook with error handler\n * \n * @example\n * const { data, error } = withErrorHandler(\n *   useDynamicFindMany({ model: 'user' }),\n *   (error) => {\n *     console.error('Failed to load users:', error);\n *     toast.error('Failed to load users');\n *   }\n * );\n */\nexport function withErrorHandler<T>(\n  hookResult: any,\n  onError: (error: ApolloError) => void\n) {\n  const { error, ...rest } = hookResult;\n  \n  if (error && onError) {\n    onError(error);\n  }\n  \n  return { error, ...rest };\n}\n","/**\n * UserManagementContent Component\n * \n * Main content component for user management\n * Handles all user-related logic and state\n */\n\n'use client';\n\nimport React, { useState, useMemo } from 'react';\nimport { useSearchUsers, useUserStats, useBulkUserAction } from '@/lib/hooks/useUserManagement';\nimport { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Loader2, RefreshCw } from 'lucide-react';\nimport { toast } from '@/hooks/use-toast';\n\n// Import sub-components\nimport { CreateUserModal } from './CreateUserModal';\nimport { EditUserModal } from './EditUserModal';\nimport { ErrorState } from './ErrorState';\nimport { UserTable } from './UserTable';\n\ninterface UserSearchFilters {\n  search: string;\n  roleType?: 'ADMIN' | 'USER' | 'GUEST';\n  isActive?: boolean;\n  isVerified?: boolean;\n  page: number;\n  size: number;\n  sortBy: string;\n  sortOrder: 'asc' | 'desc';\n}\n\nexport function UserManagementContent() {\n  // State management\n  const [filters, setFilters] = useState<UserSearchFilters>({\n    search: '',\n    roleType: undefined,\n    isActive: undefined,\n    isVerified: undefined,\n    page: 0,\n    size: 20,\n    sortBy: 'createdAt',\n    sortOrder: 'desc',\n  });\n\n  const [selectedUsers, setSelectedUsers] = useState<string[]>([]);\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [editingUser, setEditingUser] = useState<any>(null);\n  const [showFilters, setShowFilters] = useState(false);\n\n  // Build search input - Now compatible with Dynamic Query System\n  const searchInput = useMemo(() => {\n    const input: any = {\n      page: filters.page,\n      size: filters.size,\n      sortBy: filters.sortBy,\n      sortOrder: filters.sortOrder,\n    };\n\n    if (filters.search?.trim()) {\n      input.search = filters.search.trim();\n    }\n\n    if (filters.roleType) {\n      input.roleType = filters.roleType;\n    }\n\n    if (filters.isActive !== undefined) {\n      input.isActive = filters.isActive;\n    }\n\n    if (filters.isVerified !== undefined) {\n      input.isVerified = filters.isVerified;\n    }\n\n    return input;\n  }, [filters]);\n\n  // GraphQL hooks - Using new Dynamic Query System\n  const { \n    users,\n    total,\n    page,\n    size,\n    totalPages,\n    loading: usersLoading, \n    error: usersError, \n    refetch: refetchUsers \n  } = useSearchUsers(searchInput);\n\n  const { data: statsData, loading: statsLoading } = useUserStats();\n  const [bulkUserAction, { loading: bulkActionLoading }] = useBulkUserAction();\n\n  // Handle filter changes\n  const handleFilterChange = (key: keyof UserSearchFilters, value: any) => {\n    setFilters(prev => ({\n      ...prev,\n      [key]: value,\n      page: key !== 'page' ? 0 : value, // Reset page when other filters change\n    }));\n  };\n\n  // Handle search\n  const handleSearch = (searchTerm: string) => {\n    handleFilterChange('search', searchTerm);\n  };\n\n  // Handle page size change\n  const handlePageSizeChange = (newSize: number) => {\n    handleFilterChange('size', newSize);\n  };\n\n  // Handle pagination\n  const handlePageChange = (newPage: number) => {\n    handleFilterChange('page', newPage);\n  };\n\n  // Handle sorting\n  const handleSort = (sortBy: string, sortOrder: string) => {\n    setFilters(prev => ({ \n      ...prev, \n      sortBy, \n      sortOrder: sortOrder as 'asc' | 'desc' \n    }));\n  };\n\n  // Handle user selection\n  const handleSelectUser = (userId: string) => {\n    setSelectedUsers(prev => \n      prev.includes(userId) \n        ? prev.filter(id => id !== userId)\n        : [...prev, userId]\n    );\n  };\n\n  const handleSelectAll = (userIds: string[]) => {\n    // If all current page users are selected, deselect all\n    // Otherwise, select all users on current page\n    const allCurrentPageSelected = userIds.every(id => selectedUsers.includes(id));\n    \n    if (allCurrentPageSelected) {\n      // Deselect all users on current page\n      setSelectedUsers(prev => prev.filter(id => !userIds.includes(id)));\n    } else {\n      // Select all users on current page (merge with existing selection)\n      setSelectedUsers(prev => {\n        const newSelection = [...prev];\n        userIds.forEach(id => {\n          if (!newSelection.includes(id)) {\n            newSelection.push(id);\n          }\n        });\n        return newSelection;\n      });\n    }\n  };\n\n  // Handle bulk actions\n  const handleBulkAction = async (action: string, newRole?: string) => {\n    if (selectedUsers.length === 0) {\n      toast({\n        title: 'No users selected',\n        description: 'Please select users to perform bulk actions.',\n        type: 'error',\n        variant: 'destructive',\n      });\n      return;\n    }\n\n    // Validate userIds are UUIDs\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\n    const invalidIds = selectedUsers.filter(id => !uuidRegex.test(id));\n    \n    if (invalidIds.length > 0) {\n      console.error('Invalid user IDs detected:', invalidIds);\n      toast({\n        title: 'Invalid user selection',\n        description: 'Some selected users have invalid IDs. Please refresh and try again.',\n        type: 'error',\n        variant: 'destructive',\n      });\n      setSelectedUsers([]);\n      return;\n    }\n\n    try {\n      const result = await bulkUserAction({\n        variables: {\n          input: {\n            userIds: selectedUsers,\n            action,\n            newRole: newRole?.toUpperCase(),\n          },\n        },\n      });\n\n      if (result.data?.bulkUserAction?.success) {\n        toast({\n          title: 'Bulk action completed',\n          description: result.data.bulkUserAction.message,\n          type: 'success',\n        });\n        setSelectedUsers([]);\n        refetchUsers();\n      } else {\n        const errorMessage = result.data?.bulkUserAction?.message || 'Unknown error occurred';\n        const errors = result.data?.bulkUserAction?.errors || [];\n        \n        toast({\n          title: 'Bulk action failed',\n          description: errors.length > 0 ? errors.join(', ') : errorMessage,\n          type: 'error',\n          variant: 'destructive',\n        });\n      }\n    } catch (error: any) {\n      console.error('Bulk action error:', error);\n      \n      // Extract meaningful error message\n      let errorMessage = 'Failed to perform bulk action';\n      \n      if (error.graphQLErrors && error.graphQLErrors.length > 0) {\n        errorMessage = error.graphQLErrors.map((e: any) => e.message).join(', ');\n      } else if (error.message) {\n        errorMessage = error.message;\n      }\n      \n      toast({\n        title: 'Error',\n        description: errorMessage,\n        type: 'error',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  // Handle export\n  const handleExport = async () => {\n    toast({\n      title: 'Export started',\n      description: 'User data export is being prepared...',\n      type: 'info',\n    });\n    // TODO: Implement actual export functionality\n  };\n\n  // Handle delete user\n  const handleDeleteUser = async (user: any) => {\n    try {\n      await bulkUserAction({\n        variables: {\n          input: {\n            userIds: [user.id],\n            action: 'delete',\n          },\n        },\n      });\n\n      toast({\n        title: 'Success',\n        description: `User ${user.username} has been deleted.`,\n        type: 'success',\n      });\n\n      // Remove from selection if selected\n      setSelectedUsers(prev => prev.filter(id => id !== user.id));\n      \n      // Refetch users\n      await refetchUsers();\n    } catch (error: any) {\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to delete user',\n        type: 'error',\n        variant: 'destructive',\n      });\n    }\n  };\n\n  // Handle errors\n  if (usersError) {\n    return (\n      <ErrorState\n        title=\"Error Loading Users\"\n        message={usersError.message || 'Failed to load users data'}\n        onRetry={() => refetchUsers()}\n        retryLabel=\"Retry Loading Users\"\n      />\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Users Table */}\n  <UserTable\n            data={{\n              users,\n              total,\n              page,\n              size,\n              totalPages,\n            }}\n            loading={usersLoading}\n            selectedUsers={selectedUsers}\n            onSelectUser={handleSelectUser}\n            onSelectAll={handleSelectAll}\n            onSort={handleSort}\n            onPageChange={handlePageChange}\n            onCreateUser={() => setIsCreateModalOpen(true)}\n            onEditUser={setEditingUser}\n            onDeleteUser={handleDeleteUser}\n            sortBy={filters.sortBy}\n            sortOrder={filters.sortOrder}\n          />\n\n      {/* Modals */}\n      <CreateUserModal\n        isOpen={isCreateModalOpen}\n        onClose={() => setIsCreateModalOpen(false)}\n        onSuccess={() => {\n          setIsCreateModalOpen(false);\n          refetchUsers();\n        }}\n      />\n\n      <EditUserModal\n        user={editingUser}\n        isOpen={!!editingUser}\n        onClose={() => setEditingUser(null)}\n        onSuccess={() => {\n          setEditingUser(null);\n          refetchUsers();\n        }}\n      />\n    </div>\n  );\n}\n","'use client';\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useAdminCreateUser } from '@/lib/hooks/useUserManagement';\nimport { Button } from '@/components/ui/button';\nimport { toast } from '@/hooks/use-toast';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Switch } from '@/components/ui/switch';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { X, UserPlus, Loader2, AlertCircle } from 'lucide-react';\n\ninterface CreateUserModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\ninterface FormData {\n  username: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  phone: string;\n  password: string;\n  roleType: 'ADMIN' | 'USER' | 'GUEST';\n  isActive: boolean;\n  isVerified: boolean;\n}\n\ninterface FormErrors {\n  username?: string;\n  email?: string;\n  password?: string;\n  phone?: string;\n}\n\nconst INITIAL_FORM_DATA: FormData = {\n  username: '',\n  email: '',\n  firstName: '',\n  lastName: '',\n  phone: '',\n  password: '',\n  roleType: 'USER',\n  isActive: true,\n  isVerified: false,\n};\n\nexport function CreateUserModal({ isOpen, onClose, onSuccess }: CreateUserModalProps) {\n  const [adminCreateUser, { loading }] = useAdminCreateUser();\n  const [formData, setFormData] = useState<FormData>(INITIAL_FORM_DATA);\n  const [errors, setErrors] = useState<FormErrors>({});\n  const [submitError, setSubmitError] = useState<string | null>(null);\n\n  // Reset form when modal opens\n  useEffect(() => {\n    if (isOpen) {\n      setFormData(INITIAL_FORM_DATA);\n      setErrors({});\n      setSubmitError(null);\n    }\n  }, [isOpen]);\n\n  // Validation function\n  const validateForm = useCallback((): boolean => {\n    const newErrors: FormErrors = {};\n\n    // Username validation\n    if (!formData.username.trim()) {\n      newErrors.username = 'Username is required';\n    } else if (formData.username.length < 3) {\n      newErrors.username = 'Username must be at least 3 characters';\n    } else if (!/^[a-zA-Z0-9_-]+$/.test(formData.username)) {\n      newErrors.username = 'Username can only contain letters, numbers, underscores, and hyphens';\n    }\n\n    // Email validation (optional but must be valid if provided)\n    if (formData.email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n\n    // Password validation\n    if (!formData.password) {\n      newErrors.password = 'Password is required';\n    } else if (formData.password.length < 8) {\n      newErrors.password = 'Password must be at least 8 characters';\n    } else if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/.test(formData.password)) {\n      newErrors.password = 'Password must contain uppercase, lowercase, and number';\n    }\n\n    // Phone validation (optional but must be valid if provided)\n    if (formData.phone && !/^[\\d\\s+()-]+$/.test(formData.phone)) {\n      newErrors.phone = 'Please enter a valid phone number';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [formData]);\n\n  const handleSubmit = useCallback(async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSubmitError(null);\n\n    if (!validateForm()) {\n      return;\n    }\n\n    try {\n      const result = await adminCreateUser({\n        variables: {\n          input: {\n            username: formData.username.trim(),\n            email: formData.email.trim() || undefined,\n            password: formData.password,\n            firstName: formData.firstName.trim() || undefined,\n            lastName: formData.lastName.trim() || undefined,\n            phone: formData.phone.trim() || undefined,\n            roleType: formData.roleType,\n            isActive: formData.isActive,\n            isVerified: formData.isVerified,\n          }\n        }\n      });\n\n      if (result.data?.adminCreateUser) {\n        toast({\n          title: 'User created successfully',\n          description: `User \"${result.data.adminCreateUser.username}\" has been created.`,\n          type: 'success',\n        });\n\n        onSuccess();\n        onClose();\n      }\n    } catch (err: any) {\n      const errorMessage = err.graphQLErrors?.[0]?.message || err.message || 'Failed to create user';\n      setSubmitError(errorMessage);\n      \n      toast({\n        title: 'Failed to create user',\n        description: errorMessage,\n        type: 'error',\n        variant: 'destructive',\n      });\n    }\n  }, [formData, validateForm, adminCreateUser, onSuccess, onClose]);\n\n  const handleInputChange = useCallback((field: keyof FormData, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear error for this field when user starts typing\n    if (errors[field as keyof FormErrors]) {\n      setErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  }, [errors]);\n\n  const handleClose = useCallback(() => {\n    if (!loading) {\n      onClose();\n    }\n  }, [loading, onClose]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <Card className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <CardHeader className=\"space-y-1\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <UserPlus className=\"h-5 w-5\" />\n              <CardTitle>Create New User</CardTitle>\n            </div>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={handleClose}\n              disabled={loading}\n              className=\"h-8 w-8\"\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <CardDescription>\n            Fill in the details below to create a new user account\n          </CardDescription>\n        </CardHeader>\n\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* General Error Alert */}\n            {submitError && (\n              <Alert className=\"border-red-500 bg-red-50\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>{submitError}</AlertDescription>\n              </Alert>\n            )}\n\n            {/* Account Information */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-sm font-semibold text-muted-foreground uppercase tracking-wide\">\n                Account Information\n              </h3>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {/* Username */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"username\" className=\"required\">\n                    Username\n                  </Label>\n                  <Input\n                    id=\"username\"\n                    type=\"text\"\n                    value={formData.username}\n                    onChange={(e) => handleInputChange('username', e.target.value)}\n                    placeholder=\"Enter username\"\n                    disabled={loading}\n                    className={errors.username ? 'border-red-500' : ''}\n                    autoFocus\n                  />\n                  {errors.username && (\n                    <p className=\"text-xs text-red-500 flex items-center gap-1\">\n                      <AlertCircle className=\"h-3 w-3\" />\n                      {errors.username}\n                    </p>\n                  )}\n                </div>\n\n                {/* Email */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={(e) => handleInputChange('email', e.target.value)}\n                    placeholder=\"user@example.com\"\n                    disabled={loading}\n                    className={errors.email ? 'border-red-500' : ''}\n                  />\n                  {errors.email && (\n                    <p className=\"text-xs text-red-500 flex items-center gap-1\">\n                      <AlertCircle className=\"h-3 w-3\" />\n                      {errors.email}\n                    </p>\n                  )}\n                </div>\n              </div>\n\n              {/* Password */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\" className=\"required\">\n                  Password\n                </Label>\n                <Input\n                  id=\"password\"\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={(e) => handleInputChange('password', e.target.value)}\n                  placeholder=\"Enter secure password\"\n                  disabled={loading}\n                  className={errors.password ? 'border-red-500' : ''}\n                />\n                {errors.password && (\n                  <p className=\"text-xs text-red-500 flex items-center gap-1\">\n                    <AlertCircle className=\"h-3 w-3\" />\n                    {errors.password}\n                  </p>\n                )}\n                <p className=\"text-xs text-muted-foreground\">\n                  Must be at least 8 characters with uppercase, lowercase, and number\n                </p>\n              </div>\n            </div>\n\n            {/* Personal Information */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-sm font-semibold text-muted-foreground uppercase tracking-wide\">\n                Personal Information\n              </h3>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {/* First Name */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"firstName\">First Name</Label>\n                  <Input\n                    id=\"firstName\"\n                    type=\"text\"\n                    value={formData.firstName}\n                    onChange={(e) => handleInputChange('firstName', e.target.value)}\n                    placeholder=\"Enter first name\"\n                    disabled={loading}\n                  />\n                </div>\n\n                {/* Last Name */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"lastName\">Last Name</Label>\n                  <Input\n                    id=\"lastName\"\n                    type=\"text\"\n                    value={formData.lastName}\n                    onChange={(e) => handleInputChange('lastName', e.target.value)}\n                    placeholder=\"Enter last name\"\n                    disabled={loading}\n                  />\n                </div>\n              </div>\n\n              {/* Phone */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"phone\">Phone Number</Label>\n                <Input\n                  id=\"phone\"\n                  type=\"tel\"\n                  value={formData.phone}\n                  onChange={(e) => handleInputChange('phone', e.target.value)}\n                  placeholder=\"+1 (555) 123-4567\"\n                  disabled={loading}\n                  className={errors.phone ? 'border-red-500' : ''}\n                />\n                {errors.phone && (\n                  <p className=\"text-xs text-red-500 flex items-center gap-1\">\n                    <AlertCircle className=\"h-3 w-3\" />\n                    {errors.phone}\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Role & Permissions */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-sm font-semibold text-muted-foreground uppercase tracking-wide\">\n                Role & Permissions\n              </h3>\n              \n              {/* Role Type */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"roleType\">Role Type</Label>\n                <Select\n                  value={formData.roleType}\n                  onValueChange={(value) => handleInputChange('roleType', value)}\n                  disabled={loading}\n                >\n                  <SelectTrigger id=\"roleType\">\n                    <SelectValue placeholder=\"Select role\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"ADMIN\">Admin</SelectItem>\n                    <SelectItem value=\"USER\">User</SelectItem>\n                    <SelectItem value=\"GUEST\">Guest</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Status Toggles */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"isActive\" className=\"cursor-pointer\">Active Status</Label>\n                    <p className=\"text-xs text-muted-foreground\">\n                      User can log in and access the system\n                    </p>\n                  </div>\n                  <Switch\n                    id=\"isActive\"\n                    checked={formData.isActive}\n                    onCheckedChange={(checked) => handleInputChange('isActive', checked)}\n                    disabled={loading}\n                  />\n                </div>\n\n                <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"isVerified\" className=\"cursor-pointer\">Verified Status</Label>\n                    <p className=\"text-xs text-muted-foreground\">\n                      User's email/account has been verified\n                    </p>\n                  </div>\n                  <Switch\n                    id=\"isVerified\"\n                    checked={formData.isVerified}\n                    onCheckedChange={(checked) => handleInputChange('isVerified', checked)}\n                    disabled={loading}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex gap-3 pt-4\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={handleClose}\n                disabled={loading}\n                className=\"flex-1\"\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                disabled={loading}\n                className=\"flex-1\"\n              >\n                {loading ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Creating...\n                  </>\n                ) : (\n                  <>\n                    <UserPlus className=\"mr-2 h-4 w-4\" />\n                    Create User\n                  </>\n                )}\n              </Button>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","'use client';\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { Switch } from '@/components/ui/switch';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { X, Save, Loader2, AlertCircle, Edit, Key, Copy, CheckCheck, RefreshCw } from 'lucide-react';\nimport { useAdminUpdateUser } from '@/lib/hooks/useUserManagement';\nimport { toast } from '@/hooks/use-toast';\nimport { ADMIN_RESET_PASSWORD, type AdminResetPasswordResponse } from '@/graphql/admin/user-management.graphql';\n\ninterface EditUserModalProps {\n  user: any;\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\ninterface FormData {\n  username: string;\n  email: string;\n  firstName: string;\n  lastName: string;\n  phone: string;\n  roleType: 'ADMIN' | 'USER' | 'GUEST';\n  isActive: boolean;\n  isVerified: boolean;\n  isTwoFactorEnabled: boolean;\n}\n\ninterface FormErrors {\n  username?: string;\n  email?: string;\n  phone?: string;\n}\n\nexport function EditUserModal({ user, isOpen, onClose, onSuccess }: EditUserModalProps) {\n  const [adminUpdateUser, { loading }] = useAdminUpdateUser();\n  const [adminResetPassword, { loading: resettingPassword }] = useMutation<AdminResetPasswordResponse>(\n    ADMIN_RESET_PASSWORD\n  );\n  \n  const [formData, setFormData] = useState<FormData>({\n    username: '',\n    email: '',\n    firstName: '',\n    lastName: '',\n    phone: '',\n    roleType: 'USER',\n    isActive: true,\n    isVerified: false,\n    isTwoFactorEnabled: false,\n  });\n  const [errors, setErrors] = useState<FormErrors>({});\n  const [submitError, setSubmitError] = useState<string | null>(null);\n  const [hasChanges, setHasChanges] = useState(false);\n  \n  // Reset Password Dialog\n  const [showPasswordDialog, setShowPasswordDialog] = useState(false);\n  const [newPassword, setNewPassword] = useState<string>('');\n  const [copied, setCopied] = useState(false);\n\n  // Sync form data with user prop\n  useEffect(() => {\n    if (user && isOpen) {\n      const newFormData: FormData = {\n        username: user.username || '',\n        email: user.email || '',\n        firstName: user.firstName || '',\n        lastName: user.lastName || '',\n        phone: user.phone || '',\n        roleType: user.roleType || 'USER',\n        isActive: user.isActive ?? true,\n        isVerified: user.isVerified ?? false,\n        isTwoFactorEnabled: user.isTwoFactorEnabled ?? false,\n      };\n      setFormData(newFormData);\n      setErrors({});\n      setSubmitError(null);\n      setHasChanges(false);\n    }\n  }, [user, isOpen]);\n\n  // Validation function\n  const validateForm = useCallback((): boolean => {\n    const newErrors: FormErrors = {};\n\n    // Username validation\n    if (!formData.username.trim()) {\n      newErrors.username = 'Username is required';\n    } else if (formData.username.length < 3) {\n      newErrors.username = 'Username must be at least 3 characters';\n    } else if (!/^[a-zA-Z0-9_-]+$/.test(formData.username)) {\n      newErrors.username = 'Username can only contain letters, numbers, underscores, and hyphens';\n    }\n\n    // Email validation (optional but must be valid if provided)\n    if (formData.email && !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n\n    // Phone validation (optional but must be valid if provided)\n    if (formData.phone && !/^[\\d\\s+()-]+$/.test(formData.phone)) {\n      newErrors.phone = 'Please enter a valid phone number';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [formData]);\n\n  const handleSubmit = useCallback(async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!user) return;\n\n    setSubmitError(null);\n\n    if (!validateForm()) {\n      return;\n    }\n\n    try {\n      const result = await adminUpdateUser({\n        variables: {\n          id: user.id,\n          input: {\n            username: formData.username.trim(),\n            email: formData.email.trim() || undefined,\n            firstName: formData.firstName.trim() || undefined,\n            lastName: formData.lastName.trim() || undefined,\n            phone: formData.phone.trim() || undefined,\n            roleType: formData.roleType,\n            isActive: formData.isActive,\n            isVerified: formData.isVerified,\n            isTwoFactorEnabled: formData.isTwoFactorEnabled,\n          },\n        },\n      });\n\n      if (result.data?.adminUpdateUser) {\n        toast({\n          title: 'User updated successfully',\n          description: `Changes to \"${result.data.adminUpdateUser.username}\" have been saved.`,\n          type: 'success',\n        });\n\n        onSuccess();\n        onClose();\n      }\n    } catch (err: any) {\n      const errorMessage = err.graphQLErrors?.[0]?.message || err.message || 'Failed to update user';\n      setSubmitError(errorMessage);\n      \n      toast({\n        title: 'Failed to update user',\n        description: errorMessage,\n        type: 'error',\n      });\n    }\n  }, [user, formData, validateForm, adminUpdateUser, onSuccess, onClose]);\n\n  const handleInputChange = useCallback((field: keyof FormData, value: any) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    setHasChanges(true);\n    \n    // Clear error for this field when user starts typing\n    if (errors[field as keyof FormErrors]) {\n      setErrors(prev => ({ ...prev, [field]: undefined }));\n    }\n  }, [errors]);\n\n  const handleClose = useCallback(() => {\n    if (!loading && !resettingPassword) {\n      if (hasChanges) {\n        const confirmed = confirm('You have unsaved changes. Are you sure you want to close?');\n        if (!confirmed) return;\n      }\n      onClose();\n    }\n  }, [loading, resettingPassword, hasChanges, onClose]);\n\n  // Handle Reset Password\n  const handleResetPassword = useCallback(async () => {\n    if (!user) return;\n\n    const confirmed = confirm(\n      `Bạn có chắc muốn reset mật khẩu cho user \"${user.username}\"?\\n\\nMật khẩu mới sẽ được tạo tự động.`\n    );\n\n    if (!confirmed) return;\n\n    try {\n      const { data } = await adminResetPassword({\n        variables: {\n          input: {\n            userId: user.id,\n          },\n        },\n      });\n\n      if (data?.adminResetPassword?.success) {\n        setNewPassword(data.adminResetPassword.newPassword);\n        setShowPasswordDialog(true);\n\n        toast({\n          title: 'Reset mật khẩu thành công',\n          description: `Mật khẩu mới đã được tạo cho \"${user.username}\"`,\n          type: 'success',\n        });\n      }\n    } catch (err: any) {\n      const errorMessage = err.graphQLErrors?.[0]?.message || err.message || 'Không thể reset mật khẩu';\n      \n      toast({\n        title: 'Reset mật khẩu thất bại',\n        description: errorMessage,\n        type: 'error',\n      });\n    }\n  }, [user, adminResetPassword]);\n\n  // Handle Copy Password\n  const handleCopyPassword = useCallback(async () => {\n    try {\n      await navigator.clipboard.writeText(newPassword);\n      setCopied(true);\n      \n      toast({\n        title: 'Đã copy',\n        description: 'Mật khẩu đã được copy vào clipboard',\n        type: 'success',\n      });\n\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      toast({\n        title: 'Lỗi',\n        description: 'Không thể copy mật khẩu',\n        type: 'error',\n      });\n    }\n  }, [newPassword]);\n\n  // Handle Close Password Dialog\n  const handleClosePasswordDialog = useCallback(() => {\n    setShowPasswordDialog(false);\n    setNewPassword('');\n    setCopied(false);\n  }, []);\n\n  if (!isOpen || !user) return null;\n\n  return (\n    <>\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n        <Card className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n          <CardHeader className=\"space-y-1\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <Edit className=\"h-5 w-5\" />\n                <CardTitle>Edit User</CardTitle>\n              </div>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={handleClose}\n                disabled={loading || resettingPassword}\n                className=\"h-8 w-8\"\n              >\n                <X className=\"h-4 w-4\" />\n              </Button>\n            </div>\n            <CardDescription>\n              Update information for {user.username}\n            </CardDescription>\n          </CardHeader>\n\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {/* General Error Alert */}\n            {submitError && (\n              <Alert className=\"border-red-500 bg-red-50\">\n                <AlertCircle className=\"h-4 w-4\" />\n                <AlertDescription>{submitError}</AlertDescription>\n              </Alert>\n            )}\n\n            {/* Account Information */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-sm font-semibold text-muted-foreground uppercase tracking-wide\">\n                Account Information\n              </h3>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {/* Username */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"username\" className=\"required\">\n                    Username\n                  </Label>\n                  <Input\n                    id=\"username\"\n                    type=\"text\"\n                    value={formData.username}\n                    onChange={(e) => handleInputChange('username', e.target.value)}\n                    placeholder=\"Enter username\"\n                    disabled={loading}\n                    className={errors.username ? 'border-red-500' : ''}\n                    autoFocus\n                  />\n                  {errors.username && (\n                    <p className=\"text-xs text-red-500 flex items-center gap-1\">\n                      <AlertCircle className=\"h-3 w-3\" />\n                      {errors.username}\n                    </p>\n                  )}\n                </div>\n\n                {/* Email */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"email\">Email</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={(e) => handleInputChange('email', e.target.value)}\n                    placeholder=\"user@example.com\"\n                    disabled={loading}\n                    className={errors.email ? 'border-red-500' : ''}\n                  />\n                  {errors.email && (\n                    <p className=\"text-xs text-red-500 flex items-center gap-1\">\n                      <AlertCircle className=\"h-3 w-3\" />\n                      {errors.email}\n                    </p>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Personal Information */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-sm font-semibold text-muted-foreground uppercase tracking-wide\">\n                Personal Information\n              </h3>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {/* First Name */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"firstName\">First Name</Label>\n                  <Input\n                    id=\"firstName\"\n                    type=\"text\"\n                    value={formData.firstName}\n                    onChange={(e) => handleInputChange('firstName', e.target.value)}\n                    placeholder=\"Enter first name\"\n                    disabled={loading}\n                  />\n                </div>\n\n                {/* Last Name */}\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"lastName\">Last Name</Label>\n                  <Input\n                    id=\"lastName\"\n                    type=\"text\"\n                    value={formData.lastName}\n                    onChange={(e) => handleInputChange('lastName', e.target.value)}\n                    placeholder=\"Enter last name\"\n                    disabled={loading}\n                  />\n                </div>\n              </div>\n\n              {/* Phone */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"phone\">Phone Number</Label>\n                <Input\n                  id=\"phone\"\n                  type=\"tel\"\n                  value={formData.phone}\n                  onChange={(e) => handleInputChange('phone', e.target.value)}\n                  placeholder=\"+1 (555) 123-4567\"\n                  disabled={loading}\n                  className={errors.phone ? 'border-red-500' : ''}\n                />\n                {errors.phone && (\n                  <p className=\"text-xs text-red-500 flex items-center gap-1\">\n                    <AlertCircle className=\"h-3 w-3\" />\n                    {errors.phone}\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Role & Permissions */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-sm font-semibold text-muted-foreground uppercase tracking-wide\">\n                Role & Permissions\n              </h3>\n              \n              {/* Role Type */}\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"roleType\">Role Type</Label>\n                <Select\n                  value={formData.roleType}\n                  onValueChange={(value) => handleInputChange('roleType', value)}\n                  disabled={loading}\n                >\n                  <SelectTrigger id=\"roleType\">\n                    <SelectValue placeholder=\"Select role\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"ADMIN\">Admin</SelectItem>\n                    <SelectItem value=\"USER\">User</SelectItem>\n                    <SelectItem value=\"GUEST\">Guest</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Status Toggles */}\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"isActive\" className=\"cursor-pointer\">Active Status</Label>\n                    <p className=\"text-xs text-muted-foreground\">\n                      User can log in and access the system\n                    </p>\n                  </div>\n                  <Switch\n                    id=\"isActive\"\n                    checked={formData.isActive}\n                    onCheckedChange={(checked) => handleInputChange('isActive', checked)}\n                    disabled={loading}\n                  />\n                </div>\n\n                <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"isVerified\" className=\"cursor-pointer\">Verified Status</Label>\n                    <p className=\"text-xs text-muted-foreground\">\n                      User's email/account has been verified\n                    </p>\n                  </div>\n                  <Switch\n                    id=\"isVerified\"\n                    checked={formData.isVerified}\n                    onCheckedChange={(checked) => handleInputChange('isVerified', checked)}\n                    disabled={loading}\n                  />\n                </div>\n\n                <div className=\"flex items-center justify-between p-3 border rounded-lg\">\n                  <div className=\"space-y-0.5\">\n                    <Label htmlFor=\"isTwoFactorEnabled\" className=\"cursor-pointer\">Two-Factor Authentication</Label>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Require 2FA for enhanced security\n                    </p>\n                  </div>\n                  <Switch\n                    id=\"isTwoFactorEnabled\"\n                    checked={formData.isTwoFactorEnabled}\n                    onCheckedChange={(checked) => handleInputChange('isTwoFactorEnabled', checked)}\n                    disabled={loading}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Security Actions */}\n            <div className=\"space-y-4\">\n              <h3 className=\"text-sm font-semibold text-muted-foreground uppercase tracking-wide\">\n                Security Actions\n              </h3>\n              \n              <Alert className=\"border-amber-200 bg-amber-50\">\n                <Key className=\"h-4 w-4 text-amber-600\" />\n                <AlertDescription className=\"text-sm\">\n                  <div className=\"space-y-2\">\n                    <p className=\"text-amber-800 font-medium\">\n                      Reset mật khẩu cho nhân viên\n                    </p>\n                    <p className=\"text-xs text-amber-700\">\n                      Hệ thống sẽ tạo mật khẩu ngẫu nhiên mạnh. Bạn có thể copy và gửi cho nhân viên.\n                    </p>\n                    <Button\n                      type=\"button\"\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={handleResetPassword}\n                      disabled={loading || resettingPassword}\n                      className=\"w-full sm:w-auto mt-2 border-amber-300 text-amber-700 hover:bg-amber-100 hover:text-amber-800\"\n                    >\n                      {resettingPassword ? (\n                        <>\n                          <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                          Đang reset...\n                        </>\n                      ) : (\n                        <>\n                          <RefreshCw className=\"mr-2 h-4 w-4\" />\n                          Reset Password\n                        </>\n                      )}\n                    </Button>\n                  </div>\n                </AlertDescription>\n              </Alert>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"flex flex-col sm:flex-row gap-3 pt-4\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={handleClose}\n                disabled={loading || resettingPassword}\n                className=\"flex-1\"\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                disabled={loading || resettingPassword || !hasChanges}\n                className=\"flex-1\"\n              >\n                {loading ? (\n                  <>\n                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                    Saving...\n                  </>\n                ) : (\n                  <>\n                    <Save className=\"mr-2 h-4 w-4\" />\n                    Save Changes\n                  </>\n                )}\n              </Button>\n            </div>\n          </form>\n        </CardContent>\n      </Card>\n    </div>\n\n    {/* Password Display Dialog */}\n    <Dialog open={showPasswordDialog} onOpenChange={setShowPasswordDialog}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Key className=\"h-5 w-5 text-green-600\" />\n            Mật khẩu mới đã được tạo\n          </DialogTitle>\n          <DialogDescription>\n            Copy mật khẩu này và gửi cho nhân viên. Mật khẩu sẽ không hiển thị lại.\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4 py-4\">\n          {/* Password Display */}\n          <div className=\"space-y-2\">\n            <Label className=\"text-sm font-medium\">Mật khẩu mới</Label>\n            <div className=\"relative\">\n              <Input\n                type=\"text\"\n                value={newPassword}\n                readOnly\n                className=\"pr-12 font-mono text-base sm:text-lg font-semibold bg-gray-50 border-2 border-green-300\"\n              />\n              <Button\n                type=\"button\"\n                size=\"icon\"\n                variant=\"ghost\"\n                onClick={handleCopyPassword}\n                className=\"absolute right-1 top-1/2 -translate-y-1/2 h-8 w-8 hover:bg-green-100\"\n                title=\"Copy password\"\n              >\n                {copied ? (\n                  <CheckCheck className=\"h-4 w-4 text-green-600\" />\n                ) : (\n                  <Copy className=\"h-4 w-4\" />\n                )}\n              </Button>\n            </div>\n          </div>\n\n          {/* User Info */}\n          <Alert className=\"border-blue-200 bg-blue-50\">\n            <AlertCircle className=\"h-4 w-4 text-blue-600\" />\n            <AlertDescription className=\"text-sm space-y-1\">\n              <p className=\"font-medium text-blue-900\">Thông tin người dùng:</p>\n              <div className=\"text-xs text-blue-800 space-y-0.5\">\n                <p>• Username: <span className=\"font-mono font-semibold\">{user.username}</span></p>\n                {user.email && (\n                  <p>• Email: <span className=\"font-mono\">{user.email}</span></p>\n                )}\n                {user.firstName && user.lastName && (\n                  <p>• Họ tên: {user.firstName} {user.lastName}</p>\n                )}\n              </div>\n            </AlertDescription>\n          </Alert>\n\n          {/* Warning */}\n          <Alert className=\"border-amber-200 bg-amber-50\">\n            <AlertCircle className=\"h-4 w-4 text-amber-600\" />\n            <AlertDescription className=\"text-xs text-amber-800\">\n              <p className=\"font-medium mb-1\">⚠️ Lưu ý quan trọng:</p>\n              <ul className=\"list-disc list-inside space-y-0.5 ml-1\">\n                <li>Mật khẩu này chỉ hiển thị 1 lần duy nhất</li>\n                <li>Hãy copy và gửi cho nhân viên ngay</li>\n                <li>Nhân viên nên đổi mật khẩu sau lần đăng nhập đầu</li>\n              </ul>\n            </AlertDescription>\n          </Alert>\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3\">\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={handleCopyPassword}\n            className=\"flex-1\"\n          >\n            {copied ? (\n              <>\n                <CheckCheck className=\"mr-2 h-4 w-4 text-green-600\" />\n                Đã copy!\n              </>\n            ) : (\n              <>\n                <Copy className=\"mr-2 h-4 w-4\" />\n                Copy Password\n              </>\n            )}\n          </Button>\n          <Button\n            type=\"button\"\n            onClick={handleClosePasswordDialog}\n            className=\"flex-1\"\n          >\n            Đóng\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  </>\n  );\n}\n","import { gql } from '@apollo/client';\n\n/**\n * Admin Reset Password Mutation\n * Tạo mật khẩu ngẫu nhiên mới cho user\n */\nexport const ADMIN_RESET_PASSWORD = gql`\n  mutation AdminResetPassword($input: AdminResetPasswordInput!) {\n    adminResetPassword(input: $input) {\n      success\n      message\n      newPassword\n      user {\n        id\n        username\n        email\n        firstName\n        lastName\n      }\n    }\n  }\n`;\n\n/**\n * TypeScript Types\n */\nexport interface AdminResetPasswordInput {\n  userId: string;\n}\n\nexport interface AdminResetPasswordResponse {\n  adminResetPassword: {\n    success: boolean;\n    message: string;\n    newPassword: string;\n    user: {\n      id: string;\n      username: string;\n      email: string | null;\n      firstName: string | null;\n      lastName: string | null;\n    };\n  };\n}\n","/**\n * ErrorState Component\n * \n * Reusable error state display with retry option\n */\n\n'use client';\n\nimport React from 'react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { RefreshCw, AlertTriangle } from 'lucide-react';\n\ninterface ErrorStateProps {\n  title?: string;\n  message: string;\n  onRetry?: () => void;\n  retryLabel?: string;\n}\n\nexport function ErrorState({ \n  title = 'Error', \n  message, \n  onRetry,\n  retryLabel = 'Retry'\n}: ErrorStateProps) {\n  return (\n    <div className=\"container mx-auto py-8\">\n      <Card>\n        <CardContent className=\"flex items-center justify-center py-12\">\n          <div className=\"text-center max-w-md\">\n            <AlertTriangle className=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-semibold text-red-600 mb-2\">{title}</h3>\n            <p className=\"text-gray-600 mb-6\">{message}</p>\n            {onRetry && (\n              <Button onClick={onRetry} variant=\"outline\">\n                <RefreshCw className=\"w-4 h-4 mr-2\" />\n                {retryLabel}\n              </Button>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","'use client';\n\nimport React, { useMemo, useEffect, useRef, useCallback } from 'react';\nimport { AdvancedTable, ColumnDef, RowData, TableConfig, SortConfig } from '@/components/ui/advanced-table';\nimport { Button } from '../../ui/button';\nimport { Badge } from '../../ui/badge';\nimport { Avatar, AvatarFallback, AvatarImage } from '../../ui/avatar';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '../../ui/dropdown-menu';\nimport {\n  MoreVertical,\n  Edit,\n  Trash2,\n  UserCheck,\n  UserX,\n  Shield,\n  Clock,\n  Mail,\n  Phone,\n  Calendar,\n  CheckCircle,\n  XCircle,\n  AlertCircle,\n} from 'lucide-react';\nimport { formatDistanceToNow } from 'date-fns';\nimport { TablePagination } from './TablePagination';\nimport { UserTableSkeleton } from './UserTableSkeleton';\n\ninterface User extends RowData {\n  id: string;\n  email?: string;\n  username: string;\n  firstName?: string;\n  lastName?: string;\n  phone?: string;\n  avatar?: string;\n  roleType: string;\n  isActive: boolean;\n  isVerified: boolean;\n  isTwoFactorEnabled: boolean;\n  failedLoginAttempts: number;\n  lockedUntil?: string;\n  lastLoginAt?: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface UserSearchResult {\n  users: User[];\n  total: number;\n  page: number;\n  size: number;\n  totalPages: number;\n}\n\ninterface UserTableProps {\n  data?: UserSearchResult;\n  loading?: boolean;\n  selectedUsers: string[];\n  onSelectUser: (userId: string) => void;\n  onSelectAll: (userIds: string[]) => void;\n  onSort: (sortBy: string, sortOrder: string) => void;\n  onPageChange: (page: number) => void;\n  onCreateUser?: () => void;\n  onEditUser: (user: User) => void;\n  onActivateUser?: (user: User) => void;\n  onDeactivateUser?: (user: User) => void;\n  onDeleteUser?: (user: User) => void;\n  sortBy: string;\n  sortOrder: string;\n}\n\nexport function UserTable({\n  data,\n  loading,\n  selectedUsers,\n  onSelectUser,\n  onSelectAll,\n  onSort,\n  onPageChange,\n  onCreateUser,\n  onEditUser,\n  onActivateUser,\n  onDeactivateUser,\n  onDeleteUser,\n  sortBy,\n  sortOrder,\n}: UserTableProps) {\n  const users = data?.users || [];\n\n  // Helper functions\n  const getDisplayName = (user: User) => {\n    if (user.firstName && user.lastName) {\n      return `${user.firstName} ${user.lastName}`;\n    }\n    return user.username;\n  };\n\n  const getInitials = (user: User) => {\n    if (user.firstName && user.lastName) {\n      return `${user.firstName[0]}${user.lastName[0]}`.toUpperCase();\n    }\n    return user.username.slice(0, 2).toUpperCase();\n  };\n\n  const getRoleBadgeVariant = (role: string): 'default' | 'destructive' | 'secondary' => {\n    switch (role.toLowerCase()) {\n      case 'admin':\n        return 'destructive';\n      case 'user':\n        return 'default';\n      case 'guest':\n        return 'secondary';\n      default:\n        return 'secondary';\n    }\n  };\n\n  // Column definitions for AdvancedTable\n  const columns: ColumnDef<User>[] = useMemo(() => [\n    {\n      field: 'username',\n      headerName: 'User',\n      width: 250,\n      pinned: 'left',\n      sortable: true,\n      filterable: true,\n      cellRenderer: ({ data }) => (\n        <div className=\"flex items-center gap-3\">\n          <Avatar className=\"w-8 h-8\">\n            <AvatarImage src={data.avatar} alt={getDisplayName(data)} />\n            <AvatarFallback className=\"text-xs\">\n              {getInitials(data)}\n            </AvatarFallback>\n          </Avatar>\n          <div>\n            <div className=\"font-medium text-gray-900\">\n              {getDisplayName(data)}\n            </div>\n            <div className=\"text-sm text-gray-500\">@{data.username}</div>\n          </div>\n        </div>\n      )\n    },\n    {\n      field: 'email',\n      headerName: 'Contact',\n      width: 280,\n      sortable: true,\n      filterable: true,\n      cellRenderer: ({ data }) => (\n        <div className=\"space-y-1\">\n          {data.email && (\n            <div className=\"flex items-center gap-1 text-sm text-gray-600\">\n              <Mail className=\"w-3 h-3 flex-shrink-0\" />\n              <span className=\"truncate\">{data.email}</span>\n            </div>\n          )}\n          {data.phone && (\n            <div className=\"flex items-center gap-1 text-sm text-gray-600\">\n              <Phone className=\"w-3 h-3 flex-shrink-0\" />\n              {data.phone}\n            </div>\n          )}\n        </div>\n      )\n    },\n    {\n      field: 'roleType',\n      headerName: 'Role',\n      width: 120,\n      type: 'select',\n      sortable: true,\n      filterable: true,\n      filterOptions: ['ADMIN', 'USER', 'GUEST'],\n      cellRenderer: ({ value }) => (\n        <Badge variant={getRoleBadgeVariant(value)}>\n          {value}\n        </Badge>\n      )\n    },\n    {\n      field: 'isActive',\n      headerName: 'Status',\n      width: 180,\n      type: 'boolean',\n      sortable: true,\n      filterable: true,\n      cellRenderer: ({ data }) => {\n        const isLocked = data.lockedUntil && new Date(data.lockedUntil) > new Date();\n        \n        return (\n          <div className=\"flex items-center gap-2\">\n            {!data.isActive ? (\n              <Badge variant=\"secondary\" className=\"bg-red-100 text-red-800\">\n                <XCircle className=\"w-3 h-3 mr-1\" />\n                Inactive\n              </Badge>\n            ) : isLocked ? (\n              <Badge variant=\"secondary\" className=\"bg-orange-100 text-orange-800\">\n                <AlertCircle className=\"w-3 h-3 mr-1\" />\n                Locked\n              </Badge>\n            ) : (\n              <Badge variant=\"secondary\" className=\"bg-green-100 text-green-800\">\n                <CheckCircle className=\"w-3 h-3 mr-1\" />\n                Active\n              </Badge>\n            )}\n            \n            {data.isVerified && (\n              <div title=\"Verified\">\n                <Shield className=\"w-4 h-4 text-green-600\" />\n              </div>\n            )}\n            {data.isTwoFactorEnabled && (\n              <div className=\"w-2 h-2 bg-blue-600 rounded-full\" title=\"2FA Enabled\" />\n            )}\n          </div>\n        );\n      }\n    },\n    {\n      field: 'createdAt',\n      headerName: 'Joined',\n      width: 180,\n      type: 'date',\n      sortable: true,\n      filterable: true,\n      cellRenderer: ({ value }) => (\n        <div className=\"flex items-center gap-1 text-sm text-gray-600\">\n          <Calendar className=\"w-3 h-3 flex-shrink-0\" />\n          <span className=\"truncate\">\n            {formatDistanceToNow(new Date(value), { addSuffix: true })}\n          </span>\n        </div>\n      )\n    },\n    {\n      field: 'lastLoginAt',\n      headerName: 'Last Login',\n      width: 180,\n      type: 'date',\n      sortable: true,\n      filterable: true,\n      cellRenderer: ({ value }) => {\n        if (!value) {\n          return <span className=\"text-sm text-gray-400\">Never</span>;\n        }\n        return (\n          <div className=\"flex items-center gap-1 text-sm text-gray-600\">\n            <Clock className=\"w-3 h-3 flex-shrink-0\" />\n            <span className=\"truncate\">\n              {formatDistanceToNow(new Date(value), { addSuffix: true })}\n            </span>\n          </div>\n        );\n      }\n    },\n    {\n      field: 'id',\n      headerName: 'Actions',\n      width: 100,\n      pinned: 'right',\n      sortable: false,\n      filterable: false,\n      cellRenderer: ({ data }) => (\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n              <MoreVertical className=\"w-4 h-4\" />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\">\n            <DropdownMenuItem onClick={() => onEditUser(data)}>\n              <Edit className=\"w-4 h-4 mr-2\" />\n              Edit User\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem \n              onClick={() => data.isActive \n                ? onDeactivateUser && onDeactivateUser(data)\n                : onActivateUser && onActivateUser(data)\n              }\n            >\n              {data.isActive ? (\n                <>\n                  <UserX className=\"w-4 h-4 mr-2\" />\n                  Deactivate\n                </>\n              ) : (\n                <>\n                  <UserCheck className=\"w-4 h-4 mr-2\" />\n                  Activate\n                </>\n              )}\n            </DropdownMenuItem>\n            <DropdownMenuSeparator />\n            <DropdownMenuItem \n              className=\"text-red-600\"\n              onClick={() => onDeleteUser && onDeleteUser(data)}\n            >\n              <Trash2 className=\"w-4 h-4 mr-2\" />\n              Delete User\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      )\n    },\n  ], [onEditUser, onActivateUser, onDeactivateUser, onDeleteUser]);\n\n  // Advanced table configuration\n  const tableConfig: TableConfig = {\n    enableSorting: true,\n    enableFiltering: true,\n    enableColumnPinning: true,\n    enableColumnResizing: true,\n    enableColumnHiding: true,\n    enableRowSelection: true,\n    enableInlineEditing: false,\n    enableDialogEditing: false,\n    enableRowDeletion: true,\n    rowHeight: 60,\n    headerHeight: 48,\n    showToolbar: true,\n    showPagination: false,\n    virtualScrolling: false,\n  };\n\n  // Track internal selection state to avoid conflicts with parent\n  const internalSelectionRef = useRef<Set<string>>(new Set(selectedUsers));\n\n  // Update internal ref when parent selection changes\n  useEffect(() => {\n    internalSelectionRef.current = new Set(selectedUsers);\n  }, [selectedUsers]);\n\n  // Handle row selection from AdvancedTable\n  const handleRowSelect = useMemo(() => (selectedRows: User[]) => {\n    const selectedIds = selectedRows.map(r => r.id);\n    const allUserIds = users.map(u => u.id);\n    \n    // Update internal ref\n    const newSelection = new Set(selectedIds);\n    const oldSelection = internalSelectionRef.current;\n    \n    // Find changes\n    const added = selectedIds.filter(id => !oldSelection.has(id));\n    const removed = Array.from(oldSelection).filter(id => allUserIds.includes(id) && !newSelection.has(id));\n    \n    internalSelectionRef.current = newSelection;\n    \n    // Notify parent of changes\n    if (added.length > 0 || removed.length > 0) {\n      // Check if all page users are now selected\n      if (selectedIds.length === allUserIds.length && allUserIds.length > 0) {\n        onSelectAll(allUserIds);\n      } else {\n        // Toggle individual items\n        [...added, ...removed].forEach(id => onSelectUser(id));\n      }\n    }\n  }, [users, onSelectUser, onSelectAll]);\n\n  // Handle sorting from AdvancedTable\n  const handleSort = useCallback((sortConfigs: SortConfig[]) => {\n    if (sortConfigs.length > 0) {\n      const primarySort = sortConfigs[0];\n      onSort(String(primarySort.field), primarySort.direction || 'asc');\n    }\n  }, [onSort]);\n\n  // Handle create user\n  const handleCreateUser = useCallback((newRow: Partial<User>) => {\n    if (onCreateUser) {\n      onCreateUser();\n    }\n    return Promise.resolve(true);\n  }, [onCreateUser]);\n\n  // Handle edit user (inline or dialog editing)\n  const handleEditUser = useCallback((user: User, field: keyof User, newValue: any) => {\n    // For now, just trigger the onEditUser callback\n    // You can implement inline editing logic here if needed\n    onEditUser(user);\n    return Promise.resolve(true);\n  }, [onEditUser]);\n\n  // Handle delete users (bulk delete)\n  const handleDeleteUsers = useCallback((usersToDelete: User[]) => {\n    if (onDeleteUser && usersToDelete.length > 0) {\n      // Delete first user as example, or handle bulk delete\n      usersToDelete.forEach(user => onDeleteUser(user));\n      return Promise.resolve(true);\n    }\n    return Promise.resolve(false);\n  }, [onDeleteUser]);\n\n  if (loading) {\n    return <UserTableSkeleton rows={5} />;\n  }\n\n  if (!users || users.length === 0) {\n    return (\n      <div className=\"text-center py-8\">\n        <div className=\"text-gray-500 mb-2\">No users found</div>\n        <div className=\"text-sm text-gray-400\">Try adjusting your search criteria</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <AdvancedTable<User>\n        columns={columns}\n        data={users}\n        config={tableConfig}\n        loading={loading}\n        onRowSelect={handleRowSelect}\n        onSort={handleSort}\n        onRowCreate={onCreateUser ? handleCreateUser : undefined}\n        onRowEdit={handleEditUser}\n        onRowDelete={onDeleteUser ? handleDeleteUsers : undefined}\n        height={600}\n        className=\"border rounded-lg\"\n      />\n\n      {/* Pagination */}\n      {data && data.totalPages > 1 && (\n        <TablePagination\n          currentPage={data.page}\n          totalPages={data.totalPages}\n          pageSize={data.size}\n          totalItems={data.total}\n          onPageChange={onPageChange}\n        />\n      )}\n    </div>\n  );\n}","/**\n * TablePagination Component\n * \n * Reusable pagination component with shadcn UI\n * Supports page numbers, previous/next, and jump to page\n */\n\n'use client';\n\nimport React from 'react';\nimport { Button } from '@/components/ui/button';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  ChevronLeft,\n  ChevronRight,\n  ChevronsLeft,\n  ChevronsRight,\n} from 'lucide-react';\n\ninterface TablePaginationProps {\n  currentPage: number;\n  totalPages: number;\n  pageSize: number;\n  totalItems: number;\n  onPageChange: (page: number) => void;\n  onPageSizeChange?: (size: number) => void;\n  pageSizeOptions?: number[];\n}\n\nexport function TablePagination({\n  currentPage,\n  totalPages,\n  pageSize,\n  totalItems,\n  onPageChange,\n  onPageSizeChange,\n  pageSizeOptions = [10, 20, 50, 100],\n}: TablePaginationProps) {\n  // Calculate displayed range\n  const startItem = currentPage * pageSize + 1;\n  const endItem = Math.min((currentPage + 1) * pageSize, totalItems);\n\n  // Generate page numbers to display\n  const getPageNumbers = () => {\n    const pages: (number | string)[] = [];\n    const maxVisible = 5;\n\n    if (totalPages <= maxVisible) {\n      // Show all pages\n      for (let i = 0; i < totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      // Show first page\n      pages.push(0);\n\n      // Calculate middle pages\n      let startPage = Math.max(1, currentPage - 1);\n      let endPage = Math.min(totalPages - 2, currentPage + 1);\n\n      if (currentPage <= 2) {\n        endPage = 3;\n      } else if (currentPage >= totalPages - 3) {\n        startPage = totalPages - 4;\n      }\n\n      // Add ellipsis if needed\n      if (startPage > 1) {\n        pages.push('...');\n      }\n\n      // Add middle pages\n      for (let i = startPage; i <= endPage; i++) {\n        pages.push(i);\n      }\n\n      // Add ellipsis if needed\n      if (endPage < totalPages - 2) {\n        pages.push('...');\n      }\n\n      // Show last page\n      pages.push(totalPages - 1);\n    }\n\n    return pages;\n  };\n\n  return (\n    <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4 border-t pt-4\">\n      {/* Items Info & Page Size Selector */}\n      <div className=\"flex items-center gap-4\">\n        <div className=\"text-sm text-muted-foreground\">\n          Showing <span className=\"font-medium\">{startItem}</span> to{' '}\n          <span className=\"font-medium\">{endItem}</span> of{' '}\n          <span className=\"font-medium\">{totalItems}</span> results\n        </div>\n\n        {onPageSizeChange && (\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-sm text-muted-foreground\">Show</span>\n            <Select\n              value={String(pageSize)}\n              onValueChange={(value) => onPageSizeChange(Number(value))}\n            >\n              <SelectTrigger className=\"w-[70px]\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent>\n                {pageSizeOptions.map((size) => (\n                  <SelectItem key={size} value={String(size)}>\n                    {size}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n        )}\n      </div>\n\n      {/* Pagination Controls */}\n      {totalPages > 1 && (\n        <div className=\"flex items-center gap-2\">\n          {/* First Page */}\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={() => onPageChange(0)}\n            disabled={currentPage === 0}\n            title=\"First page\"\n          >\n            <ChevronsLeft className=\"h-4 w-4\" />\n          </Button>\n\n          {/* Previous Page */}\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={() => onPageChange(currentPage - 1)}\n            disabled={currentPage === 0}\n            title=\"Previous page\"\n          >\n            <ChevronLeft className=\"h-4 w-4\" />\n          </Button>\n\n          {/* Page Numbers */}\n          <div className=\"flex items-center gap-1\">\n            {getPageNumbers().map((pageNum, index) => {\n              if (pageNum === '...') {\n                return (\n                  <span\n                    key={`ellipsis-${index}`}\n                    className=\"px-2 text-muted-foreground\"\n                  >\n                    ...\n                  </span>\n                );\n              }\n\n              const page = pageNum as number;\n              return (\n                <Button\n                  key={page}\n                  variant={page === currentPage ? 'default' : 'outline'}\n                  size=\"icon\"\n                  onClick={() => onPageChange(page)}\n                  className=\"w-9 h-9\"\n                >\n                  {page + 1}\n                </Button>\n              );\n            })}\n          </div>\n\n          {/* Next Page */}\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={() => onPageChange(currentPage + 1)}\n            disabled={currentPage >= totalPages - 1}\n            title=\"Next page\"\n          >\n            <ChevronRight className=\"h-4 w-4\" />\n          </Button>\n\n          {/* Last Page */}\n          <Button\n            variant=\"outline\"\n            size=\"icon\"\n            onClick={() => onPageChange(totalPages - 1)}\n            disabled={currentPage >= totalPages - 1}\n            title=\"Last page\"\n          >\n            <ChevronsRight className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * UserTableSkeleton Component\n * \n * Skeleton loading state for user table\n */\n\n'use client';\n\nimport React from 'react';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\n\ninterface UserTableSkeletonProps {\n  rows?: number;\n}\n\nexport function UserTableSkeleton({ rows = 5 }: UserTableSkeletonProps) {\n  return (\n    <div className=\"space-y-4\">\n      <Table>\n        <TableHeader>\n          <TableRow>\n            <TableHead className=\"w-[50px]\">\n              <Skeleton className=\"h-4 w-4\" />\n            </TableHead>\n            <TableHead>\n              <Skeleton className=\"h-4 w-20\" />\n            </TableHead>\n            <TableHead>\n              <Skeleton className=\"h-4 w-16\" />\n            </TableHead>\n            <TableHead>\n              <Skeleton className=\"h-4 w-24\" />\n            </TableHead>\n            <TableHead>\n              <Skeleton className=\"h-4 w-16\" />\n            </TableHead>\n            <TableHead>\n              <Skeleton className=\"h-4 w-20\" />\n            </TableHead>\n            <TableHead className=\"w-[100px]\">\n              <Skeleton className=\"h-4 w-16\" />\n            </TableHead>\n          </TableRow>\n        </TableHeader>\n        <TableBody>\n          {Array.from({ length: rows }).map((_, index) => (\n            <TableRow key={index}>\n              <TableCell>\n                <Skeleton className=\"h-4 w-4\" />\n              </TableCell>\n              <TableCell>\n                <div className=\"flex items-center gap-3\">\n                  <Skeleton className=\"h-10 w-10 rounded-full\" />\n                  <div className=\"space-y-2\">\n                    <Skeleton className=\"h-4 w-32\" />\n                    <Skeleton className=\"h-3 w-24\" />\n                  </div>\n                </div>\n              </TableCell>\n              <TableCell>\n                <Skeleton className=\"h-4 w-16\" />\n              </TableCell>\n              <TableCell>\n                <div className=\"space-y-2\">\n                  <Skeleton className=\"h-4 w-40\" />\n                  <Skeleton className=\"h-3 w-32\" />\n                </div>\n              </TableCell>\n              <TableCell>\n                <Skeleton className=\"h-5 w-14 rounded-full\" />\n              </TableCell>\n              <TableCell>\n                <Skeleton className=\"h-4 w-20\" />\n              </TableCell>\n              <TableCell>\n                <Skeleton className=\"h-8 w-8\" />\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </div>\n  );\n}\n","/**\n * LoadingState Component\n * \n * Reusable loading state display\n */\n\n'use client';\n\nimport React from 'react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Loader2 } from 'lucide-react';\n\ninterface LoadingStateProps {\n  message?: string;\n}\n\nexport function LoadingState({ message = 'Loading...' }: LoadingStateProps) {\n  return (\n    <div className=\"container mx-auto py-8\">\n      <Card>\n        <CardContent className=\"flex items-center justify-center py-12\">\n          <div className=\"flex flex-col items-center space-y-4\">\n            <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n            <span className=\"text-gray-600\">{message}</span>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","/**\n * AccessDenied Component\n * \n * Display access denied message for unauthorized users\n * Shows options to contact admin for permission\n */\n\n'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { ShieldAlert, Mail, ArrowLeft } from 'lucide-react';\n\ninterface AccessDeniedProps {\n  userRole?: string;\n  requiredRole?: string;\n}\n\nexport function AccessDenied({ \n  userRole = 'Unknown', \n  requiredRole = 'ADMIN' \n}: AccessDeniedProps) {\n  const router = useRouter();\n\n  return (\n    <div className=\"container mx-auto py-12 px-4\">\n      <Card className=\"max-w-md mx-auto border-2 border-yellow-200\">\n        <CardContent className=\"flex items-center justify-center py-12\">\n          <div className=\"text-center\">\n            <ShieldAlert className=\"w-16 h-16 text-yellow-500 mx-auto mb-4\" />\n            <h3 className=\"text-xl font-semibold text-yellow-900 mb-2\">Truy cập bị hạn chế</h3>\n            <p className=\"text-gray-600 mb-4\">\n              Bạn cần quyền <strong>{requiredRole}</strong> để truy cập trang này.\n            </p>\n            <p className=\"text-sm text-gray-500 mb-6\">\n              Quyền hiện tại: <strong className=\"text-blue-600\">{userRole}</strong>\n            </p>\n            \n            <div className=\"space-y-2\">\n              <p className=\"text-sm text-gray-600 font-medium mb-3\">\n                📌 Liên hệ quản trị viên để yêu cầu quyền truy cập:\n              </p>\n              <a\n                href=\"mailto:admin@rausachcore.dev?subject=Yêu cầu quyền truy cập quản trị\"\n                className=\"flex items-center justify-center gap-2 w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors\"\n              >\n                <Mail className=\"w-4 h-4\" />\n                Gửi email\n              </a>\n            </div>\n\n            <div className=\"mt-6 pt-6 border-t border-gray-200\">\n              <Button \n                onClick={() => router.push('/request-access')}\n                variant=\"outline\"\n                className=\"w-full\"\n              >\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Xem hướng dẫn yêu cầu\n              </Button>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Users, ShieldCheck, Key } from 'lucide-react';\nimport RoleManagement from './RoleManagement';\nimport PermissionManagement from './PermissionManagement';\nimport UserRoleAssignment from './UserRoleAssignment';\n\ninterface RbacManagementProps {\n  className?: string;\n}\n\nconst RbacManagement: React.FC<RbacManagementProps> = ({ className = '' }) => {\n  const tabs = [\n    {\n      value: 'roles',\n      label: 'Roles',\n      icon: Users,\n      component: RoleManagement,\n      description: 'Manage system roles and their hierarchies',\n    },\n    {\n      value: 'permissions',\n      label: 'Permissions',\n      icon: Key,\n      component: PermissionManagement,\n      description: 'Define and manage system permissions',\n    },\n    {\n      value: 'assignments',\n      label: 'User Assignments',\n      icon: ShieldCheck,\n      component: UserRoleAssignment,\n      description: 'Assign roles and permissions to users',\n    },\n  ];\n\n  return (\n    <div className={className}>\n      <Card>\n        <CardHeader>\n          <CardTitle>Role & Permission Management</CardTitle>\n          <CardDescription>\n            Manage system access control, roles, and permissions\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Tabs defaultValue=\"roles\" className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-3\">\n              {tabs.map((tab) => (\n                <TabsTrigger key={tab.value} value={tab.value} className=\"flex items-center gap-2\">\n                  <tab.icon className=\"h-4 w-4\" />\n                  {tab.label}\n                </TabsTrigger>\n              ))}\n            </TabsList>\n\n            {tabs.map((tab) => (\n              <TabsContent key={tab.value} value={tab.value} className=\"mt-6\">\n                <div className=\"mb-4\">\n                  <p className=\"text-sm text-muted-foreground\">{tab.description}</p>\n                </div>\n                <tab.component />\n              </TabsContent>\n            ))}\n          </Tabs>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default RbacManagement;","import React, { useState } from 'react';\nimport { Plus, Pencil, Trash2, Users, ShieldCheck } from 'lucide-react';\nimport { useSearchRoles, useDeleteRole } from '../../../hooks/useRbac';\nimport { Role, RoleSearchInput } from '../../../types/rbac.types';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport { useToast } from '@/hooks/use-toast';\nimport AssignRolePermissionsModal from './AssignRolePermissionsModal';\nimport CreateRoleModal from './CreateRoleModal';\nimport EditRoleModal from './EditRoleModal';\n\n\ninterface RoleManagementProps {\n  className?: string;\n}\n\nconst RoleManagement: React.FC<RoleManagementProps> = ({ className = '' }) => {\n  const [searchInput, setSearchInput] = useState<RoleSearchInput>({\n    page: 0,\n    size: 20,\n    sortBy: 'name',\n    sortOrder: 'asc'\n  });\n  \n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [editingRole, setEditingRole] = useState<Role | null>(null);\n  const [assigningRole, setAssigningRole] = useState<Role | null>(null);\n\n  const { data, loading, error, refetch } = useSearchRoles(searchInput);\n  const [deleteRole] = useDeleteRole();\n  const { toast } = useToast();\n\n  const handleSearch = (search: string) => {\n    setSearchInput(prev => ({ ...prev, search, page: 0 }));\n  };\n\n  const handlePageChange = (page: number) => {\n    setSearchInput(prev => ({ ...prev, page }));\n  };\n\n  const handleDelete = async (role: Role) => {\n    if (role.isSystemRole) {\n      toast({\n        title: 'Cannot delete system role',\n        description: 'System roles cannot be deleted for security reasons.',\n        type: 'error',\n      });\n      return;\n    }\n\n    if (window.confirm(`Are you sure you want to delete role \"${role.displayName}\"?`)) {\n      try {\n        await deleteRole({ variables: { id: role.id } });\n        toast({\n          title: 'Role deleted',\n          description: `Role \"${role.displayName}\" has been deleted successfully.`,\n          type: 'success',\n        });\n        refetch();\n      } catch (error: any) {\n        toast({\n          title: 'Delete failed',\n          description: error.message || 'Failed to delete role',\n          type: 'error',\n        });\n      }\n    }\n  };\n\n  const handleCreateSuccess = () => {\n    setShowCreateModal(false);\n    refetch();\n  };\n\n  const handleEditSuccess = () => {\n    setEditingRole(null);\n    refetch();\n  };\n\n  const handleAssignSuccess = () => {\n    setAssigningRole(null);\n    refetch();\n  };\n\n  if (loading) {\n    return (\n      <Card className={className}>\n        <CardHeader>\n          <Skeleton className=\"h-8 w-48\" />\n          <Skeleton className=\"h-4 w-96\" />\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {[...Array(5)].map((_, i) => (\n            <div key={i} className=\"flex items-center space-x-4\">\n              <Skeleton className=\"h-10 w-10 rounded-full\" />\n              <div className=\"space-y-2 flex-1\">\n                <Skeleton className=\"h-4 w-[250px]\" />\n                <Skeleton className=\"h-4 w-[200px]\" />\n              </div>\n            </div>\n          ))}\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert className={`border-red-200 bg-red-50 text-red-800 ${className}`}>\n        <AlertDescription>\n          Error loading roles: {error.message}\n        </AlertDescription>\n      </Alert>\n    );\n  }\n\n  const roles = data?.searchRoles?.roles || [];\n  const total = data?.searchRoles?.total || 0;\n  const totalPages = data?.searchRoles?.totalPages || 0;\n\n  return (\n    <Card className={className}>\n      <CardHeader>\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <CardTitle>Role Management</CardTitle>\n            <CardDescription>\n              Manage system roles and their permissions\n            </CardDescription>\n          </div>\n          <Button onClick={() => setShowCreateModal(true)}>\n            <Plus className=\"mr-2 h-4 w-4\" />\n            New Role\n          </Button>\n        </div>\n      </CardHeader>\n      \n      <CardContent className=\"space-y-4\">\n\n        {/* Search and Filters */}\n        <div className=\"flex flex-col sm:flex-row gap-4\">\n          <div className=\"flex-1\">\n            <Input\n              type=\"text\"\n              placeholder=\"Search roles...\"\n              value={searchInput.search || ''}\n              onChange={(e) => handleSearch(e.target.value)}\n            />\n          </div>\n          <div className=\"flex gap-2\">\n            <Select\n              value={searchInput.isActive === undefined ? 'all' : searchInput.isActive.toString()}\n              onValueChange={(value) => setSearchInput(prev => ({ \n                ...prev, \n                isActive: value === 'all' ? undefined : value === 'true',\n                page: 0 \n              }))}\n            >\n              <SelectTrigger className=\"w-[140px]\">\n                <SelectValue placeholder=\"All Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Status</SelectItem>\n                <SelectItem value=\"true\">Active</SelectItem>\n                <SelectItem value=\"false\">Inactive</SelectItem>\n              </SelectContent>\n            </Select>\n            <Select\n              value={searchInput.isSystemRole === undefined ? 'all' : searchInput.isSystemRole.toString()}\n              onValueChange={(value) => setSearchInput(prev => ({ \n                ...prev, \n                isSystemRole: value === 'all' ? undefined : value === 'true',\n                page: 0 \n              }))}\n            >\n              <SelectTrigger className=\"w-[140px]\">\n                <SelectValue placeholder=\"All Types\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Types</SelectItem>\n                <SelectItem value=\"true\">System</SelectItem>\n                <SelectItem value=\"false\">Custom</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n\n        {/* Table */}\n        <div className=\"rounded-md border\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Role</TableHead>\n                <TableHead>Permissions</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Priority</TableHead>\n                <TableHead>Created</TableHead>\n                <TableHead className=\"text-right\">Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {roles.length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\n                    No roles found\n                  </TableCell>\n                </TableRow>\n              ) : (\n                roles.map((role: Role) => (\n                  <TableRow key={role.id}>\n                    <TableCell>\n                      <div className=\"flex items-center gap-3\">\n                        <Avatar>\n                          <AvatarFallback className=\"bg-muted\">\n                            <Users className=\"h-5 w-5 text-muted-foreground\" />\n                          </AvatarFallback>\n                        </Avatar>\n                        <div>\n                          <div className=\"font-medium\">{role.displayName}</div>\n                          <div className=\"text-sm text-muted-foreground flex items-center gap-2\">\n                            {role.name}\n                            {role.isSystemRole && (\n                              <Badge variant=\"secondary\" className=\"text-xs\">System</Badge>\n                            )}\n                          </div>\n                          {role.description && (\n                            <div className=\"text-xs text-muted-foreground mt-1\">\n                              {role.description}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <div>{role.permissions?.length || 0} permissions</div>\n                      {role.children && role.children.length > 0 && (\n                        <div className=\"text-xs text-muted-foreground\">\n                          {role.children.length} child roles\n                        </div>\n                      )}\n                    </TableCell>\n                    <TableCell>\n                      <Badge variant={role.isActive ? 'default' : 'destructive'}>\n                        {role.isActive ? 'Active' : 'Inactive'}\n                      </Badge>\n                    </TableCell>\n                    <TableCell>{role.priority}</TableCell>\n                    <TableCell>{new Date(role.createdAt).toLocaleDateString()}</TableCell>\n                    <TableCell className=\"text-right\">\n                      <div className=\"flex justify-end gap-2\">\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          onClick={() => setAssigningRole(role)}\n                          title=\"Manage Permissions\"\n                        >\n                          <ShieldCheck className=\"h-4 w-4\" />\n                        </Button>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          onClick={() => setEditingRole(role)}\n                          title=\"Edit Role\"\n                        >\n                          <Pencil className=\"h-4 w-4\" />\n                        </Button>\n                        {!role.isSystemRole && (\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            onClick={() => handleDelete(role)}\n                            title=\"Delete Role\"\n                          >\n                            <Trash2 className=\"h-4 w-4 text-destructive\" />\n                          </Button>\n                        )}\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                ))\n              )}\n            </TableBody>\n          </Table>\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4\">\n            <div className=\"text-sm text-muted-foreground\">\n              Showing {(searchInput.page || 0) * (searchInput.size || 20) + 1} to{' '}\n              {Math.min(((searchInput.page || 0) + 1) * (searchInput.size || 20), total)} of {total} results\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => handlePageChange((searchInput.page || 0) - 1)}\n                disabled={(searchInput.page || 0) <= 0}\n              >\n                Previous\n              </Button>\n              <div className=\"text-sm font-medium px-3 py-1 bg-muted rounded-md\">\n                {(searchInput.page || 0) + 1} / {totalPages}\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => handlePageChange((searchInput.page || 0) + 1)}\n                disabled={(searchInput.page || 0) >= totalPages - 1}\n              >\n                Next\n              </Button>\n            </div>\n          </div>\n        )}\n\n      </CardContent>\n\n      {/* Modals */}\n      {showCreateModal && (\n        <CreateRoleModal\n          isOpen={showCreateModal}\n          onClose={() => setShowCreateModal(false)}\n          onSuccess={handleCreateSuccess}\n        />\n      )}\n\n      {editingRole && (\n        <EditRoleModal\n          isOpen={!!editingRole}\n          role={editingRole}\n          onClose={() => setEditingRole(null)}\n          onSuccess={handleEditSuccess}\n        />\n      )}\n\n      {assigningRole && (\n        <AssignRolePermissionsModal\n          isOpen={!!assigningRole}\n          role={assigningRole}\n          onClose={() => setAssigningRole(null)}\n          onSuccess={handleAssignSuccess}\n        />\n      )}\n    </Card>\n  );\n};\n\nexport default RoleManagement;","import { gql } from '@apollo/client';\n\n// Permission Queries\nexport const SEARCH_PERMISSIONS = gql`\n  query SearchPermissions($input: PermissionSearchInput!) {\n    searchPermissions(input: $input) {\n      permissions {\n        id\n        name\n        displayName\n        description\n        resource\n        action\n        scope\n        category\n        conditions\n        metadata\n        isActive\n        isSystemPerm\n        createdAt\n        updatedAt\n      }\n      total\n      page\n      size\n      totalPages\n    }\n  }\n`;\n\nexport const GET_PERMISSION_BY_ID = gql`\n  query GetPermissionById($id: String!) {\n    getPermissionById(id: $id) {\n      id\n      name\n      displayName\n      description\n      resource\n      action\n      scope\n      category\n      conditions\n      metadata\n      isActive\n      isSystemPerm\n      createdAt\n      updatedAt\n    }\n  }\n`;\n\n// Permission Mutations\nexport const CREATE_PERMISSION = gql`\n  mutation CreatePermission($input: CreatePermissionInput!) {\n    createPermission(input: $input) {\n      id\n      name\n      displayName\n      description\n      resource\n      action\n      scope\n      category\n      conditions\n      metadata\n      isActive\n      isSystemPerm\n      createdAt\n      updatedAt\n    }\n  }\n`;\n\nexport const UPDATE_PERMISSION = gql`\n  mutation UpdatePermission($id: String!, $input: UpdatePermissionInput!) {\n    updatePermission(id: $id, input: $input) {\n      id\n      name\n      displayName\n      description\n      resource\n      action\n      scope\n      category\n      conditions\n      metadata\n      isActive\n      isSystemPerm\n      createdAt\n      updatedAt\n    }\n  }\n`;\n\nexport const DELETE_PERMISSION = gql`\n  mutation DeletePermission($id: String!) {\n    deletePermission(id: $id)\n  }\n`;\n\n// Role Queries\nexport const SEARCH_ROLES = gql`\n  query SearchRoles($input: RoleSearchInput!) {\n    searchRoles(input: $input) {\n      roles {\n        id\n        name\n        displayName\n        description\n        isActive\n        isSystemRole\n        priority\n        metadata\n        parentId\n        createdAt\n        updatedAt\n        permissions {\n          id\n          name\n          displayName\n          resource\n          action\n          scope\n          description\n          isActive\n        }\n        children {\n          id\n          name\n          displayName\n        }\n      }\n      total\n      page\n      size\n      totalPages\n    }\n  }\n`;\n\nexport const GET_ROLE_BY_ID = gql`\n  query GetRoleById($id: String!) {\n    getRoleById(id: $id) {\n      id\n      name\n      displayName\n      description\n      isActive\n      isSystemRole\n      priority\n      metadata\n      parentId\n      createdAt\n      updatedAt\n      permissions {\n        id\n        effect\n        permission {\n          id\n          name\n          displayName\n          resource\n          action\n          scope\n        }\n      }\n      children {\n        id\n        name\n        displayName\n      }\n    }\n  }\n`;\n\n// Role Mutations\nexport const CREATE_ROLE = gql`\n  mutation CreateRole($input: CreateRoleInput!) {\n    createRole(input: $input) {\n      id\n      name\n      displayName\n      description\n      isActive\n      isSystemRole\n      priority\n      metadata\n      parentId\n      createdAt\n      updatedAt\n      permissions {\n        id\n        effect\n        permission {\n          id\n          name\n          displayName\n          resource\n          action\n          scope\n        }\n      }\n      children {\n        id\n        name\n        displayName\n      }\n    }\n  }\n`;\n\nexport const UPDATE_ROLE = gql`\n  mutation UpdateRole($id: String!, $input: UpdateRoleInput!) {\n    updateRole(id: $id, input: $input) {\n      id\n      name\n      displayName\n      description\n      isActive\n      isSystemRole\n      priority\n      metadata\n      parentId\n      createdAt\n      updatedAt\n      permissions {\n        id\n        effect\n        permission {\n          id\n          name\n          displayName\n          resource\n          action\n          scope\n        }\n      }\n      children {\n        id\n        name\n        displayName\n      }\n    }\n  }\n`;\n\nexport const DELETE_ROLE = gql`\n  mutation DeleteRole($id: String!) {\n    deleteRole(id: $id)\n  }\n`;\n\nexport const ASSIGN_ROLE_PERMISSIONS = gql`\n  mutation AssignRolePermissions($input: AssignRolePermissionInput!) {\n    assignRolePermissions(input: $input)\n  }\n`;\n\n// User RBAC Queries and Mutations\nexport const GET_USER_ROLE_PERMISSIONS = gql`\n  query GetUserRolePermissions($userId: String!) {\n    getUserRolePermissions(userId: $userId) {\n      userId\n      directPermissions {\n        id\n        effect\n        conditions\n        metadata\n        permission {\n          id\n          name\n          displayName\n          resource\n          action\n          scope\n        }\n      }\n      roleAssignments {\n        id\n        effect\n        conditions\n        metadata\n        role {\n          id\n          name\n          displayName\n          permissions {\n            id\n            name\n            displayName\n            resource\n            action\n            scope\n            description\n            isActive\n          }\n        }\n      }\n      effectivePermissions {\n        id\n        name\n        displayName\n        resource\n        action\n        scope\n        description\n        isActive\n      }\n      summary {\n        totalDirectPermissions\n        totalRoleAssignments\n        totalEffectivePermissions\n        lastUpdated\n      }\n    }\n  }\n`;\n\nexport const ASSIGN_USER_ROLES = gql`\n  mutation AssignUserRoles($input: AssignUserRoleInput!) {\n    assignUserRoles(input: $input)\n  }\n`;\n\nexport const ASSIGN_USER_PERMISSIONS = gql`\n  mutation AssignUserPermissions($input: AssignUserPermissionInput!) {\n    assignUserPermissions(input: $input)\n  }\n`;","import { useMutation, useQuery } from '@apollo/client';\nimport { \n  SEARCH_PERMISSIONS,\n  GET_PERMISSION_BY_ID,\n  CREATE_PERMISSION,\n  UPDATE_PERMISSION,\n  DELETE_PERMISSION,\n  SEARCH_ROLES,\n  GET_ROLE_BY_ID,\n  CREATE_ROLE,\n  UPDATE_ROLE,\n  DELETE_ROLE,\n  ASSIGN_ROLE_PERMISSIONS,\n  GET_USER_ROLE_PERMISSIONS,\n  ASSIGN_USER_ROLES,\n  ASSIGN_USER_PERMISSIONS\n} from '../graphql/rbac.queries';\nimport { toast } from 'sonner';\n\n// Permission hooks\nexport const useSearchPermissions = (input: any) => {\n  return useQuery(SEARCH_PERMISSIONS, {\n    variables: { input },\n    errorPolicy: 'all',\n    onError: (error) => {\n      console.error('Error searching permissions:', error);\n      toast.error('Failed to search permissions');\n    },\n  });\n};\n\nexport const useGetPermissionById = (id: string) => {\n  return useQuery(GET_PERMISSION_BY_ID, {\n    variables: { id },\n    skip: !id,\n    errorPolicy: 'all',\n    onError: (error) => {\n      console.error('Error getting permission:', error);\n      toast.error('Failed to get permission');\n    },\n  });\n};\n\nexport const useCreatePermission = () => {\n  return useMutation(CREATE_PERMISSION, {\n    onCompleted: () => {\n      toast.success('Permission created successfully');\n    },\n    onError: (error) => {\n      console.error('Error creating permission:', error);\n      toast.error('Failed to create permission');\n    },\n    refetchQueries: ['SearchPermissions'],\n  });\n};\n\nexport const useUpdatePermission = () => {\n  return useMutation(UPDATE_PERMISSION, {\n    onCompleted: () => {\n      toast.success('Permission updated successfully');\n    },\n    onError: (error) => {\n      console.error('Error updating permission:', error);\n      toast.error('Failed to update permission');\n    },\n    refetchQueries: ['SearchPermissions', 'GetPermissionById'],\n  });\n};\n\nexport const useDeletePermission = () => {\n  return useMutation(DELETE_PERMISSION, {\n    onCompleted: () => {\n      toast.success('Permission deleted successfully');\n    },\n    onError: (error) => {\n      console.error('Error deleting permission:', error);\n      toast.error('Failed to delete permission');\n    },\n    refetchQueries: ['SearchPermissions'],\n  });\n};\n\n// Role hooks\nexport const useSearchRoles = (input: any) => {\n  return useQuery(SEARCH_ROLES, {\n    variables: { input },\n    errorPolicy: 'all',\n    onError: (error) => {\n      console.error('Error searching roles:', error);\n      toast.error('Failed to search roles');\n    },\n  });\n};\n\nexport const useGetRoleById = (id: string) => {\n  return useQuery(GET_ROLE_BY_ID, {\n    variables: { id },\n    skip: !id,\n    errorPolicy: 'all',\n    onError: (error) => {\n      console.error('Error getting role:', error);\n      toast.error('Failed to get role');\n    },\n  });\n};\n\nexport const useCreateRole = () => {\n  return useMutation(CREATE_ROLE, {\n    onCompleted: () => {\n      toast.success('Role created successfully');\n    },\n    onError: (error) => {\n      console.error('Error creating role:', error);\n      toast.error('Failed to create role');\n    },\n    refetchQueries: ['SearchRoles'],\n  });\n};\n\nexport const useUpdateRole = () => {\n  return useMutation(UPDATE_ROLE, {\n    onCompleted: () => {\n      toast.success('Role updated successfully');\n    },\n    onError: (error) => {\n      console.error('Error updating role:', error);\n      toast.error('Failed to update role');\n    },\n    refetchQueries: ['SearchRoles', 'GetRoleById'],\n  });\n};\n\nexport const useDeleteRole = () => {\n  return useMutation(DELETE_ROLE, {\n    onCompleted: () => {\n      toast.success('Role deleted successfully');\n    },\n    onError: (error) => {\n      console.error('Error deleting role:', error);\n      toast.error('Failed to delete role');\n    },\n    refetchQueries: ['SearchRoles'],\n  });\n};\n\nexport const useAssignRolePermissions = () => {\n  return useMutation(ASSIGN_ROLE_PERMISSIONS, {\n    onCompleted: () => {\n      toast.success('Role permissions updated successfully');\n    },\n    onError: (error) => {\n      console.error('Error assigning role permissions:', error);\n      toast.error('Failed to update role permissions');\n    },\n    refetchQueries: ['SearchRoles', 'GetRoleById'],\n  });\n};\n\n// User RBAC hooks\nexport const useGetUserRolePermissions = (userId: string) => {\n  return useQuery(GET_USER_ROLE_PERMISSIONS, {\n    variables: { userId },\n    skip: !userId,\n    errorPolicy: 'all',\n    onError: (error) => {\n      console.error('Error getting user role permissions:', error);\n      toast.error('Failed to get user permissions');\n    },\n  });\n};\n\nexport const useAssignUserRoles = () => {\n  return useMutation(ASSIGN_USER_ROLES, {\n    onCompleted: () => {\n      toast.success('User roles updated successfully');\n    },\n    onError: (error) => {\n      console.error('Error assigning user roles:', error);\n      toast.error('Failed to update user roles');\n    },\n    refetchQueries: ['GetUserRolePermissions', 'SearchUsers'],\n  });\n};\n\nexport const useAssignUserPermissions = () => {\n  return useMutation(ASSIGN_USER_PERMISSIONS, {\n    onCompleted: () => {\n      toast.success('User permissions updated successfully');\n    },\n    onError: (error) => {\n      console.error('Error assigning user permissions:', error);\n      toast.error('Failed to update user permissions');\n    },\n    refetchQueries: ['GetUserRolePermissions', 'SearchUsers'],\n  });\n};","import React, { useState, useEffect } from 'react';\nimport { useAssignRolePermissions, useSearchPermissions } from '../../../hooks/useRbac';\nimport { Role, Permission, AssignRolePermissionInput } from '../../../types/rbac.types';\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Label } from '@/components/ui/label';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { useToast } from '@/hooks/use-toast';\nimport { Search } from 'lucide-react';\n\ninterface AssignRolePermissionsModalProps {\n  isOpen: boolean;\n  role: Role;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\ninterface PermissionAssignment {\n  permissionId: string;\n  effect: 'allow' | 'deny' | null;\n}\n\nconst AssignRolePermissionsModal: React.FC<AssignRolePermissionsModalProps> = ({\n  isOpen,\n  role,\n  onClose,\n  onSuccess,\n}) => {\n  const [assignments, setAssignments] = useState<PermissionAssignment[]>([]);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const [assignRolePermissions, { loading }] = useAssignRolePermissions();\n  // Note: Backend has a max limit of 100 items per request\n  // If you have more than 100 permissions, consider implementing pagination\n  const { data: permissionsData } = useSearchPermissions({\n    page: 0,\n    size: 100, // Backend max limit is 100\n    isActive: true,\n  });\n  const { toast } = useToast();\n\n  // Reset search term when modal closes\n  useEffect(() => {\n    if (!isOpen) {\n      setSearchTerm('');\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (role && permissionsData?.searchPermissions?.permissions) {\n      const permissions = permissionsData.searchPermissions.permissions;\n      const rolePermissions = role.permissions || [];\n      \n      const newAssignments: PermissionAssignment[] = permissions.map((permission: Permission) => {\n        const existing = rolePermissions.find((rp:any) => rp?.permission?.id === permission?.id);\n        return {\n          permissionId: permission?.id,\n          effect: existing ? existing.effect : null,\n        };\n      });\n      \n      setAssignments(newAssignments);\n    }\n  }, [role, permissionsData]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    // Group permissions by effect\n    const allowPermissions = assignments\n      .filter(a => a.effect === 'allow')\n      .map(a => a.permissionId);\n    \n    const denyPermissions = assignments\n      .filter(a => a.effect === 'deny')\n      .map(a => a.permissionId);\n\n    try {\n      // Since backend clears all permissions before adding new ones,\n      // we need to send ALL permissions (allow + deny) in correct order\n      \n      // First, assign \"allow\" permissions\n      await assignRolePermissions({\n        variables: { \n          input: {\n            roleId: role.id,\n            permissionIds: allowPermissions,\n            effect: 'allow',\n          }\n        },\n      });\n      \n      // Then manually add \"deny\" permissions if any (using a second mutation call)\n      // Note: This requires the backend to support appending, not replacing\n      // For now, this is a limitation - only \"allow\" permissions work properly\n      \n      if (denyPermissions.length > 0) {\n        // Try to add deny permissions\n        // This will replace the allow permissions due to backend implementation\n        // TODO: Backend needs to support batch assignment with mixed effects\n        console.warn('Deny permissions are not fully supported with current backend API');\n      }\n      \n      toast({\n        title: 'Permissions updated',\n        description: `${allowPermissions.length} permission(s) assigned to role \"${role.displayName}\".`,\n        type: 'success',\n      });\n      onSuccess();\n      onClose(); // Close modal after success\n    } catch (error: any) {\n      toast({\n        title: 'Update failed',\n        description: error.message || 'Failed to update permissions',\n        type: 'error',\n      });\n    }\n  };\n\n  const handlePermissionChange = (permissionId: string, effect: 'allow' | 'deny' | null) => {\n    setAssignments(prev => \n      prev.map(a => \n        a.permissionId === permissionId \n          ? { ...a, effect }\n          : a\n      )\n    );\n  };\n\n  const permissions = permissionsData?.searchPermissions?.permissions || [];\n  const totalPermissions = permissionsData?.searchPermissions?.total || 0;\n  const filteredPermissions = permissions.filter((permission: Permission) =>\n    permission.displayName.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    permission.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    permission.resource.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    permission.action.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  const activeCount = assignments.filter(a => a.effect !== null).length;\n  const hasMorePermissions = totalPermissions > 100;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-4xl max-h-[90vh]\">\n        <DialogHeader>\n          <DialogTitle>Manage Permissions for: {role.displayName}</DialogTitle>\n          <DialogDescription>\n            Assign permissions for this role. Choose \"Allow\" to grant permission or \"None\" to remove it. Note: \"Deny\" functionality requires backend API enhancement.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {hasMorePermissions && (\n            <Alert>\n              <AlertDescription>\n                Showing first 100 of {totalPermissions} permissions. Use search to find specific permissions.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          <div className=\"flex items-center justify-between\">\n            <div className=\"relative flex-1\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                type=\"text\"\n                placeholder=\"Search permissions...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n                disabled={loading}\n              />\n            </div>\n            <Badge variant=\"secondary\" className=\"ml-4\">\n              {activeCount} assigned\n            </Badge>\n          </div>\n\n          <ScrollArea className=\"h-[400px] border rounded-lg\">\n            <div className=\"divide-y\">\n              {filteredPermissions.map((permission: Permission) => {\n                const assignment = assignments.find(a => a.permissionId === permission.id);\n                return (\n                  <div key={permission.id} className=\"p-4 hover:bg-muted/50 transition-colors\">\n                    <div className=\"flex items-start justify-between gap-4\">\n                      <div className=\"flex-1 space-y-1\">\n                        <div className=\"font-medium\">{permission.displayName}</div>\n                        {permission.description && (\n                          <div className=\"text-sm text-muted-foreground\">\n                            {permission.description}\n                          </div>\n                        )}\n                        <div className=\"flex items-center gap-2 text-sm\">\n                          <code className=\"px-2 py-0.5 rounded bg-muted text-xs\">\n                            {permission.resource}:{permission.action}\n                            {permission.scope && `:${permission.scope}`}\n                          </code>\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            {permission.category}\n                          </Badge>\n                        </div>\n                      </div>\n\n                      <RadioGroup\n                        value={assignment?.effect || 'none'}\n                        onValueChange={(value) => handlePermissionChange(\n                          permission.id,\n                          value === 'none' ? null : value as 'allow' | 'deny'\n                        )}\n                        className=\"flex gap-4\"\n                        disabled={loading}\n                      >\n                        <div className=\"flex items-center space-x-2\">\n                          <RadioGroupItem value=\"none\" id={`${permission.id}-none`} disabled={loading} />\n                          <Label htmlFor={`${permission.id}-none`} className=\"font-normal cursor-pointer\">\n                            None\n                          </Label>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <RadioGroupItem value=\"allow\" id={`${permission.id}-allow`} disabled={loading} />\n                          <Label \n                            htmlFor={`${permission.id}-allow`} \n                            className=\"font-normal cursor-pointer text-green-600\"\n                          >\n                            Allow\n                          </Label>\n                        </div>\n                        <div className=\"flex items-center space-x-2\">\n                          <RadioGroupItem value=\"deny\" id={`${permission.id}-deny`} disabled={loading} />\n                          <Label \n                            htmlFor={`${permission.id}-deny`} \n                            className=\"font-normal cursor-pointer text-destructive\"\n                          >\n                            Deny\n                          </Label>\n                        </div>\n                      </RadioGroup>\n                    </div>\n                  </div>\n                );\n              })}\n\n              {filteredPermissions.length === 0 && (\n                <div className=\"text-center py-12 text-muted-foreground\">\n                  No permissions found matching your search.\n                </div>\n              )}\n            </div>\n          </ScrollArea>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={onClose}\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={loading}>\n              {loading ? 'Saving...' : 'Save Permissions'}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default AssignRolePermissionsModal;","import React, { useState } from 'react';\nimport { useCreateRole, useSearchPermissions } from '../../../hooks/useRbac';\nimport { CreateRoleInput } from '../../../types/rbac.types';\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Button } from '@/components/ui/button';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface CreateRoleModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst CreateRoleModal: React.FC<CreateRoleModalProps> = ({\n  isOpen,\n  onClose,\n  onSuccess,\n}) => {\n  const [formData, setFormData] = useState<CreateRoleInput>({\n    name: '',\n    displayName: '',\n    description: '',\n    priority: 0,\n    permissionIds: [],\n  });\n\n  const [createRole, { loading }] = useCreateRole();\n  const { data: permissionsData } = useSearchPermissions({\n    page: 0,\n    size: 100,\n    isActive: true,\n  });\n  const { toast } = useToast();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      await createRole({\n        variables: {\n          input: formData,\n        },\n      });\n      toast({\n        title: 'Role created',\n        description: `Role \"${formData.displayName}\" has been created successfully.`,\n        type: 'success',\n      });\n      onSuccess();\n    } catch (error: any) {\n      toast({\n        title: 'Create failed',\n        description: error.message || 'Failed to create role',\n        type: 'error',\n      });\n    }\n  };\n\n  const handlePermissionToggle = (permissionId: string) => {\n    setFormData(prev => ({\n      ...prev,\n      permissionIds: prev.permissionIds?.includes(permissionId)\n        ? prev.permissionIds.filter(id => id !== permissionId)\n        : [...(prev.permissionIds || []), permissionId],\n    }));\n  };\n\n  const permissions = permissionsData?.searchPermissions?.permissions || [];\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>Create New Role</DialogTitle>\n          <DialogDescription>\n            Create a new role and assign permissions\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"name\">\n                Role Name <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"name\"\n                required\n                value={formData.name}\n                onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                placeholder=\"e.g., user_manager\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"displayName\">\n                Display Name <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"displayName\"\n                required\n                value={formData.displayName}\n                onChange={(e) => setFormData(prev => ({ ...prev, displayName: e.target.value }))}\n                placeholder=\"e.g., User Manager\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                rows={3}\n                value={formData.description || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Describe the role's purpose and responsibilities\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"priority\">Priority</Label>\n              <Input\n                id=\"priority\"\n                type=\"number\"\n                value={formData.priority}\n                onChange={(e) => setFormData(prev => ({ ...prev, priority: parseInt(e.target.value) || 0 }))}\n                placeholder=\"0\"\n              />\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Higher numbers have higher priority\n              </p>\n            </div>\n\n            {permissions.length > 0 && (\n              <div>\n                <Label className=\"mb-2 block\">Permissions</Label>\n                <ScrollArea className=\"h-48 border rounded-md p-3\">\n                  <div className=\"space-y-3\">\n                    {permissions.map((permission: any) => (\n                      <div key={permission.id} className=\"flex items-start space-x-2\">\n                        <Checkbox\n                          id={`permission-${permission.id}`}\n                          checked={formData.permissionIds?.includes(permission.id) || false}\n                          onCheckedChange={() => handlePermissionToggle(permission.id)}\n                        />\n                        <Label\n                          htmlFor={`permission-${permission.id}`}\n                          className=\"text-sm font-normal cursor-pointer leading-tight\"\n                        >\n                          <div>{permission.displayName}</div>\n                          <div className=\"text-xs text-muted-foreground\">\n                            {permission.resource}:{permission.action}\n                          </div>\n                        </Label>\n                      </div>\n                    ))}\n                  </div>\n                </ScrollArea>\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  {formData.permissionIds?.length || 0} permissions selected\n                </p>\n              </div>\n            )}\n          </div>\n\n          <DialogFooter>\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={loading}>\n              {loading ? 'Creating...' : 'Create Role'}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default CreateRoleModal;","import React, { useState, useEffect } from 'react';\nimport { AlertCircle } from 'lucide-react';\nimport { useUpdateRole, useSearchPermissions } from '../../../hooks/useRbac';\nimport { Role, UpdateRoleInput } from '../../../types/rbac.types';\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Button } from '@/components/ui/button';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface EditRoleModalProps {\n  isOpen: boolean;\n  role: Role;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst EditRoleModal: React.FC<EditRoleModalProps> = ({\n  isOpen,\n  role,\n  onClose,\n  onSuccess,\n}) => {\n  const [formData, setFormData] = useState<UpdateRoleInput>({\n    name: '',\n    displayName: '',\n    description: '',\n    priority: 0,\n    isActive: true,\n  });\n\n  const [updateRole, { loading }] = useUpdateRole();\n  const { data: permissionsData } = useSearchPermissions({\n    page: 0,\n    size: 100,\n    isActive: true,\n  });\n  const { toast } = useToast();\n\n  useEffect(() => {\n    if (role) {\n      setFormData({\n        name: role.name,\n        displayName: role.displayName,\n        description: role.description || '',\n        priority: role.priority,\n        isActive: role.isActive,\n      });\n    }\n  }, [role]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      await updateRole({\n        variables: {\n          id: role.id,\n          input: formData,\n        },\n      });\n      toast({\n        title: 'Role updated',\n        description: `Role \"${formData.displayName}\" has been updated successfully.`,\n        type: 'success',\n      });\n      onSuccess();\n    } catch (error: any) {\n      toast({\n        title: 'Update failed',\n        description: error.message || 'Failed to update role',\n        type: 'error',\n      });\n    }\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle>Edit Role: {role.displayName}</DialogTitle>\n          <DialogDescription>\n            Update role information and settings\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {role.isSystemRole && (\n            <Alert className=\"border-yellow-200 bg-yellow-50\">\n              <AlertCircle className=\"h-4 w-4 text-yellow-600\" />\n              <AlertDescription className=\"text-yellow-800\">\n                <strong>System Role:</strong> Some properties cannot be modified to ensure system stability.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"name\">\n                Role Name <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"name\"\n                required\n                value={formData.name || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                placeholder=\"e.g., user_manager\"\n                disabled={role.isSystemRole}\n              />\n              {role.isSystemRole && (\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  System role names cannot be changed\n                </p>\n              )}\n            </div>\n\n            <div>\n              <Label htmlFor=\"displayName\">\n                Display Name <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"displayName\"\n                required\n                value={formData.displayName || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, displayName: e.target.value }))}\n                placeholder=\"e.g., User Manager\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                rows={3}\n                value={formData.description || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Describe the role's purpose and responsibilities\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"priority\">Priority</Label>\n              <Input\n                id=\"priority\"\n                type=\"number\"\n                value={formData.priority || 0}\n                onChange={(e) => setFormData(prev => ({ ...prev, priority: parseInt(e.target.value) || 0 }))}\n                placeholder=\"0\"\n              />\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Higher numbers have higher priority\n              </p>\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n              <Checkbox\n                id=\"isActive\"\n                checked={formData.isActive || false}\n                onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isActive: checked as boolean }))}\n                disabled={role.isSystemRole}\n              />\n              <Label htmlFor=\"isActive\" className=\"text-sm font-normal cursor-pointer\">\n                Active\n              </Label>\n            </div>\n            {role.isSystemRole && (\n              <p className=\"text-xs text-muted-foreground\">\n                System roles cannot be deactivated\n              </p>\n            )}\n          </div>\n\n          <DialogFooter>\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={loading}>\n              {loading ? 'Updating...' : 'Update Role'}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default EditRoleModal;","import React, { useState } from 'react';\nimport { useCreatePermission } from '../../../hooks/useRbac';\nimport { CreatePermissionInput } from '../../../types/rbac.types';\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Button } from '@/components/ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface CreatePermissionModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst CreatePermissionModal: React.FC<CreatePermissionModalProps> = ({\n  isOpen,\n  onClose,\n  onSuccess,\n}) => {\n  const [formData, setFormData] = useState<CreatePermissionInput>({\n    name: '',\n    displayName: '',\n    description: '',\n    resource: '',\n    action: '',\n    scope: '',\n    category: 'general',\n  });\n\n  const [createPermission, { loading }] = useCreatePermission();\n  const { toast } = useToast();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      await createPermission({\n        variables: {\n          input: {\n            ...formData,\n            scope: formData.scope || undefined,\n          },\n        },\n      });\n      toast({\n        title: 'Permission created',\n        description: `Permission \"${formData.displayName}\" has been created successfully.`,\n        type: 'success',\n      });\n      onSuccess();\n    } catch (error: any) {\n      toast({\n        title: 'Create failed',\n        description: error.message || 'Failed to create permission',\n        type: 'error',\n      });\n    }\n  };\n\n  const categories = [\n    'general',\n    'user',\n    'admin',\n    'content',\n    'system',\n    'reporting',\n    'billing',\n    'integration',\n  ];\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle>Create New Permission</DialogTitle>\n          <DialogDescription>\n            Define a new permission for the RBAC system. Use the format resource:action:scope for the permission name.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"name\">\n                Permission Name <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"name\"\n                required\n                value={formData.name}\n                onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                placeholder=\"e.g., user:read:own\"\n              />\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Use the format: resource:action:scope\n              </p>\n            </div>\n\n            <div>\n              <Label htmlFor=\"displayName\">\n                Display Name <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"displayName\"\n                required\n                value={formData.displayName}\n                onChange={(e) => setFormData(prev => ({ ...prev, displayName: e.target.value }))}\n                placeholder=\"e.g., Read Own User Data\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                rows={3}\n                value={formData.description || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Describe what this permission allows\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <Label htmlFor=\"resource\">\n                  Resource <span className=\"text-destructive\">*</span>\n                </Label>\n                <Input\n                  id=\"resource\"\n                  required\n                  value={formData.resource}\n                  onChange={(e) => setFormData(prev => ({ ...prev, resource: e.target.value }))}\n                  placeholder=\"e.g., user, post, comment\"\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"action\">\n                  Action <span className=\"text-destructive\">*</span>\n                </Label>\n                <Input\n                  id=\"action\"\n                  required\n                  value={formData.action}\n                  onChange={(e) => setFormData(prev => ({ ...prev, action: e.target.value }))}\n                  placeholder=\"e.g., read, write, delete\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <Label htmlFor=\"scope\">Scope</Label>\n              <Input\n                id=\"scope\"\n                value={formData.scope || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, scope: e.target.value }))}\n                placeholder=\"e.g., own, all, team (optional)\"\n              />\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Optional scope qualifier for the permission\n              </p>\n            </div>\n\n            <div>\n              <Label htmlFor=\"category\">\n                Category <span className=\"text-destructive\">*</span>\n              </Label>\n              <Select\n                value={formData.category || 'general'}\n                onValueChange={(value) => setFormData(prev => ({ ...prev, category: value }))}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {categories.map(category => (\n                    <SelectItem key={category} value={category}>\n                      {category.charAt(0).toUpperCase() + category.slice(1)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={onClose}\n            >\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={loading}>\n              {loading ? 'Creating...' : 'Create Permission'}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default CreatePermissionModal;","import React, { useState, useEffect } from 'react';\nimport { useUpdatePermission } from '../../../hooks/useRbac';\nimport { Permission, UpdatePermissionInput } from '../../../types/rbac.types';\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Button } from '@/components/ui/button';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { useToast } from '@/hooks/use-toast';\nimport { AlertCircle } from 'lucide-react';\n\ninterface EditPermissionModalProps {\n  isOpen: boolean;\n  permission: Permission;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst EditPermissionModal: React.FC<EditPermissionModalProps> = ({\n  isOpen,\n  permission,\n  onClose,\n  onSuccess,\n}) => {\n  const [formData, setFormData] = useState<UpdatePermissionInput>({\n    name: '',\n    displayName: '',\n    description: '',\n    resource: '',\n    action: '',\n    scope: '',\n    category: 'general',\n    isActive: true,\n  });\n\n  const [updatePermission, { loading }] = useUpdatePermission();\n  const { toast } = useToast();\n\n  useEffect(() => {\n    if (permission) {\n      setFormData({\n        name: permission.name,\n        displayName: permission.displayName,\n        description: permission.description || '',\n        resource: permission.resource,\n        action: permission.action,\n        scope: permission.scope || '',\n        category: permission.category,\n        isActive: permission.isActive,\n      });\n    }\n  }, [permission]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    try {\n      await updatePermission({\n        variables: {\n          id: permission.id,\n          input: {\n            ...formData,\n            scope: formData.scope || undefined,\n          },\n        },\n      });\n      toast({\n        title: 'Permission updated',\n        description: `Permission \"${formData.displayName}\" has been updated successfully.`,\n        type: 'success',\n      });\n      onSuccess();\n    } catch (error: any) {\n      toast({\n        title: 'Update failed',\n        description: error.message || 'Failed to update permission',\n        type: 'error',\n      });\n    }\n  };\n\n  const categories = [\n    'general',\n    'user',\n    'admin',\n    'content',\n    'system',\n    'reporting',\n    'billing',\n    'integration',\n  ];\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-2xl\">\n        <DialogHeader>\n          <DialogTitle>Edit Permission: {permission.displayName}</DialogTitle>\n          <DialogDescription>\n            Update permission details. System permissions have limited editability to ensure system stability.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {permission.isSystemPerm && (\n            <Alert>\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>\n                This is a system permission. Some properties cannot be modified to ensure system stability.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          <div className=\"space-y-4\">\n            <div>\n              <Label htmlFor=\"name\">\n                Permission Name <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"name\"\n                required\n                value={formData.name || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                placeholder=\"e.g., user:read:own\"\n                disabled={permission.isSystemPerm}\n              />\n              {permission.isSystemPerm && (\n                <p className=\"text-xs text-muted-foreground mt-1\">\n                  System permission names cannot be changed\n                </p>\n              )}\n            </div>\n\n            <div>\n              <Label htmlFor=\"displayName\">\n                Display Name <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"displayName\"\n                required\n                value={formData.displayName || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, displayName: e.target.value }))}\n                placeholder=\"e.g., Read Own User Data\"\n              />\n            </div>\n\n            <div>\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                rows={3}\n                value={formData.description || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                placeholder=\"Describe what this permission allows\"\n              />\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <Label htmlFor=\"resource\">\n                  Resource <span className=\"text-destructive\">*</span>\n                </Label>\n                <Input\n                  id=\"resource\"\n                  required\n                  value={formData.resource || ''}\n                  onChange={(e) => setFormData(prev => ({ ...prev, resource: e.target.value }))}\n                  placeholder=\"e.g., user, post, comment\"\n                  disabled={permission.isSystemPerm}\n                />\n              </div>\n\n              <div>\n                <Label htmlFor=\"action\">\n                  Action <span className=\"text-destructive\">*</span>\n                </Label>\n                <Input\n                  id=\"action\"\n                  required\n                  value={formData.action || ''}\n                  onChange={(e) => setFormData(prev => ({ ...prev, action: e.target.value }))}\n                  placeholder=\"e.g., read, write, delete\"\n                  disabled={permission.isSystemPerm}\n                />\n              </div>\n            </div>\n\n            <div>\n              <Label htmlFor=\"scope\">Scope</Label>\n              <Input\n                id=\"scope\"\n                value={formData.scope || ''}\n                onChange={(e) => setFormData(prev => ({ ...prev, scope: e.target.value }))}\n                placeholder=\"e.g., own, all, team (optional)\"\n                disabled={permission.isSystemPerm}\n              />\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Optional scope qualifier for the permission\n              </p>\n            </div>\n\n            <div>\n              <Label htmlFor=\"category\">\n                Category <span className=\"text-destructive\">*</span>\n              </Label>\n              <Select\n                value={formData.category || 'general'}\n                onValueChange={(value) => setFormData(prev => ({ ...prev, category: value }))}\n              >\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {categories.map(category => (\n                    <SelectItem key={category} value={category}>\n                      {category.charAt(0).toUpperCase() + category.slice(1)}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"flex items-center space-x-2\">\n              <Checkbox\n                id=\"isActive\"\n                checked={formData.isActive || false}\n                onCheckedChange={(checked) => setFormData(prev => ({ ...prev, isActive: checked as boolean }))}\n                disabled={permission.isSystemPerm}\n              />\n              <Label htmlFor=\"isActive\" className=\"font-normal cursor-pointer\">\n                Active\n              </Label>\n            </div>\n            {permission.isSystemPerm && (\n              <p className=\"text-xs text-muted-foreground\">\n                System permissions cannot be deactivated\n              </p>\n            )}\n          </div>\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={onClose}\n            >\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={loading}>\n              {loading ? 'Updating...' : 'Update Permission'}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default EditPermissionModal;","import React, { useState } from 'react';\nimport { Plus, Pencil, Trash2, Key } from 'lucide-react';\nimport { useSearchPermissions, useDeletePermission } from '../../../hooks/useRbac';\nimport { Permission, PermissionSearchInput } from '../../../types/rbac.types';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Avatar, AvatarFallback } from '@/components/ui/avatar';\nimport { useToast } from '@/hooks/use-toast';\nimport CreatePermissionModal from './CreatePermissionModal';\nimport EditPermissionModal from './EditPermissionModal';\n\n\ninterface PermissionManagementProps {\n  className?: string;\n}\n\nconst PermissionManagement: React.FC<PermissionManagementProps> = ({ className = '' }) => {\n  const [searchInput, setSearchInput] = useState<PermissionSearchInput>({\n    page: 0,\n    size: 20,\n    sortBy: 'name',\n    sortOrder: 'asc'\n  });\n  \n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [editingPermission, setEditingPermission] = useState<Permission | null>(null);\n\n  const { data, loading, error, refetch } = useSearchPermissions(searchInput);\n  const [deletePermission] = useDeletePermission();\n  const { toast } = useToast();\n\n  const handleSearch = (search: string) => {\n    setSearchInput(prev => ({ ...prev, search, page: 0 }));\n  };\n\n  const handlePageChange = (page: number) => {\n    setSearchInput(prev => ({ ...prev, page }));\n  };\n\n  const handleDelete = async (permission: Permission) => {\n    if (permission.isSystemPerm) {\n      toast({\n        title: 'Cannot delete system permission',\n        description: 'System permissions cannot be deleted for security reasons.',\n        type: 'error',\n      });\n      return;\n    }\n\n    if (window.confirm(`Are you sure you want to delete permission \"${permission.displayName}\"?`)) {\n      try {\n        await deletePermission({ variables: { id: permission.id } });\n        toast({\n          title: 'Permission deleted',\n          description: `Permission \"${permission.displayName}\" has been deleted successfully.`,\n          type: 'success',\n        });\n        refetch();\n      } catch (error: any) {\n        toast({\n          title: 'Delete failed',\n          description: error.message || 'Failed to delete permission',\n          type: 'error',\n        });\n      }\n    }\n  };\n\n  const handleCreateSuccess = () => {\n    setShowCreateModal(false);\n    refetch();\n  };\n\n  const handleEditSuccess = () => {\n    setEditingPermission(null);\n    refetch();\n  };\n\n  if (loading) {\n    return (\n      <Card className={className}>\n        <CardHeader>\n          <Skeleton className=\"h-8 w-48\" />\n          <Skeleton className=\"h-4 w-96\" />\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {[...Array(5)].map((_, i) => (\n            <div key={i} className=\"flex items-center space-x-4\">\n              <Skeleton className=\"h-10 w-10 rounded-full\" />\n              <div className=\"space-y-2 flex-1\">\n                <Skeleton className=\"h-4 w-[250px]\" />\n                <Skeleton className=\"h-4 w-[200px]\" />\n              </div>\n            </div>\n          ))}\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert className={`border-red-200 bg-red-50 text-red-800 ${className}`}>\n        <AlertDescription>\n          Error loading permissions: {error.message}\n        </AlertDescription>\n      </Alert>\n    );\n  }\n\n  const permissions = data?.searchPermissions?.permissions || [];\n  const total = data?.searchPermissions?.total || 0;\n  const totalPages = data?.searchPermissions?.totalPages || 0;\n\n  return (\n    <Card className={className}>\n      <CardHeader>\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <CardTitle>Permission Management</CardTitle>\n            <CardDescription>\n              Define and manage system permissions\n            </CardDescription>\n          </div>\n          <Button onClick={() => setShowCreateModal(true)}>\n            <Plus className=\"mr-2 h-4 w-4\" />\n            New Permission\n          </Button>\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-4\">\n        {/* Search and Filters */}\n        <div className=\"flex flex-col lg:flex-row gap-4\">\n          <div className=\"flex-1\">\n            <Input\n              type=\"text\"\n              placeholder=\"Search permissions...\"\n              value={searchInput.search || ''}\n              onChange={(e) => handleSearch(e.target.value)}\n            />\n          </div>\n          <div className=\"flex gap-2\">\n            <Input\n              type=\"text\"\n              placeholder=\"Resource\"\n              value={searchInput.resource || ''}\n              onChange={(e) => setSearchInput(prev => ({ ...prev, resource: e.target.value || undefined, page: 0 }))}\n              className=\"w-32\"\n            />\n            <Input\n              type=\"text\"\n              placeholder=\"Action\"\n              value={searchInput.action || ''}\n              onChange={(e) => setSearchInput(prev => ({ ...prev, action: e.target.value || undefined, page: 0 }))}\n              className=\"w-32\"\n            />\n            <Select\n              value={searchInput.isActive === undefined ? 'all' : searchInput.isActive.toString()}\n              onValueChange={(value) => setSearchInput(prev => ({ \n                ...prev, \n                isActive: value === 'all' ? undefined : value === 'true',\n                page: 0 \n              }))}\n            >\n              <SelectTrigger className=\"w-[140px]\">\n                <SelectValue placeholder=\"All Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All Status</SelectItem>\n                <SelectItem value=\"true\">Active</SelectItem>\n                <SelectItem value=\"false\">Inactive</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n\n        {/* Table */}\n        <div className=\"rounded-md border\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Permission</TableHead>\n                <TableHead>Resource:Action</TableHead>\n                <TableHead>Category</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Created</TableHead>\n                <TableHead className=\"text-right\">Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {permissions.length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\n                    No permissions found\n                  </TableCell>\n                </TableRow>\n              ) : (\n                permissions.map((permission: Permission) => (\n                  <TableRow key={permission.id}>\n                    <TableCell>\n                      <div className=\"flex items-center gap-3\">\n                        <Avatar>\n                          <AvatarFallback className=\"bg-muted\">\n                            <Key className=\"h-5 w-5 text-muted-foreground\" />\n                          </AvatarFallback>\n                        </Avatar>\n                        <div>\n                          <div className=\"font-medium\">{permission.displayName}</div>\n                          <div className=\"text-sm text-muted-foreground flex items-center gap-2\">\n                            {permission.name}\n                            {permission.isSystemPerm && (\n                              <Badge variant=\"secondary\" className=\"text-xs\">System</Badge>\n                            )}\n                          </div>\n                          {permission.description && (\n                            <div className=\"text-xs text-muted-foreground mt-1\">\n                              {permission.description}\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <div>\n                        {permission.resource}:{permission.action}\n                        {permission.scope && (\n                          <span className=\"text-muted-foreground\">:{permission.scope}</span>\n                        )}\n                      </div>\n                    </TableCell>\n                    <TableCell>\n                      <Badge variant=\"outline\">{permission.category}</Badge>\n                    </TableCell>\n                    <TableCell>\n                      <Badge variant={permission.isActive ? 'default' : 'destructive'}>\n                        {permission.isActive ? 'Active' : 'Inactive'}\n                      </Badge>\n                    </TableCell>\n                    <TableCell>{new Date(permission.createdAt).toLocaleDateString()}</TableCell>\n                    <TableCell className=\"text-right\">\n                      <div className=\"flex justify-end gap-2\">\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          onClick={() => setEditingPermission(permission)}\n                          title=\"Edit Permission\"\n                        >\n                          <Pencil className=\"h-4 w-4\" />\n                        </Button>\n                        {!permission.isSystemPerm && (\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            onClick={() => handleDelete(permission)}\n                            title=\"Delete Permission\"\n                          >\n                            <Trash2 className=\"h-4 w-4 text-destructive\" />\n                          </Button>\n                        )}\n                      </div>\n                    </TableCell>\n                  </TableRow>\n                ))\n              )}\n            </TableBody>\n          </Table>\n        </div>\n\n        {/* Pagination */}\n        {totalPages > 1 && (\n          <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4\">\n            <div className=\"text-sm text-muted-foreground\">\n              Showing {(searchInput.page || 0) * (searchInput.size || 20) + 1} to{' '}\n              {Math.min(((searchInput.page || 0) + 1) * (searchInput.size || 20), total)} of {total} results\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => handlePageChange((searchInput.page || 0) - 1)}\n                disabled={(searchInput.page || 0) <= 0}\n              >\n                Previous\n              </Button>\n              <div className=\"text-sm font-medium px-3 py-1 bg-muted rounded-md\">\n                {(searchInput.page || 0) + 1} / {totalPages}\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => handlePageChange((searchInput.page || 0) + 1)}\n                disabled={(searchInput.page || 0) >= totalPages - 1}\n              >\n                Next\n              </Button>\n            </div>\n          </div>\n        )}\n      </CardContent>\n\n      {/* Modals */}\n      {showCreateModal && (\n        <CreatePermissionModal\n          isOpen={showCreateModal}\n          onClose={() => setShowCreateModal(false)}\n          onSuccess={handleCreateSuccess}\n        />\n      )}\n\n      {editingPermission && (\n        <EditPermissionModal\n          isOpen={!!editingPermission}\n          permission={editingPermission}\n          onClose={() => setEditingPermission(null)}\n          onSuccess={handleEditSuccess}\n        />\n      )}\n    </Card>\n  );\n};\n\nexport default PermissionManagement;","import React, { useState } from 'react';\nimport { Search, User, ShieldCheck } from 'lucide-react';\nimport { useSearchUsers } from '../../../lib/hooks/useUserManagement';\nimport { useGetUserRolePermissions, useAssignUserRoles, useAssignUserPermissions } from '../../../hooks/useRbac';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Separator } from '@/components/ui/separator';\nimport UserRolePermissionModal from './UserRolePermissionModal';\n\ninterface UserRoleAssignmentProps {\n  className?: string;\n}\n\nconst UserRoleAssignment: React.FC<UserRoleAssignmentProps> = ({ className = '' }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedUser, setSelectedUser] = useState<any>(null);\n\n  const { data: usersData, loading: usersLoading } = useSearchUsers({\n    search: searchTerm,\n    page: 0,\n    size: 50,\n  });\n\n  const users = usersData?.searchUsers?.users || [];\n\n  const handleUserSelect = (user: any) => {\n    setSelectedUser(user);\n  };\n\n  if (usersLoading) {\n    return (\n      <div className={`grid grid-cols-1 lg:grid-cols-2 gap-6 ${className}`}>\n        <Card>\n          <CardHeader>\n            <Skeleton className=\"h-6 w-32\" />\n            <Skeleton className=\"h-4 w-64\" />\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            {[...Array(5)].map((_, i) => (\n              <div key={i} className=\"flex items-center space-x-4\">\n                <Skeleton className=\"h-10 w-10 rounded-full\" />\n                <div className=\"space-y-2 flex-1\">\n                  <Skeleton className=\"h-4 w-[200px]\" />\n                  <Skeleton className=\"h-3 w-[150px]\" />\n                </div>\n              </div>\n            ))}\n          </CardContent>\n        </Card>\n        <Card>\n          <CardHeader>\n            <Skeleton className=\"h-6 w-32\" />\n            <Skeleton className=\"h-4 w-64\" />\n          </CardHeader>\n          <CardContent>\n            <Skeleton className=\"h-48 w-full\" />\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${className}`}>\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* User List */}\n        <Card>\n          <CardHeader>\n            <CardTitle>Select User</CardTitle>\n            <CardDescription>\n              Choose a user to manage their roles and permissions\n            </CardDescription>\n          </CardHeader>\n\n          <CardContent className=\"space-y-4\">\n            {/* Search */}\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                type=\"text\"\n                placeholder=\"Search users...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n\n            {/* User List */}\n            <ScrollArea className=\"h-[400px]\">\n              {users.length === 0 ? (\n                <div className=\"py-8 text-center text-muted-foreground\">\n                  {searchTerm ? 'No users found matching your search.' : 'No users available.'}\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  {users.map((user: any) => (\n                    <div\n                      key={user.id}\n                      onClick={() => handleUserSelect(user)}\n                      className={`p-3 rounded-lg hover:bg-accent cursor-pointer transition-colors ${\n                        selectedUser?.id === user.id ? 'bg-accent border-l-4 border-primary' : ''\n                      }`}\n                    >\n                      <div className=\"flex items-center gap-3\">\n                        <Avatar className=\"h-10 w-10\">\n                          {user.avatar ? (\n                            <AvatarImage src={user.avatar} alt={user.displayName || user.username} />\n                          ) : (\n                            <AvatarFallback>\n                              <User className=\"h-5 w-5\" />\n                            </AvatarFallback>\n                          )}\n                        </Avatar>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center justify-between gap-2\">\n                            <div className=\"flex-1 min-w-0\">\n                              <p className=\"text-sm font-medium truncate\">\n                                {user.displayName || user.username}\n                              </p>\n                              <p className=\"text-sm text-muted-foreground truncate\">{user.email}</p>\n                            </div>\n                            <Badge \n                              variant={user.role === 'ADMIN' ? 'default' : 'secondary'}\n                              className=\"shrink-0\"\n                            >\n                              {user.role}\n                            </Badge>\n                          </div>\n                          {user.isActive === false && (\n                            <Badge variant=\"destructive\" className=\"text-xs mt-1\">\n                              Inactive\n                            </Badge>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </ScrollArea>\n          </CardContent>\n        </Card>\n\n        {/* User Role & Permission Details */}\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex-1\">\n                <CardTitle>\n                  {selectedUser ? 'Role & Permission Details' : 'User Details'}\n                </CardTitle>\n                <CardDescription>\n                  {selectedUser \n                    ? `Manage roles and permissions for ${selectedUser.displayName || selectedUser.username}`\n                    : 'Select a user to view their role and permission details'\n                  }\n                </CardDescription>\n              </div>\n              {selectedUser && (\n                <Button\n                  onClick={() => setSelectedUser(selectedUser)}\n                  variant=\"secondary\"\n                  size=\"sm\"\n                >\n                  <ShieldCheck className=\"mr-2 h-4 w-4\" />\n                  Manage Access\n                </Button>\n              )}\n            </div>\n          </CardHeader>\n\n          <CardContent>\n            {selectedUser ? (\n              <UserRolePermissionPreview user={selectedUser} />\n            ) : (\n              <div className=\"text-center py-12\">\n                <User className=\"mx-auto h-12 w-12 text-muted-foreground\" />\n                <h3 className=\"mt-2 text-sm font-medium\">No user selected</h3>\n                <p className=\"mt-1 text-sm text-muted-foreground\">\n                  Select a user from the list to view their role and permission details.\n                </p>\n              </div>\n            )}\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* User Role Permission Modal */}\n      {selectedUser && (\n        <UserRolePermissionModal\n          isOpen={!!selectedUser}\n          user={selectedUser}\n          onClose={() => setSelectedUser(null)}\n        />\n      )}\n    </div>\n  );\n};\n\n// User Role Permission Preview Component\nconst UserRolePermissionPreview: React.FC<{ user: any }> = ({ user }) => {\n  const { data: rolePermissionsData, loading } = useGetUserRolePermissions(user.id);\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"grid grid-cols-3 gap-4\">\n          {[...Array(3)].map((_, i) => (\n            <div key={i} className=\"text-center space-y-2\">\n              <Skeleton className=\"h-8 w-16 mx-auto\" />\n              <Skeleton className=\"h-4 w-24 mx-auto\" />\n            </div>\n          ))}\n        </div>\n        <Separator />\n        <Skeleton className=\"h-32 w-full\" />\n      </div>\n    );\n  }\n\n  const summary = rolePermissionsData?.getUserRolePermissions?.summary;\n  const roleAssignments = rolePermissionsData?.getUserRolePermissions?.roleAssignments || [];\n  const directPermissions = rolePermissionsData?.getUserRolePermissions?.directPermissions || [];\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Summary */}\n      <div className=\"grid grid-cols-3 gap-4\">\n        <Card className=\"text-center p-4 border-2 hover:border-primary/50 transition-colors\">\n          <div className=\"text-2xl font-bold text-primary\">\n            {summary?.totalRoleAssignments || 0}\n          </div>\n          <div className=\"text-sm text-muted-foreground\">Roles</div>\n        </Card>\n        <Card className=\"text-center p-4 border-2 hover:border-green-500/50 transition-colors\">\n          <div className=\"text-2xl font-bold text-green-600\">\n            {summary?.totalDirectPermissions || 0}\n          </div>\n          <div className=\"text-sm text-muted-foreground\">Direct Permissions</div>\n        </Card>\n        <Card className=\"text-center p-4 border-2 hover:border-purple-500/50 transition-colors\">\n          <div className=\"text-2xl font-bold text-purple-600\">\n            {summary?.totalEffectivePermissions || 0}\n          </div>\n          <div className=\"text-sm text-muted-foreground\">Total Permissions</div>\n        </Card>\n      </div>\n\n      <Separator />\n\n      {/* Current Roles */}\n      <div>\n        <h4 className=\"text-sm font-semibold mb-3 flex items-center gap-2\">\n          <User className=\"h-4 w-4\" />\n          Current Roles\n        </h4>\n        {roleAssignments.length === 0 ? (\n          <p className=\"text-sm text-muted-foreground\">No roles assigned</p>\n        ) : (\n          <div className=\"space-y-2\">\n            {roleAssignments.slice(0, 3).map((assignment: any) => (\n              <div \n                key={assignment.id} \n                className=\"flex items-center justify-between p-2 rounded-lg bg-accent/50 hover:bg-accent transition-colors\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Avatar className=\"h-6 w-6\">\n                    <AvatarFallback className=\"bg-primary/10\">\n                      <User className=\"h-3 w-3 text-primary\" />\n                    </AvatarFallback>\n                  </Avatar>\n                  <p className=\"text-sm font-medium\">{assignment.role.displayName}</p>\n                </div>\n                <Badge variant={assignment.effect === 'allow' ? 'default' : 'destructive'}>\n                  {assignment.effect}\n                </Badge>\n              </div>\n            ))}\n            {roleAssignments.length > 3 && (\n              <p className=\"text-xs text-muted-foreground text-center pt-2\">\n                +{roleAssignments.length - 3} more roles\n              </p>\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Direct Permissions */}\n      <div>\n        <h4 className=\"text-sm font-semibold mb-3 flex items-center gap-2\">\n          <ShieldCheck className=\"h-4 w-4\" />\n          Direct Permissions\n        </h4>\n        {directPermissions.length === 0 ? (\n          <p className=\"text-sm text-muted-foreground\">No direct permissions assigned</p>\n        ) : (\n          <div className=\"space-y-2\">\n            {directPermissions.slice(0, 3).map((permission: any) => (\n              <div \n                key={permission.id} \n                className=\"flex items-center justify-between p-2 rounded-lg bg-accent/50 hover:bg-accent transition-colors\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Avatar className=\"h-6 w-6\">\n                    <AvatarFallback className=\"bg-green-100\">\n                      <ShieldCheck className=\"h-3 w-3 text-green-600\" />\n                    </AvatarFallback>\n                  </Avatar>\n                  <p className=\"text-sm font-medium\">{permission.permission.displayName}</p>\n                </div>\n                <Badge variant={permission.effect === 'allow' ? 'default' : 'destructive'}>\n                  {permission.effect}\n                </Badge>\n              </div>\n            ))}\n            {directPermissions.length > 3 && (\n              <p className=\"text-xs text-muted-foreground text-center pt-2\">\n                +{directPermissions.length - 3} more permissions\n              </p>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default UserRoleAssignment;","import React, { useState, useEffect } from 'react';\nimport { \n  useGetUserRolePermissions, \n  useAssignUserRoles, \n  useAssignUserPermissions,\n  useSearchRoles,\n  useSearchPermissions\n} from '../../../hooks/useRbac';\nimport { \n  AssignUserRoleInput, \n  AssignUserPermissionInput,\n  Role,\n  Permission\n} from '../../../types/rbac.types';\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { RadioGroup, RadioGroupItem } from '@/components/ui/radio-group';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\nimport { Shield, Key, CheckCircle2, Calendar, User } from 'lucide-react';\n\ninterface UserRolePermissionModalProps {\n  isOpen: boolean;\n  user: any;\n  onClose: () => void;\n}\n\nconst UserRolePermissionModal: React.FC<UserRolePermissionModalProps> = ({\n  isOpen,\n  user,\n  onClose,\n}) => {\n  const [roleAssignments, setRoleAssignments] = useState<Array<{\n    roleId: string;\n    effect: 'allow' | 'deny' | null;\n  }>>([]);\n  const [permissionAssignments, setPermissionAssignments] = useState<Array<{\n    permissionId: string;\n    effect: 'allow' | 'deny' | null;\n  }>>([]);\n\n  const { toast } = useToast();\n  const { data: userRolePermissions, loading: userLoading, refetch: refetchUser } = useGetUserRolePermissions(user?.id);\n  const { data: rolesData } = useSearchRoles({ page: 0, size: 100, isActive: true });\n  // Note: Backend has a max limit of 100 items per request\n  const { data: permissionsData } = useSearchPermissions({ page: 0, size: 100, isActive: true });\n  \n  const [assignUserRoles, { loading: assigningRoles }] = useAssignUserRoles();\n  const [assignUserPermissions, { loading: assigningPermissions }] = useAssignUserPermissions();\n\n  const roles = rolesData?.searchRoles?.roles || [];\n  const permissions = permissionsData?.searchPermissions?.permissions || [];\n\n  useEffect(() => {\n    if (userRolePermissions && roles.length > 0) {\n      const currentRoles = userRolePermissions.getUserRolePermissions?.roleAssignments || [];\n      const newRoleAssignments = roles.map((role: Role) => {\n        const existing = currentRoles.find((ra: any) => ra.role.id === role.id);\n        return {\n          roleId: role.id,\n          effect: existing ? existing.effect : null,\n        };\n      });\n      setRoleAssignments(newRoleAssignments);\n    }\n  }, [userRolePermissions, roles]);\n\n  useEffect(() => {\n    if (userRolePermissions && permissions.length > 0) {\n      const currentPermissions = userRolePermissions.getUserRolePermissions?.directPermissions || [];\n      const newPermissionAssignments = permissions.map((permission: Permission) => {\n        const existing = currentPermissions.find((dp: any) => dp.permission.id === permission.id);\n        return {\n          permissionId: permission.id,\n          effect: existing ? existing.effect : null,\n        };\n      });\n      setPermissionAssignments(newPermissionAssignments);\n    }\n  }, [userRolePermissions, permissions]);\n\n  const handleRoleChange = (roleId: string, effect: 'allow' | 'deny' | null) => {\n    setRoleAssignments(prev => \n      prev.map(ra => \n        ra.roleId === roleId \n          ? { ...ra, effect }\n          : ra\n      )\n    );\n  };\n\n  const handlePermissionChange = (permissionId: string, effect: 'allow' | 'deny' | null) => {\n    setPermissionAssignments(prev => \n      prev.map(pa => \n        pa.permissionId === permissionId \n          ? { ...pa, effect }\n          : pa\n      )\n    );\n  };\n\n  const handleSaveRoles = async () => {\n    const activeAssignments = roleAssignments\n      .filter(ra => ra.effect !== null)\n      .map(ra => ({\n        roleId: ra.roleId,\n        effect: ra.effect!,\n      }));\n\n    const input: AssignUserRoleInput = {\n      userId: user.id,\n      assignments: activeAssignments,\n    };\n\n    try {\n      await assignUserRoles({ variables: { input } });\n      toast({\n        title: 'Roles updated',\n        description: `Role assignments for ${user.displayName || user.username} have been updated successfully.`,\n        type: 'success',\n      });\n      refetchUser();\n    } catch (error: any) {\n      toast({\n        title: 'Update failed',\n        description: error.message || 'Failed to update role assignments',\n        type: 'error',\n      });\n    }\n  };\n\n  const handleSavePermissions = async () => {\n    const activeAssignments = permissionAssignments\n      .filter(pa => pa.effect !== null)\n      .map(pa => ({\n        permissionId: pa.permissionId,\n        effect: pa.effect!,\n      }));\n\n    const input: AssignUserPermissionInput = {\n      userId: user.id,\n      assignments: activeAssignments,\n    };\n\n    try {\n      await assignUserPermissions({ variables: { input } });\n      toast({\n        title: 'Permissions updated',\n        description: `Permission assignments for ${user.displayName || user.username} have been updated successfully.`,\n        type: 'success',\n      });\n      refetchUser();\n    } catch (error: any) {\n      toast({\n        title: 'Update failed',\n        description: error.message || 'Failed to update permission assignments',\n        type: 'error',\n      });\n    }\n  };\n\n  const summary = userRolePermissions?.getUserRolePermissions?.summary;\n  const effectivePermissions = userRolePermissions?.getUserRolePermissions?.effectivePermissions || [];\n\n  const roleActiveCount = roleAssignments.filter(ra => ra.effect !== null).length;\n  const permissionActiveCount = permissionAssignments.filter(pa => pa.effect !== null).length;\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-6xl max-h-[90vh] p-0\">\n        <DialogHeader className=\"p-6 pb-0\">\n          <div className=\"flex items-center gap-4 mb-4\">\n            <Avatar className=\"h-12 w-12\">\n              <AvatarImage src={user?.avatar} alt={user?.displayName || user?.username} />\n              <AvatarFallback>\n                <User className=\"h-6 w-6\" />\n              </AvatarFallback>\n            </Avatar>\n            <div>\n              <DialogTitle>{user?.displayName || user?.username}</DialogTitle>\n              <DialogDescription>{user?.email}</DialogDescription>\n            </div>\n          </div>\n\n          {/* Summary Stats */}\n          <div className=\"grid grid-cols-4 gap-4 mt-4\">\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardDescription className=\"flex items-center gap-2\">\n                  <Shield className=\"h-4 w-4\" />\n                  Roles\n                </CardDescription>\n                <CardTitle className=\"text-2xl text-primary\">\n                  {summary?.totalRoleAssignments || 0}\n                </CardTitle>\n              </CardHeader>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardDescription className=\"flex items-center gap-2\">\n                  <Key className=\"h-4 w-4\" />\n                  Direct Permissions\n                </CardDescription>\n                <CardTitle className=\"text-2xl text-green-600\">\n                  {summary?.totalDirectPermissions || 0}\n                </CardTitle>\n              </CardHeader>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardDescription className=\"flex items-center gap-2\">\n                  <CheckCircle2 className=\"h-4 w-4\" />\n                  Total Permissions\n                </CardDescription>\n                <CardTitle className=\"text-2xl text-purple-600\">\n                  {summary?.totalEffectivePermissions || 0}\n                </CardTitle>\n              </CardHeader>\n            </Card>\n\n            <Card>\n              <CardHeader className=\"pb-2\">\n                <CardDescription className=\"flex items-center gap-2\">\n                  <Calendar className=\"h-4 w-4\" />\n                  Last Updated\n                </CardDescription>\n                <CardTitle className=\"text-sm\">\n                  {summary?.lastUpdated ? new Date(summary.lastUpdated).toLocaleDateString() : 'Never'}\n                </CardTitle>\n              </CardHeader>\n            </Card>\n          </div>\n        </DialogHeader>\n\n        <Tabs defaultValue=\"roles\" className=\"px-6\">\n          <TabsList className=\"grid w-full grid-cols-3\">\n            <TabsTrigger value=\"roles\">\n              Role Assignments\n              {roleActiveCount > 0 && (\n                <Badge variant=\"secondary\" className=\"ml-2\">\n                  {roleActiveCount}\n                </Badge>\n              )}\n            </TabsTrigger>\n            <TabsTrigger value=\"permissions\">\n              Permission Assignments\n              {permissionActiveCount > 0 && (\n                <Badge variant=\"secondary\" className=\"ml-2\">\n                  {permissionActiveCount}\n                </Badge>\n              )}\n            </TabsTrigger>\n            <TabsTrigger value=\"effective\">\n              Effective Permissions\n              <Badge variant=\"secondary\" className=\"ml-2\">\n                {effectivePermissions.length}\n              </Badge>\n            </TabsTrigger>\n          </TabsList>\n\n          {/* Roles Tab */}\n          <TabsContent value=\"roles\" className=\"space-y-4\">\n            <ScrollArea className=\"h-[400px] border rounded-lg\">\n              <div className=\"divide-y\">\n                {roles.map((role: Role) => {\n                  const assignment = roleAssignments.find(ra => ra.roleId === role.id);\n                  return (\n                    <div key={role.id} className=\"p-4 hover:bg-muted/50 transition-colors\">\n                      <div className=\"flex items-start justify-between gap-4\">\n                        <div className=\"flex-1 space-y-1\">\n                          <div className=\"flex items-center gap-2\">\n                            <Shield className=\"h-4 w-4 text-primary\" />\n                            <span className=\"font-medium\">{role.displayName}</span>\n                            {role.isSystemRole && (\n                              <Badge variant=\"secondary\" className=\"text-xs\">System</Badge>\n                            )}\n                          </div>\n                          <div className=\"text-sm text-muted-foreground\">{role.name}</div>\n                          {role.description && (\n                            <div className=\"text-sm text-muted-foreground\">{role.description}</div>\n                          )}\n                        </div>\n\n                        <RadioGroup\n                          value={assignment?.effect || 'none'}\n                          onValueChange={(value) => handleRoleChange(\n                            role.id,\n                            value === 'none' ? null : value as 'allow' | 'deny'\n                          )}\n                          className=\"flex gap-4\"\n                        >\n                          <div className=\"flex items-center space-x-2\">\n                            <RadioGroupItem value=\"none\" id={`role-${role.id}-none`} />\n                            <Label htmlFor={`role-${role.id}-none`} className=\"font-normal cursor-pointer\">\n                              None\n                            </Label>\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <RadioGroupItem value=\"allow\" id={`role-${role.id}-allow`} />\n                            <Label \n                              htmlFor={`role-${role.id}-allow`} \n                              className=\"font-normal cursor-pointer text-green-600\"\n                            >\n                              Assign\n                            </Label>\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <RadioGroupItem value=\"deny\" id={`role-${role.id}-deny`} />\n                            <Label \n                              htmlFor={`role-${role.id}-deny`} \n                              className=\"font-normal cursor-pointer text-destructive\"\n                            >\n                              Deny\n                            </Label>\n                          </div>\n                        </RadioGroup>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </ScrollArea>\n\n            <div className=\"flex justify-end pt-4 pb-6\">\n              <Button onClick={handleSaveRoles} disabled={assigningRoles}>\n                {assigningRoles ? 'Saving...' : 'Save Role Assignments'}\n              </Button>\n            </div>\n          </TabsContent>\n\n          {/* Permissions Tab */}\n          <TabsContent value=\"permissions\" className=\"space-y-4\">\n            <ScrollArea className=\"h-[400px] border rounded-lg\">\n              <div className=\"divide-y\">\n                {permissions.map((permission: Permission) => {\n                  const assignment = permissionAssignments.find(pa => pa.permissionId === permission.id);\n                  return (\n                    <div key={permission.id} className=\"p-4 hover:bg-muted/50 transition-colors\">\n                      <div className=\"flex items-start justify-between gap-4\">\n                        <div className=\"flex-1 space-y-1\">\n                          <div className=\"flex items-center gap-2\">\n                            <Key className=\"h-4 w-4 text-green-600\" />\n                            <span className=\"font-medium\">{permission.displayName}</span>\n                          </div>\n                          {permission.description && (\n                            <div className=\"text-sm text-muted-foreground\">{permission.description}</div>\n                          )}\n                          <div className=\"flex items-center gap-2 text-sm\">\n                            <code className=\"px-2 py-0.5 rounded bg-muted text-xs\">\n                              {permission.resource}:{permission.action}\n                              {permission.scope && `:${permission.scope}`}\n                            </code>\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              {permission.category}\n                            </Badge>\n                          </div>\n                        </div>\n\n                        <RadioGroup\n                          value={assignment?.effect || 'none'}\n                          onValueChange={(value) => handlePermissionChange(\n                            permission.id,\n                            value === 'none' ? null : value as 'allow' | 'deny'\n                          )}\n                          className=\"flex gap-4\"\n                        >\n                          <div className=\"flex items-center space-x-2\">\n                            <RadioGroupItem value=\"none\" id={`perm-${permission.id}-none`} />\n                            <Label htmlFor={`perm-${permission.id}-none`} className=\"font-normal cursor-pointer\">\n                              None\n                            </Label>\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <RadioGroupItem value=\"allow\" id={`perm-${permission.id}-allow`} />\n                            <Label \n                              htmlFor={`perm-${permission.id}-allow`} \n                              className=\"font-normal cursor-pointer text-green-600\"\n                            >\n                              Allow\n                            </Label>\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <RadioGroupItem value=\"deny\" id={`perm-${permission.id}-deny`} />\n                            <Label \n                              htmlFor={`perm-${permission.id}-deny`} \n                              className=\"font-normal cursor-pointer text-destructive\"\n                            >\n                              Deny\n                            </Label>\n                          </div>\n                        </RadioGroup>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </ScrollArea>\n\n            <div className=\"flex justify-end pt-4 pb-6\">\n              <Button onClick={handleSavePermissions} disabled={assigningPermissions}>\n                {assigningPermissions ? 'Saving...' : 'Save Permission Assignments'}\n              </Button>\n            </div>\n          </TabsContent>\n\n          {/* Effective Permissions Tab */}\n          <TabsContent value=\"effective\" className=\"space-y-4\">\n            <ScrollArea className=\"h-[450px] border rounded-lg\">\n              <div className=\"divide-y\">\n                {effectivePermissions.map((ep: any) => (\n                  <div key={ep.permission.id} className=\"p-4\">\n                    <div className=\"flex items-start justify-between gap-4\">\n                      <div className=\"flex-1 space-y-1\">\n                        <div className=\"font-medium\">{ep.permission.displayName}</div>\n                        <div className=\"text-sm text-muted-foreground\">\n                          {ep.permission.resource}:{ep.permission.action}\n                          {ep.permission.scope && `:${ep.permission.scope}`}\n                        </div>\n                        <div className=\"flex items-center gap-2 mt-2\">\n                          <Badge variant={ep.effect === 'allow' ? 'default' : 'destructive'}>\n                            {ep.effect}\n                          </Badge>\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            {ep.source}\n                          </Badge>\n                          {ep.fromRole && (\n                            <span className=\"text-xs text-muted-foreground\">\n                              via role: {ep.fromRole.displayName}\n                            </span>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n\n                {effectivePermissions.length === 0 && (\n                  <div className=\"text-center py-12 text-muted-foreground\">\n                    No effective permissions found for this user.\n                  </div>\n                )}\n              </div>\n            </ScrollArea>\n          </TabsContent>\n        </Tabs>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default UserRolePermissionModal;\n"],"names":[],"mappings":"0DASA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCDA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAOO,SAAS,EAAqB,WAAE,CAAS,aAAE,CAAW,CAA6B,EACxF,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6CAAoC,6BAClD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,qEAO9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,MAAO,EAAW,cAAe,AAAC,GAAU,EAAY,YAC5D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,6CAClB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,QAAQ,UAAU,kBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAY,qBAG/B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,OAAO,UAAU,kBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAY,+BAO1C,CC9CA,IAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,QCAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAM4B,EAAA,GAAG,CAAC;;;;;;;;;;;;EAY9B,EAAE,EAAA,aAAa,CAAC;AAClB,CAAC,CAEM,IAAM,EAAiB,EAAA,GAAG,CAAC;;;;;;;;;;;;AAYlC,CAAC,CAE6B,EAAA,GAAG,CAAC;;;;;;EAMhC,EAAE,EAAA,aAAa,CAAC;AAClB,CAAC,CAEM,IAAM,EAAgB,EAAA,GAAG,CAAC;;;;;;EAM/B,EAAE,EAAA,aAAa,CAAC;AAClB,CAAC,CAGY,EAAoB,EAAA,GAAG,CAAC;;;;;;EAMnC,EAAE,EAAA,aAAa,CAAC;AAClB,CAAC,CAEY,EAAmB,EAAA,GAAG,CAAC;;;;;;;;;AASpC,CAAC,CAEY,EAAoB,EAAA,GAAG,CAAC;;;;;;EAMnC,EAAE,EAAA,aAAa,CAAC;AAClB,CAAC,CAE0B,EAAA,GAAG,CAAC;;;;AAI/B,CAAC,CAG0B,EAAA,GAAG,CAAC;;;;;;EAM7B,EAAE,EAAA,aAAa,CAAC;AAClB,CAAC,CC9FD,IAAA,EAAA,EAAA,CAAA,CAAA,QFqFO,SAAS,EAAe,EAAyB,CAAC,CAAC,CAAE,CAA4B,ME7BtF,IA6OA,CA7OoB,CA8OpB,EF/MA,CE8MiB,GF9MX,CE+MuB,CF/MN,CAAA,EAAA,EAAA,OAAO,AAAP,EAAQ,KAC7B,IAAM,EAAa,CAAC,EAoCpB,OAjCI,EAAM,MAAM,EAAI,EAAM,MAAM,CAAC,IAAI,IAAI,CACvC,EAAM,EAAE,CAAG,CACT,CAAE,MAAO,CAAE,SAAU,EAAM,MAAM,CAAE,KAAM,aAAc,CAAE,EACzD,CAAE,SAAU,CAAE,SAAU,EAAM,MAAM,CAAE,KAAM,aAAc,CAAE,EAC5D,CAAE,UAAW,CAAE,SAAU,EAAM,MAAM,CAAE,KAAM,aAAc,CAAE,EAC7D,CAAE,SAAU,CAAE,SAAU,EAAM,MAAM,CAAE,KAAM,aAAc,CAAE,EAC7D,EAIC,EAAM,QAAQ,EAAE,CAClB,EAAM,QAAQ,CAAG,CAAE,OAAQ,EAAM,QAAQ,CAAC,OAIrB,IAAnB,EAAM,KAAwB,GAAhB,GAChB,EAAM,QAAQ,CAAG,CAAE,OAAQ,EAAM,QAAQ,CAAC,OAInB,IAArB,EAAM,KAA0B,KAAhB,GAClB,EAAM,UAAU,CAAG,CAAE,OAAQ,EAAM,UAAU,CAAC,EAI5C,EAAM,YAAY,EAAE,CACtB,EAAM,SAAS,CAAG,CAAE,GAAI,EAAM,SAAS,EAAI,CAAC,CAAC,CAAG,IAAK,EAAM,YAAY,CAAC,EAGtE,EAAM,aAAa,EAAE,CACvB,EAAM,SAAS,CAAG,CAAE,GAAI,EAAM,SAAS,EAAI,CAAC,CAAC,CAAG,IAAK,EAAM,aAAa,CAAC,EAGpE,CACT,EAAG,CAAC,EAAM,MAAM,CAAE,EAAM,QAAQ,CAAE,EAAM,QAAQ,CAAE,EAAM,UAAU,CAAE,EAAM,YAAY,CAAE,EAAM,aAAa,CAAC,EAGtG,EAAU,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAGf,CAAE,CAFM,AAEL,EAFW,MAAM,EAAI,YAEd,CADC,CACC,CADK,SAAS,EAAI,OACR,EAC5B,CAAC,EAAM,MAAM,CAAE,EAAM,SAAS,CAAC,EAG5B,EAAO,EAAM,IAAI,EAAI,EACrB,EAAO,EAAM,IAAI,EAAI,GAGrB,CAAE,KAAM,CAAS,CAAE,QAAS,CAAY,CAAE,MAAO,CAAU,CAAE,QAAS,CAAY,CAAE,GAAG,CAAmB,CAC9G,MAAO,OACP,MAAO,UACP,EACA,WAAY,MACV,EACA,MAAO,EACP,OAAQ,EAAM,MAAM,EAAI,YACxB,UAAW,EAAM,SAAS,EAAI,MAChC,EACA,OAAQ,CACN,IAAI,EACJ,OAAO,EACP,UAAU,EACV,WAAW,EACX,UAAU,EACV,OAAO,EACP,OAAQ,GACR,UAAU,EACV,SAAU,GACV,WAAY,GACZ,oBAAoB,EACpB,qBAAqB,EACrB,aAAa,EACb,aAAa,EACb,WAAW,EACX,WAAW,CACb,CACF,EE9GA,EF8GG,CACD,IE/G2B,QF+Gd,oBACb,KAAM,GAAS,IACjB,EE/GO,CAAA,EAAA,EAAA,QAAA,AAAQ,EACb,EAAA,iBAAiB,CACjB,CACE,UAAW,OAAE,CAAM,EACnB,GAAG,CAAO,AACZ,IF6GI,CAAE,KAAM,CAAS,CAAE,QAAS,CAAY,CAAE,MAAO,CAAU,CAAE,GAAG,CAAgB,CACpF,MAAO,OACP,MAAO,CACT,IAAG,CACD,YAAa,oBACb,KAAM,GAAS,IACjB,EEqHO,CAAA,EAAA,EAAA,QAAA,AAAQ,EACb,EAAA,aAAa,CACb,CACE,UAAW,OAAE,CAAM,EACnB,GAAG,CAAO,AACZ,IFvHI,EAAQ,GAAW,iBAAiB,MAAQ,EAAE,CAC9C,EAAQ,GAAW,cAAc,MAAQ,EACzC,EAAa,KAAK,IAAI,CAAC,EAAQ,GAgBrC,MAAO,CACL,KAAM,CACJ,YAAa,OACX,EACA,QACA,YACA,aACA,CACF,CACF,QACA,QACA,OACA,OACA,EACA,aACA,QA9Bc,GAAgB,EA+B9B,MA9BY,GAAc,EA+B1B,QA5Bc,MAAO,IACjB,GAEF,OAFY,CAEJ,IAAI,CAAC,2GAEf,MAAM,QAAQ,GAAG,CAAC,CAChB,IAED,CACH,CAoBA,CACF,CGhNA,IAAA,EAAA,EAAA,CAAA,CAAA,QCXA,EAAA,EAAA,CAAA,CAAA,QAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QA2BA,IAAM,EAA8B,CAClC,SAAU,GACV,MAAO,GACP,UAAW,GACX,SAAU,GACV,MAAO,GACP,SAAU,GACV,SAAU,OACV,SAAU,GACV,YAAY,CACd,EAEO,SAAS,EAAgB,QAAE,CAAM,SAAE,CAAO,WAAE,CAAS,CAAwB,EAClF,MAAM,CAAC,EAAiB,SAAE,CAAO,CAAE,CAAC,EJqN9B,CIrNiC,CJqNxB,CAAA,EAAA,EAAA,eAAA,AAAe,IAEvB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAmB,CACpC,YAAa,KAGX,EAAO,cAAc,CAAC,CACpB,QAAS,CAAC,EAAe,EAAe,AAC1C,EACF,EACA,YAAa,KACf,II/NM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,GAC7C,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAa,CAAC,GAC5C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAwB,MAG9D,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,IACF,EAAY,EADF,CAEV,EAAU,CAAC,GACX,EAAe,MAEnB,EAAG,CAAC,EAAO,EAGX,IAAM,EAAe,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC/B,IAAM,EAAwB,CAAC,EA+B/B,OA5BK,EAAS,QAAQ,CAAC,IAAI,GAEhB,CAFoB,CAEX,QAAQ,CAAC,MAAM,CAAG,EACpC,CADuC,CAC7B,QAAQ,CAAG,yCACZ,AAAC,mBAAmB,IAAI,CAAC,EAAS,QAAQ,GAAG,CACtD,EAAU,QAAQ,CAAG,sEAAA,EAJrB,EAAU,QAAQ,CAAG,uBAQnB,EAAS,KAAK,EAAI,CAAC,6BAA6B,IAAI,CAAC,EAAS,KAAK,GAAG,CACxE,EAAU,KAAK,CAAG,oCAAA,EAIf,EAAS,QAAQ,CAEX,CAFa,CAEJ,QAAQ,CAAC,MAAM,CAAG,EACpC,CADuC,CAC7B,QAAQ,CAAG,yCACZ,AAAC,iCAAiC,IAAI,CAAC,EAAS,QAAQ,GAAG,CACpE,EAAU,QAAQ,CAAG,wDAAA,EAJrB,EAAU,QAAQ,CAAG,uBAQnB,EAAS,KAAK,EAAI,CAAC,gBAAgB,IAAI,CAAC,EAAS,KAAK,GAAG,CAC3D,EAAU,KAAK,CAAG,mCAAA,EAGpB,EAAU,GAC+B,IAAlC,OAAO,IAAI,CAAC,GAAW,MAAM,AACtC,EAAG,CAAC,EAAS,EAEP,EAAe,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,MAAO,IAItC,GAHA,CAGI,CAHF,cAAc,GAChB,EAAe,MAEV,IAIL,GAAI,CACF,IAAM,EAAS,EALI,IAKE,EAAgB,CACnC,UAAW,CACT,MAAO,CACL,SAAU,EAAS,QAAQ,CAAC,IAAI,GAChC,MAAO,EAAS,KAAK,CAAC,IAAI,SAAM,EAChC,SAAU,EAAS,QAAQ,CAC3B,UAAW,EAAS,SAAS,CAAC,IAAI,SAAM,EACxC,SAAU,EAAS,QAAQ,CAAC,IAAI,SAAM,EACtC,MAAO,EAAS,KAAK,CAAC,IAAI,SAAM,EAChC,SAAU,EAAS,QAAQ,CAC3B,SAAU,EAAS,QAAQ,CAC3B,WAAY,EAAS,UAAU,AACjC,CACF,CACF,GAEI,EAAO,IAAI,EAAE,iBAAiB,CAChC,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CACJ,MAAO,4BACP,YAAa,CAAC,MAAM,EAAE,EAAO,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAC/E,KAAM,SACR,GAEA,IACA,IAEJ,CAAE,MAAO,EAAU,CACjB,IAAM,EAAe,EAAI,aAAa,EAAE,CAAC,EAAE,EAAE,SAAW,EAAI,OAAO,EAAI,wBACvE,EAAe,GAEf,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CACJ,MAAO,wBACP,YAAa,EACb,KAAM,QACN,QAAS,aACX,EACF,CACF,EAAG,CAAC,EAAU,EAAc,EAAiB,EAAW,EAAQ,EAE1D,EAAoB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAAC,EAAuB,KAC5D,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,CAAC,EAAM,CAAE,EAAM,CAAC,EAE5C,CAAM,CAAC,EAA0B,EAAE,AACrC,EAAU,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,CAAC,EAAM,MAAE,EAAU,CAAC,CAEtD,EAAG,CAAC,EAAO,EAEL,EAAc,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,KAC1B,AAAC,GACH,GAEJ,EAAG,CAAC,AAHY,EAGH,EAAQ,SAErB,AAAK,EAGH,CAAA,CAHE,CAGF,EAAA,CAHW,EAGX,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,0DACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,sBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,YACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,uBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,EACT,SAAU,EACV,UAAU,mBAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,iBAGjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,8DAKnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBAErC,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,UAAE,OAKvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+EAAsE,wBAIpF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,WAAW,UAAU,oBAAW,aAG/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,KAAK,OACL,MAAO,EAAS,QAAQ,CACxB,SAAW,AAAD,GAAO,EAAkB,WAAY,EAAE,MAAM,CAAC,KAAK,EAC7D,YAAY,iBACZ,SAAU,EACV,UAAW,EAAO,QAAQ,CAAG,iBAAmB,GAChD,SAAS,CAAA,CAAA,IAEV,EAAO,QAAQ,EACd,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACtB,EAAO,QAAQ,OAMtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAQ,UACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACH,KAAK,QACL,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAkB,QAAS,EAAE,MAAM,CAAC,KAAK,EAC1D,YAAY,mBACZ,SAAU,EACV,UAAW,EAAO,KAAK,CAAG,iBAAmB,KAE9C,EAAO,KAAK,EACX,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACtB,EAAO,KAAK,UAOrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,WAAW,UAAU,oBAAW,aAG/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,KAAK,WACL,MAAO,EAAS,QAAQ,CACxB,SAAU,AAAC,GAAM,EAAkB,WAAY,EAAE,MAAM,CAAC,KAAK,EAC7D,YAAY,wBACZ,SAAU,EACV,UAAW,EAAO,QAAQ,CAAG,iBAAmB,KAEjD,EAAO,QAAQ,EACd,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACtB,EAAO,QAAQ,IAGpB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,8EAOjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+EAAsE,yBAIpF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAY,eAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,YACH,KAAK,OACL,MAAO,EAAS,SAAS,CACzB,SAAU,AAAC,GAAM,EAAkB,YAAa,EAAE,MAAM,CAAC,KAAK,EAC9D,YAAY,mBACZ,SAAU,OAKd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,oBAAW,cAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,KAAK,OACL,MAAO,EAAS,QAAQ,CACxB,SAAU,AAAC,GAAM,EAAkB,WAAY,EAAE,MAAM,CAAC,KAAK,EAC7D,YAAY,kBACZ,SAAU,UAMhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAQ,iBACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACH,KAAK,MACL,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAkB,QAAS,EAAE,MAAM,CAAC,KAAK,EAC1D,YAAY,oBACZ,SAAU,EACV,UAAW,EAAO,KAAK,CAAG,iBAAmB,KAE9C,EAAO,KAAK,EACX,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACtB,EAAO,KAAK,UAOrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+EAAsE,uBAKpF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,oBAAW,cAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,EAAS,QAAQ,CACxB,cAAe,AAAC,GAAU,EAAkB,WAAY,GACxD,SAAU,YAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,GAAG,oBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,kBAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,iBAAQ,UAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,gBAAO,SACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,iBAAQ,mBAMhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,WAAW,UAAU,0BAAiB,kBACrD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,6CAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,WACH,QAAS,EAAS,QAAQ,CAC1B,gBAAiB,AAAC,GAAY,EAAkB,WAAY,GAC5D,SAAU,OAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,aAAa,UAAU,0BAAiB,oBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,8CAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,aACH,QAAS,EAAS,UAAU,CAC5B,gBAAiB,AAAC,GAAY,EAAkB,aAAc,GAC9D,SAAU,aAOlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,QAAS,EACT,SAAU,EACV,UAAU,kBACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,SAAU,EACV,UAAU,kBAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,8BAA8B,iBAInD,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,iBAAiB,gCA1PnC,IAqQtB,CC9ZA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QCNO,IAAM,EAAuB,EAAA,GAAG,CAAC;;;;;;;;;;;;;;;AAexC,CAAC,CDqBM,SAAS,EAAc,MAAE,CAAI,QAAE,CAAM,SAAE,CAAO,WAAE,CAAS,CAAsB,EACpF,MAAM,CAAC,EAAiB,SAAE,CAAO,CAAE,CAAC,EL+M9B,CK/MiC,CL+MxB,CAAA,EAAA,EAAA,eAAA,AAAe,IAEvB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,EAAmB,CACpC,YAAa,KAGX,EAAO,cAAc,CAAC,CACpB,QAAS,CAAC,EAAe,EAAe,AAC1C,EACF,EACA,YAAa,KACf,IKzNM,CAAC,EAAoB,CAAE,QAAS,CAAiB,CAAE,CAAC,CAAG,CAAA,EAAA,EAAA,WAAA,AAAW,EACtE,GAGI,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAmB,CACjD,SAAU,GACV,MAAO,GACP,UAAW,GACX,SAAU,GACV,MAAO,GACP,SAAU,OACV,UAAU,EACV,YAAY,EACZ,oBAAoB,CACtB,GACM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAa,CAAC,GAC5C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACxD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAGvC,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACvD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAiB,IACjD,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAGrC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,GAAQ,IAYV,EAX8B,CAC5B,CAFgB,QAYN,AAVA,EAAK,QAAQ,EAAI,GAC3B,MAAO,EAAK,KAAK,EAAI,GACrB,UAAW,EAAK,SAAS,EAAI,GAC7B,SAAU,EAAK,QAAQ,EAAI,GAC3B,MAAO,EAAK,KAAK,EAAI,GACrB,SAAU,EAAK,QAAQ,EAAI,OAC3B,SAAU,EAAK,QAAQ,GAAI,EAC3B,WAAY,EAAK,UAAU,EAAI,GAC/B,mBAAoB,EAAK,kBAAkB,GAAI,CACjD,GAEA,EAAU,CAAC,GACX,EAAe,MACf,GAAc,GAElB,EAAG,CAAC,EAAM,EAAO,EAGjB,IAAM,EAAe,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC/B,IAAM,EAAwB,CAAC,EAsB/B,OAnBK,EAAS,QAAQ,CAAC,IAAI,GAEhB,CAFoB,CAEX,QAAQ,CAAC,MAAM,CAAG,EACpC,CADuC,CAC7B,QAAQ,CAAG,yCACZ,AAAC,mBAAmB,IAAI,CAAC,EAAS,QAAQ,GAAG,CACtD,EAAU,QAAQ,CAAG,sEAAA,EAJrB,EAAU,QAAQ,CAAG,uBAQnB,EAAS,KAAK,EAAI,CAAC,6BAA6B,IAAI,CAAC,EAAS,KAAK,GAAG,CACxE,EAAU,KAAK,CAAG,oCAAA,EAIhB,EAAS,KAAK,EAAI,CAAC,gBAAgB,IAAI,CAAC,EAAS,KAAK,GAAG,CAC3D,EAAU,KAAK,CAAG,mCAAA,EAGpB,EAAU,GAC+B,IAAlC,OAAO,IAAI,CAAC,GAAW,MAAM,AACtC,EAAG,CAAC,EAAS,EAEP,EAAe,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,MAAO,IAEtC,IADA,AACI,EADF,cAAc,GACX,KAEL,CAFW,CAEI,MAEV,KAIL,GAAI,CACF,IAAM,EAAS,CALI,KAKE,EAAgB,CACnC,UAAW,CACT,GAAI,EAAK,EAAE,CACX,MAAO,CACL,SAAU,EAAS,QAAQ,CAAC,IAAI,GAChC,MAAO,EAAS,KAAK,CAAC,IAAI,SAAM,EAChC,UAAW,EAAS,SAAS,CAAC,IAAI,SAAM,EACxC,SAAU,EAAS,QAAQ,CAAC,IAAI,SAAM,EACtC,MAAO,EAAS,KAAK,CAAC,IAAI,SAAM,EAChC,SAAU,EAAS,QAAQ,CAC3B,SAAU,EAAS,QAAQ,CAC3B,WAAY,EAAS,UAAU,CAC/B,mBAAoB,EAAS,kBAC/B,AADiD,CAEnD,CACF,EAEI,GAAO,IAAI,EAAE,iBAAiB,CAChC,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CACJ,MAAO,4BACP,YAAa,CAAC,YAAY,EAAE,EAAO,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CACpF,KAAM,SACR,GAEA,IACA,IAEJ,CAAE,MAAO,EAAU,CACjB,IAAM,EAAe,EAAI,aAAa,EAAE,CAAC,EAAE,EAAE,SAAW,EAAI,OAAO,EAAI,wBACvE,EAAe,GAEf,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CACJ,MAAO,wBACP,YAAa,EACb,KAAM,OACR,EACF,CACF,EAAG,CAAC,EAAM,EAAU,EAAc,EAAiB,EAAW,EAAQ,EAEhE,EAAoB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAAC,EAAuB,KAC5D,EAAY,GAAS,EAAE,EAAH,CAAM,CAAI,CAAE,CAAC,EAAM,CAAE,CAAM,CAAC,GAChD,GAAc,GAGV,CAAM,CAAC,EAA0B,EACnC,AADqC,EAC3B,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,CAAC,EAAM,MAAE,EAAU,CAAC,CAEtD,EAAG,CAAC,EAAO,EAEL,EAAc,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC1B,CAAC,GAAW,CAAC,IACX,IACgB,QAAQ,GAFM,yDAC9B,GAIJ,AAJgB,GAMpB,EAAG,CAAC,EAAS,EAAmB,EAAY,EAAQ,EAG9C,EAAsB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACtC,GAAK,CAAD,EAEc,GAFP,KAGT,CAAC,6CAA0C,EAAE,EAAK,QAAQ,CAAC;AAAA;AAAA,iCAAuC,CAAC,EAKrG,GAAI,CACF,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,EAAmB,CACxC,UAAW,CACT,MAAO,CACL,OAAQ,EAAK,EAAE,AACjB,CACF,CACF,GAEI,GAAM,oBAAoB,SAAS,CACrC,EAAe,EAAK,kBAAkB,CAAC,WAAW,EAClD,GAAsB,GAEtB,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CACJ,MAAO,4BACP,YAAa,CAAC,iCAA8B,EAAE,EAAK,QAAQ,CAAC,CAAC,CAAC,CAC9D,KAAM,SACR,GAEJ,CAAE,MAAO,EAAU,CACjB,IAAM,EAAe,EAAI,aAAa,EAAE,CAAC,EAAE,EAAE,SAAW,EAAI,OAAO,EAAI,2BAEvE,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CACJ,MAAO,0BACP,YAAa,EACb,KAAM,OACR,EACF,CACF,EAAG,CAAC,EAAM,EAAmB,EAGvB,GAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACrC,GAAI,CACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC,GACpC,GAAU,GAEV,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CACJ,MAAO,UACP,YAAa,sCACb,KAAM,SACR,GAEA,WAAW,IAAM,GAAU,GAAQ,IACrC,CAAE,MAAO,EAAK,CACZ,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CACJ,MAAO,MACP,YAAa,0BACb,KAAM,OACR,EACF,CACF,EAAG,CAAC,EAAY,EAGV,GAA4B,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC5C,GAAsB,GACtB,EAAe,IACf,GAAU,EACZ,EAAG,EAAE,SAED,AAAJ,AAAK,GAAW,EAGd,CAAA,EAAA,CAHoB,CAGpB,AAHa,IAGb,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,0DACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,sBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,iBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,EACT,SAAU,GAAW,EACrB,UAAU,mBAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,iBAGjB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,eAAe,CAAA,WAAC,0BACS,EAAK,QAAQ,OAI3C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBAErC,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,qCACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,UAAE,OAKvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+EAAsE,wBAIpF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,WAAW,UAAU,oBAAW,aAG/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,KAAK,OACL,MAAO,EAAS,QAAQ,CACxB,SAAU,AAAC,GAAM,EAAkB,WAAY,EAAE,MAAM,CAAC,KAAK,EAC7D,YAAY,iBACZ,SAAU,EACV,UAAW,EAAO,QAAQ,CAAG,iBAAmB,GAChD,SAAS,CAAA,CAAA,IAEV,EAAO,QAAQ,EACd,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACtB,EAAO,QAAQ,OAMtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAQ,UACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACH,KAAK,QACL,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAkB,QAAS,EAAE,MAAM,CAAC,KAAK,EAC1D,YAAY,mBACZ,SAAU,EACV,UAAW,EAAO,KAAK,CAAG,iBAAmB,KAE9C,EAAO,KAAK,EACX,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACtB,EAAO,KAAK,aAQvB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+EAAsE,yBAIpF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAY,eAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,YACH,KAAK,OACL,MAAO,EAAS,SAAS,CACzB,SAAU,AAAC,GAAM,EAAkB,YAAa,EAAE,MAAM,CAAC,KAAK,EAC9D,YAAY,mBACZ,SAAU,OAKd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,oBAAW,cAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,KAAK,OACL,MAAO,EAAS,QAAQ,CACxB,SAAU,AAAC,GAAM,EAAkB,WAAY,EAAE,MAAM,CAAC,KAAK,EAC7D,YAAY,kBACZ,SAAU,UAMhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAQ,iBACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACH,KAAK,MACL,MAAO,EAAS,KAAK,CACrB,SAAU,AAAC,GAAM,EAAkB,QAAS,EAAE,MAAM,CAAC,KAAK,EAC1D,YAAY,oBACZ,SAAU,EACV,UAAW,EAAO,KAAK,CAAG,iBAAmB,KAE9C,EAAO,KAAK,EACX,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,yDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACtB,EAAO,KAAK,UAOrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+EAAsE,uBAKpF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,oBAAW,cAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,EAAS,QAAQ,CACxB,cAAe,AAAC,GAAU,EAAkB,WAAY,GACxD,SAAU,YAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,GAAG,oBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,kBAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,iBAAQ,UAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,gBAAO,SACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,iBAAQ,mBAMhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,WAAW,UAAU,0BAAiB,kBACrD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,6CAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,WACH,QAAS,EAAS,QAAQ,CAC1B,gBAAiB,AAAC,GAAY,EAAkB,WAAY,GAC5D,SAAU,OAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,aAAa,UAAU,0BAAiB,oBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,8CAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,aACH,QAAS,EAAS,UAAU,CAC5B,gBAAiB,AAAC,GAAY,EAAkB,aAAc,GAC9D,SAAU,OAId,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAqB,UAAU,0BAAiB,8BAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,yCAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,GAAG,qBACH,QAAS,EAAS,kBAAkB,CACpC,gBAAiB,AAAC,GAAY,EAAkB,qBAAsB,GACtE,SAAU,aAOlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+EAAsE,qBAIpF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,yCACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,2BACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,UAAU,mBAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,iCAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,oFAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,KAAK,KACL,QAAS,EACT,SAAU,GAAW,EACrB,UAAU,yGAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,8BAA8B,mBAInD,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,iBAAiB,iCAWpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,QAAS,EACT,SAAU,GAAW,EACrB,UAAU,kBACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,SAAU,GAAW,GAAqB,CAAC,EAC3C,UAAU,kBAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,8BAA8B,eAInD,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,iCAYjD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAoB,aAAc,WAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,wBACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,oCACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,2BAA2B,8BAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,+EAKrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,+BAAsB,iBACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,MAAO,EACP,QAAQ,CAAA,CAAA,EACR,UAAU,4FAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,KAAK,OACL,QAAQ,QACR,QAAS,GACT,UAAU,uEACV,MAAM,yBAEL,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,2BAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,oBAOxB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,uCACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,0BACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,UAAU,8BAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA4B,0BACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,eAAY,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mCAA2B,EAAK,QAAQ,MACtE,EAAK,KAAK,EACT,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,YAAS,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBAAa,EAAK,KAAK,MAEpD,EAAK,SAAS,EAAI,EAAK,QAAQ,EAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WAAE,aAAW,EAAK,SAAS,CAAC,IAAE,EAAK,QAAQ,aAOpD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,yCACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,2BACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,UAAU,mCAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4BAAmB,yBAChC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,mDACZ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,6CACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,uCACJ,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,iEAOZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,QAAS,GACT,UAAU,kBAET,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gCAAgC,cAIxD,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,qBAKvC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAS,GACT,UAAU,kBACX,oBArYoB,IA6Y/B,CEjoBA,IAAA,EAAA,EAAA,CAAA,CAAA,QASO,SAAS,EAAW,OACzB,EAAQ,OAAO,SACf,CAAO,SACP,CAAO,YACP,EAAa,OAAO,CACJ,EAChB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,UACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,kDACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,wCACzB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,mDAA2C,IACzD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8BAAsB,IAClC,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,EAAS,QAAQ,oBAChC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,iBACpB,aAQjB,CC1CA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAEA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAOA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,QAAA,EAAA,EAAA,CAAA,CAAA,yBAAA,GAAA,EAAA,CAAA,CAAA,QAAA,GAAA,EAAA,CAAA,CAAA,QAAA,GAAA,EAAA,CAAA,CAAA,QAAA,GAAA,EAAA,CAAA,CAAA,QAAA,GAAA,EAAA,CAAA,CAAA,QAAA,GAAA,EAAA,CAAA,CAAA,QAeA,GAAA,EAAA,CAAA,CAAA,QCXA,GAAA,EAAA,CAAA,CAAA,QAAA,GAAA,EAAA,CAAA,CAAA,QAAA,GAAA,EAAA,CAAA,CAAA,QAAA,GAAA,EAAA,CAAA,CAAA,QAiBO,SAAS,GAAgB,aAC9B,CAAW,YACX,CAAU,UACV,CAAQ,YACR,CAAU,cACV,CAAY,kBACZ,CAAgB,iBAChB,EAAkB,CAAC,GAAI,GAAI,GAAI,IAAI,CACd,EAGrB,IAAM,EAAU,KAAK,GAAG,CAAC,CAAC,EAAc,CAAC,EAAI,EAAU,GAgDvD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uFAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CAAgC,WACrC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAtDd,CAsD6B,CAtDf,EAAW,IAsDqB,MAAI,IAC5D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAe,IAAe,MAAI,IAClD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAe,IAAkB,cAGlD,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCAAgC,SAChD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,OAAO,GACd,cAAe,AAAC,GAAU,EAAiB,OAAO,cAElD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,oBACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,EAAgB,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAY,MAAO,OAAO,YAClC,GADc,eAW5B,EAAa,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,QAAS,IAAM,EAAa,GAC5B,SAA0B,IAAhB,EACV,MAAM,sBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,YAAY,CAAA,CAAC,UAAU,cAI1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,QAAS,IAAM,EAAa,EAAc,GAC1C,SAA0B,IAAhB,EACV,MAAM,yBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,UAAU,cAIzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCAvGA,AAwGZ,MAvGT,IAAM,EAA6B,EAAE,CAGrC,GAAI,GAFe,EAIjB,IAAK,IAAI,CAFO,CAEH,EAAG,EAAI,EAAY,IAAK,AACnC,CAH0B,CAGpB,IAAI,CAAC,OAER,CAEL,EAAM,IAAI,CAAC,GAGX,IAAI,EAAY,KAAK,GAAG,CAAC,EAAG,EAAc,GACtC,EAAU,KAAK,GAAG,CAAC,EAAa,EAAG,EAAc,GAEjD,GAAe,EACjB,CADoB,CACV,EACD,GAAe,EAAa,GAAG,AACxC,GAAY,GAAa,EAIvB,EAAY,GAAG,AACjB,EAAM,IAAI,CAAC,OAIb,IAAK,IAAI,EAAI,EAAW,GAAK,EAAS,IAAK,AACzC,EAAM,IAAI,CAAC,GAIT,EAAU,EAAa,GAAG,AAC5B,EAAM,IAAI,CAAC,OAIb,EAAM,IAAI,CAAC,EAAa,EAC1B,CAEA,OAAO,EACT,IA6D4B,GAAG,CAAC,CAAC,EAAS,IAC9B,AAAgB,OAAO,CAAnB,EAEA,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAEC,UAAU,sCACX,OAFM,CAAC,SAAS,EAAE,EAAA,CAAO,EAU5B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAEL,QAAS,IAAS,EAAc,UAAY,UAC5C,KAAK,OACL,QAAS,IAAM,EANN,GAOT,QAD4B,EAClB,mBAET,EAAO,IANH,KAab,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,QAAS,IAAM,EAAa,EAAc,GAC1C,SAAU,GAAe,EAAa,EACtC,MAAM,qBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,YAAY,CAAA,CAAC,UAAU,cAI1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,OACL,QAAS,IAAM,EAAa,EAAa,GACzC,SAAU,GAAe,EAAa,EACtC,MAAM,qBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,aAAa,CAAA,CAAC,UAAU,mBAMrC,CCpMA,IAAA,GAAA,EAAA,CAAA,CAAA,QACA,GAAA,EAAA,CAAA,CAAA,QAaO,SAAS,GAAkB,MAAE,EAAO,CAAC,CAA0B,EACpE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,KAAK,CAAA,WACJ,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAC,UAAU,oBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,cAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,eAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,eAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,eAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,eAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,eAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAC,UAAU,qBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,oBAI1B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACP,MAAM,IAAI,CAAC,CAAE,OAAQ,CAAK,GAAG,GAAG,CAAC,CAAC,EAAG,IACpC,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,cAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,2BACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,aACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,qBAI1B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,eAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,aACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,kBAGxB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,4BAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,eAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,gBA7BT,UAqC3B,CFdO,SAAS,GAAU,MACxB,CAAI,SACJ,CAAO,CACP,eAAa,cACb,CAAY,aACZ,CAAW,QACX,CAAM,cACN,CAAY,cACZ,CAAY,YACZ,CAAU,gBACV,CAAc,kBACd,CAAgB,cAChB,CAAY,QACZ,CAAM,WACN,CAAS,CACM,EACf,IAAM,EAAQ,GAAM,OAAS,EAAE,CAGzB,EAAiB,AAAC,GACtB,AAAI,EAAK,SAAS,EAAI,EAAK,QAAQ,CAC1B,CAD4B,AAC5B,EAAG,EAAK,SAAS,CAAC,CAAC,EAAE,EAAK,QAAQ,CAAA,CAAE,CAEtC,EAAK,QAAQ,CAwBhB,EAA6B,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,CAC/C,CACE,MAAO,WACP,WAAY,OACZ,MAAO,IACP,OAAQ,OACR,UAAU,EACV,YAAY,EACZ,aAAc,CAAC,CAAE,MAAI,CAAE,GACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,oBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,IAAK,EAAK,MAAM,CAAE,IAAK,EAAe,KACnD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,mBAhC9B,AAAJ,CAiCW,CAjCF,SAAS,EAAI,AAiCC,EAjCI,QAAQ,CAC1B,CAD4B,AAC5B,EAAG,EAAK,SAAS,CAAC,EAAE,CAAA,EAAG,EAAK,QAAQ,CAAC,EAAE,CAAA,CAAE,CAAC,WAAW,GAEvD,EAAK,QAAQ,CAAC,KAAK,CAAC,EAAG,GAAG,WAAW,QAiCtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAe,KAElB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kCAAwB,IAAE,EAAK,QAAQ,SAI9D,EACA,CACE,MAAO,QACP,WAAY,UACZ,MAAO,IACP,UAAU,EACV,YAAY,EACZ,aAAc,CAAC,MAAE,CAAI,CAAE,GACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAK,KAAK,EACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,0BAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAY,EAAK,KAAK,MAGzC,EAAK,KAAK,EACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CAAC,UAAU,0BAChB,EAAK,KAAK,MAKrB,EACA,CACE,MAAO,WACP,WAAY,OACZ,MAAO,IACP,KAAM,SACN,UAAU,EACV,YAAY,EACZ,cAAe,CAAC,QAAS,OAAQ,QAAQ,CACzC,aAAc,CAAC,OAAE,CAAK,CAAE,GACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,CAvEO,AAAD,IAC1B,OAAQ,EAAK,WAAW,IACtB,IAAK,QACH,MAAO,aACT,KAAK,OACH,MAAO,SACT,KAAK,IACH,MAAO,WAGX,EACF,EA4D0C,YACjC,GAGP,EACA,CACE,MAAO,WACP,WAAY,SACZ,MAAO,IACP,KAAM,UACN,SAAU,GACV,YAAY,EACZ,aAAc,CAAC,MAAE,CAAI,CAAE,IACrB,IAAM,EAAW,EAAK,WAAW,EAAI,IAAI,KAAK,EAAK,WAAW,EAAI,IAAI,KAEtE,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,AAAC,EAAK,QAAQ,CAKX,EACF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,0CACnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,iBAAiB,YAI1C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,wCACnC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,UAAU,iBAAiB,YAX1C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,oCACnC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,OAAO,CAAA,CAAC,UAAU,iBAAiB,cAevC,EAAK,UAAU,EACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,MAAM,oBACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,6BAGrB,EAAK,kBAAkB,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCAAmC,MAAM,kBAIhE,CACF,EACA,CACE,MAAO,YACP,WAAY,SACZ,MAAO,IACP,KAAM,OACN,UAAU,EACV,YAAY,EACZ,aAAc,CAAC,OAAE,CAAK,CAAE,GACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,0BACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBACb,CAAA,EAAA,GAAA,mBAAA,AAAmB,EAAC,IAAI,KAAK,GAAQ,CAAE,WAAW,CAAK,OAIhE,EACA,CACE,MAAO,cACP,WAAY,aACZ,MAAO,IACP,KAAM,OACN,UAAU,EACV,YAAY,EACZ,aAAc,CAAC,OAAE,CAAK,CAAE,GACtB,AAAK,EAIH,CAAA,CAJE,CAIF,EAJU,AAIV,IAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CAAC,UAAU,0BACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBACb,CAAA,EAAA,GAAA,mBAAA,AAAmB,EAAC,IAAI,KAAK,GAAQ,CAAE,UAAW,EAAK,QANrD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,SAWrD,EACA,CACE,MAAO,KACP,WAAY,UACZ,MAAO,IACP,OAAQ,QACR,UAAU,EACV,YAAY,EACZ,aAAc,CAAC,MAAE,CAAI,CAAE,GACrB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,OAAO,CAAA,CAAA,WAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,QAAQ,KAAK,KAAK,UAAU,uBAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,gBAG5B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,mBAAmB,CAAA,CAAC,MAAM,gBACzB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,QAAS,IAAM,EAAW,aAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,eAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,qBAAqB,CAAA,CAAA,GACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CACf,QAAS,IAAM,EAAK,QAAQ,CACxB,GAAoB,EAAiB,GACrC,GAAkB,EAAe,YAGpC,EAAK,QAAQ,CACZ,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CAAC,UAAU,iBAAiB,gBAIpC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,iBAAiB,gBAK5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,qBAAqB,CAAA,CAAA,GACtB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,CACf,UAAU,eACV,QAAS,IAAM,GAAgB,EAAa,aAE5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,iBAAiB,sBAM7C,EACD,CAAE,CAAC,EAAY,EAAgB,EAAkB,EAAa,EAqBzD,EAAuB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAc,IAAI,IAAI,IAGzD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,EAAqB,OAAO,CAAG,IAAI,IAAI,EACzC,EAAG,CAAC,EAAc,EAGlB,IAAM,EAAkB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IAAM,AAAC,IACrC,IAAM,EAAc,EAAa,GAAG,CAAC,GAAK,EAAE,EAAE,EACxC,EAAa,EAAM,GAAG,CAAC,GAAK,EAAE,EAAE,EAGhC,EAAe,IAAI,IAAI,GACvB,EAAe,EAAqB,OAAO,CAG3C,EAAQ,EAAY,MAAM,CAAC,GAAM,CAAC,EAAa,GAAG,CAAC,IACnD,EAAU,MAAM,IAAI,CAAC,GAAc,MAAM,CAAC,GAAM,EAAW,QAAQ,CAAC,IAAO,CAAC,EAAa,GAAG,CAAC,IAEnG,EAAqB,OAAO,CAAG,EAG3B,GAAM,MAAM,CAAG,GAAK,EAAQ,MAAM,EAAG,GAAG,CAEtC,EAAY,MAAM,GAAK,EAAW,MAAM,EAAI,EAAW,MAAM,CAAG,EAClE,CADqE,CACzD,GAGZ,IAAI,KAAU,EAAQ,CAAC,OAAO,CAAC,GAAM,EAAa,IAGxD,EAAG,CAAC,EAAO,EAAc,EAAY,EAG/B,EAAa,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAC9B,GAAI,EAAY,MAAM,CAAG,EAAG,CAC1B,IAAM,EAAc,CAAW,CAAC,EAAE,CAClC,EAAO,OAAO,EAAY,KAAK,EAAG,EAAY,SAAS,EAAI,MAC7D,CACF,EAAG,CAAC,EAAO,EAGL,EAAmB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAChC,GACF,IAEK,OAHW,CAGH,OAAO,EAAC,IACtB,CAAC,EAAa,EAGX,EAAiB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAAC,EAAY,EAAmB,KAGjE,EAAW,GACJ,QAAQ,OAAO,EAAC,IACtB,CAAC,EAAW,EAGT,EAAoB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,GACrC,AAAI,GAAgB,EAAc,MAAM,CAAG,GAAG,AAE5C,EAAc,OAAO,CAAC,GAAQ,EAAa,IACpC,QAAQ,OAAO,EAAC,IAElB,QAAQ,OAAO,CAAC,IACtB,CAAC,EAAa,SAEjB,AAAI,EACK,CAAA,EAAA,EAAA,EADI,CACJ,EAAC,GAAA,CAAkB,KAAM,IAG9B,AAAC,GAA0B,GAAG,CAApB,EAAM,MAAM,CAUxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CACZ,QAAS,EACT,KAAM,EACN,OAxG2B,CAwGnB,AAvGZ,eAAe,EACf,gBAAiB,GACjB,qBAAqB,EACrB,sBAAsB,EACtB,oBAAoB,EACpB,oBAAoB,EACpB,oBAAqB,GACrB,qBAAqB,EACrB,mBAAmB,EACnB,UAAW,GACX,aAAc,GACd,aAAa,EACb,gBAAgB,EAChB,kBAAkB,CACpB,EA0FM,QAAS,EACT,YAAa,EACb,OAAQ,EACR,YAAa,EAAe,OAAmB,EAC/C,UAAW,EACX,YAAa,EAAe,OAAoB,EAChD,OAAQ,IACR,UAAU,sBAIX,GAAQ,EAAK,UAAU,CAAG,GACzB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,YAAa,EAAK,IAAI,CACtB,WAAY,EAAK,UAAU,CAC3B,SAAU,EAAK,IAAI,CACnB,WAAY,EAAK,KAAK,CACtB,aAAc,OA9BlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8BAAqB,mBACpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iCAAwB,yCAiC/C,CL1ZO,SAAS,KAEd,MAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoB,CACxD,OAAQ,GACR,cAAU,EACV,cAAU,EACV,gBAAY,EACZ,KAAM,EACN,KAAM,GACN,OAAQ,YACR,UAAW,MACb,GAEM,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,EAAE,EACzD,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MAC9C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GA+BzC,OACJ,CAAK,OACL,CAAK,MACL,CAAI,CACJ,MAAI,CACJ,YAAU,CACV,QAAS,CAAY,CACrB,MAAO,CAAU,CACjB,QAAS,CAAY,CACtB,CAAG,EArCgB,CAAA,EAAA,EAAA,OAAO,AAAP,CAqCD,CArCS,KAC1B,IAAM,EAAa,CACjB,KAAM,EAAQ,IAAI,CAClB,KAAM,EAAQ,IAAI,CAClB,OAAQ,EAAQ,MAAM,CACtB,UAAW,EAAQ,SAAS,AAC9B,EAkBA,OAhBI,EAAQ,MAAM,EAAE,QAAQ,CAC1B,EAAM,MAAM,CAAG,EAAQ,MAAM,CAAC,IAAI,EAAA,EAGhC,EAAQ,QAAQ,EAAE,CACpB,EAAM,QAAQ,CAAG,EAAQ,QAAQ,AAAR,EAGvB,KAAqB,MAAb,KAAwB,GAAhB,GAClB,EAAM,QAAQ,CAAG,EAAQ,QAAA,AAAQ,EAG/B,KAAuB,MAAf,KAA0B,KAAhB,GACpB,EAAM,UAAU,CAAG,EAAQ,UAAA,AAAU,EAGhC,CACT,EAAG,CAAC,EAAQ,GAcN,CAAE,KAAM,CAAS,CAAE,QAAS,CAAY,CAAE,CHsIzC,CAAA,CGtI4C,CHsI5C,EAAA,QAAA,AAAQ,EAAC,EAAgB,CAC9B,YAAa,oBACb,YAAa,MACb,UAAM,CACR,GGzIM,CAAC,EAAgB,CAAE,CHwIR,OGxIiB,CAAiB,CAAE,CAAC,EH2LhD,CG3LmD,CH2L1C,CAAA,EAAA,EAAA,eAAe,AAAf,IAER,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,EAAkB,CACnC,YAAa,KAGX,EAAO,cAAc,CAAC,CACpB,QAAS,CAAC,EAAe,EAAe,AAC1C,EACF,EACA,YAAa,KACf,IG1CM,EAAmB,MAAO,IAC9B,GAAI,CACF,MAAM,EAAe,CACnB,UAAW,CACT,MAAO,CACL,QAAS,CAAC,EAAK,EAAE,CAAC,CAClB,OAAQ,QACV,CACF,CACF,GAEA,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CACJ,MAAO,UACP,YAAa,CAAC,KAAK,EAAE,EAAK,QAAQ,CAAC,kBAAkB,CAAC,CACtD,KAAM,SACR,GAGA,EAAiB,GAAQ,EAAK,MAAM,CAAC,GAAM,IAAO,EAAK,EAAE,GAGzD,MAAM,GACR,CAAE,MAAO,EAAY,CACnB,CAAA,EAAA,EAAA,KAAA,AAAK,EAAC,CACJ,MAAO,QACP,YAAa,EAAM,OAAO,EAAI,wBAC9B,KAAM,QACN,QAAS,aACX,EACF,CACF,SAGA,AAAI,EAEA,CAAA,EAAA,EAAA,GAAA,EAFY,AAEX,EAAA,CACC,MAAM,sBACN,QAAS,EAAW,OAAO,EAAI,4BAC/B,QAAS,IAAM,IACf,WAAW,wBAMf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEjB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACS,KAAM,OACJ,QACA,OACA,OACA,aACA,CACF,EACA,QAAS,EACT,cAAe,EACf,aAjLe,AAAC,CAiLF,GAhLtB,EAAiB,GACf,EAAK,QAAQ,CAAC,GACV,EAAK,MAAM,CAAC,GAAM,IAAO,GACzB,IAAI,EAAM,EAAO,CAEzB,EA4KU,YA1Kc,AAAC,CA0KF,GAvKU,EAAQ,KAAK,CAAC,GAAM,EAAc,QAAQ,CAAC,IAIxE,EAAiB,GAAQ,EAAK,MAAM,CAAC,GAAM,CAAC,EAAQ,QAAQ,CAAC,KAG7D,EAAiB,IACf,IAAM,EAAe,IAAI,EAAK,CAM9B,OALA,EAAQ,OAAO,CAAC,IACV,AAAC,EAAa,QAAQ,CAAC,IACzB,CAD8B,CACjB,IAAI,CAAC,EAEtB,GACO,CACT,EAEJ,EAuJU,OA5LS,CAAC,AA4LF,EA5LkB,KAClC,EAAW,IAAS,CAClB,EADiB,CACd,CAAI,QACP,EACA,UAAW,EACb,CAAC,CACH,EAuLU,aAlMe,AAAC,CAkMF,GApNtB,EAAW,IAAS,CAClB,EADiB,CACd,CAAI,CAkBU,OAhBjB,KAgByB,CAhBnB,CACR,CAAC,CAgBH,EAiMU,GAlNQ,SAAS,CAkNH,GAlNO,CAkND,GAAqB,GACzC,WAAY,EACZ,aAAc,EACd,OAAQ,EAAQ,MAAM,CACtB,UAAW,EAAQ,SAAS,GAIlC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,OAAQ,EACR,QAAS,IAAM,GAAqB,GACpC,UAAW,KACT,GAAqB,GACrB,GACF,IAGF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,KAAM,EACN,OAAQ,CAAC,CAAC,EACV,QAAS,IAAM,EAAe,MAC9B,UAAW,KACT,EAAe,MACf,GACF,MAIR,CQlUO,SAAS,GAAa,CAAE,UAAU,YAAY,CAAqB,EACxE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,UACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,kDACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,sCACnB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAiB,YAM7C,CChBA,IAAA,GAAA,EAAA,CAAA,CAAA,QAAA,GAAA,EAAA,CAAA,CAAA,QAOO,SAAS,GAAa,CAC3B,WAAW,SAAS,cACpB,EAAe,OAAO,CACJ,EAClB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAExB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,uDACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,kDACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,UAAU,2CACvB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,sDAA6C,wBAC3D,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+BAAqB,iBAClB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAQ,IAAsB,6BAE/C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCAA6B,mBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAU,yBAAiB,OAGrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,wDAGtD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CACC,KAAK,uEACL,UAAU,0IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,YAAY,kBAKhC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,EAAO,IAAI,CAAC,mBAC3B,QAAQ,UACR,UAAU,mBAEV,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAC,UAAU,iBAAiB,qCAStD,CCjEA,IAAA,GAAA,EAAA,CAAA,CAAA,QCFA,GAAA,EAAA,CAAA,CAAA,QAAA,GAAA,EAAA,CAAA,CAAA,QCEO,IAAM,GAAqB,EAAA,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;AAyBtC,CAAC,AAEmC,GAAA,GAAG,CAAC;;;;;;;;;;;;;;;;;;;AAmBxC,CAAC,CAGM,IAAM,GAAoB,EAAA,GAAG,CAAC;;;;;;;;;;;;;;;;;;;AAmBrC,CAAC,CAEY,GAAoB,EAAA,GAAG,CAAC;;;;;;;;;;;;;;;;;;;AAmBrC,CAAC,CAEY,GAAoB,EAAA,GAAG,CAAC;;;;AAIrC,CAAC,CAGY,GAAe,EAAA,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqChC,CAE8B,AAF7B,GAE6B,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiClC,CAAC,CAGM,IAAM,GAAc,EAAA,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiC/B,CAAC,CAEY,GAAc,EAAA,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiC/B,CAAC,CAEY,GAAc,EAAA,GAAG,CAAC;;;;AAI/B,CAAC,CAEY,GAA0B,EAAA,GAAG,CAAC;;;;AAI3C,CAAC,CAGY,GAA4B,EAAA,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyD7C,CAAC,CAEY,GAAoB,EAAA,GAAG,CAAC;;;;AAIrC,CAAC,CAEY,GAA0B,EAAA,GAAG,CAAC;;;;AAI3C,CAAC,CCvTD,IAAA,GAAA,EAAA,CAAA,CAAA,QAGO,IAAM,GAAuB,AAAC,GAC5B,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAAoB,CAClC,UAAW,OAAE,CAAM,EACnB,YAAa,MACb,QAAU,AAAD,IACP,QAAQ,KAAK,CAAC,+BAAgC,GAC9C,GAAA,KAAK,CAAC,KAAK,CAAC,+BACd,CACF,GAuDW,GAAiB,AAAC,GACtB,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAAc,CAC5B,UAAW,OAAE,CAAM,EACnB,YAAa,MACb,QAAS,AAAC,IACR,QAAQ,KAAK,CAAC,yBAA0B,GACxC,GAAA,KAAK,CAAC,KAAK,CAAC,yBACd,CACF,GAoEW,GAA6B,AAAD,GAChC,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAA2B,CACzC,UAAW,QAAE,CAAO,EACpB,KAAM,CAAC,EACP,YAAa,MACb,QAAS,AAAC,IACR,QAAQ,KAAK,CAAC,uCAAwC,GACtD,GAAA,KAAK,CAAC,KAAK,CAAC,iCACd,CACF,GCjKF,IAAA,GAAA,EAAA,CAAA,CAAA,QAEA,GAAA,EAAA,CAAA,CAAA,QAGA,GAAA,EAAA,CAAA,CAAA,eAc8E,CAAC,QAC7E,CAAM,CACN,MAAI,SACJ,CAAO,GAmPM,QAlPb,CAAS,CACV,IACC,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAyB,EAAE,EACnE,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAEvC,CAAC,EAAuB,SAAE,CAAO,CAAE,CAAC,CD+GnC,CAAA,CC/GsC,CD+GtC,EAAA,WAAA,AAAW,EAAC,GAAyB,CAC1C,YAAa,KACX,GAAA,KAAK,CAAC,OAAO,CAAC,wCAChB,EACA,QAAU,AAAD,IACP,QAAQ,KAAK,CAAC,oCAAqC,GACnD,GAAA,KAAK,CAAC,KAAK,CAAC,oCACd,EACA,eAAgB,CAAC,cAAe,cAAc,AAChD,GCrHM,CAAE,KAAM,CAAe,CAAE,CAAG,GAAqB,CACrD,KAAM,EACN,KAAM,IACN,UAAU,CACZ,GACM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAG1B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,AAAC,GACH,EAAc,GAElB,AAHe,EAGZ,CAAC,EAAO,EAEX,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,GAAQ,GAAiB,mBAAmB,YAAa,CAC3D,IAAM,EAAc,EAAgB,iBAAiB,CAAC,WAAW,CAC3D,EAAkB,EAAK,WAAW,EAAI,EAAE,CAU9C,EAR+C,EAAY,GAAG,CAAC,AAAC,IAC9D,GAOa,CAPP,EAAW,EAAgB,IAAI,CAAC,AAAC,GAAW,GAAI,YAAY,KAAO,GAAY,IACrF,MAAO,CACL,aAAc,GAAY,GAC1B,OAAQ,EAAW,EAAS,MAAM,CAAG,IACvC,CACF,GAGF,CACF,EAAG,CAAC,EAAM,EAAgB,EAE1B,IAAM,EAAe,MAAO,IAC1B,EAAE,cAAc,GAGhB,IAAM,EAAmB,EACtB,MAAM,CAAC,GAAkB,UAAb,EAAE,MAAM,EACpB,GAAG,CAAC,GAAK,EAAE,YAAY,EAEpB,EAAkB,EACrB,MAAM,CAAC,GAAkB,SAAb,EAAE,MAAM,EACpB,GAAG,CAAC,GAAK,EAAE,YAAY,EAE1B,GAAI,CAKF,MAAM,EAAsB,CAC1B,UAAW,CACT,MAAO,CACL,OAAQ,EAAK,EAAE,CACf,cAAe,EACf,OAAQ,OACV,CACF,CACF,GAMI,EAAgB,MAAM,CAAG,GAAG,AAI9B,QAAQ,IAAI,CAAC,qEAGf,EAAM,CACJ,MAAO,sBACP,YAAa,CAAA,EAAG,EAAiB,MAAM,CAAC,iCAAiC,EAAE,EAAK,WAAW,CAAC,EAAE,CAAC,CAC/F,KAAM,SACR,GACA,IACA,GACF,CAAE,MAAO,CADI,CACQ,CACnB,EAAM,CACJ,MAAO,gBACP,CAJqC,WAIxB,EAAM,OAAO,EAAI,+BAC9B,KAAM,OACR,EACF,CACF,EAYM,EAAc,GAAiB,mBAAmB,aAAe,EAAE,CACnE,EAAmB,GAAiB,mBAAmB,OAAS,EAChE,EAAsB,EAAY,MAAM,CAAC,AAAC,GAC9C,EAAW,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,EAAW,WAAW,KACpE,EAAW,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,EAAW,WAAW,KAC7D,EAAW,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,EAAW,WAAW,KACjE,EAAW,MAAM,CAAC,WAAW,GAAG,QAAQ,CAAC,EAAW,WAAW,KAG3D,EAAc,EAAY,MAAM,CAAC,GAAkB,OAAb,EAAE,MAAM,EAAW,MAAM,CAGrE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAQ,aAAc,WAClC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,mCACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WAAC,2BAAyB,EAAK,WAAW,IACtD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,iKAKrB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACrC,AAbkB,EAAmB,KAcpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,UACJ,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,WAAC,wBACM,EAAiB,8DAK7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CAAC,UAAU,qFAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,YAAY,wBACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAc,EAAE,MAAM,CAAC,KAAK,EAC7C,UAAU,QACV,SAAU,OAGd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,iBAClC,EAAY,kBAIjB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,UAAU,CAAA,CAAC,UAAU,uCACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAoB,GAAG,CAAC,AAAC,IACxB,IAAM,EAAa,EAAY,IAAI,CAAC,GAAK,EAAE,YAAY,GAAK,EAAW,EAAE,EACzE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAwB,UAAU,mDACjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAe,EAAW,WAAW,GACnD,EAAW,WAAW,EACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,EAAW,WAAW,GAG3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iDACb,EAAW,QAAQ,CAAC,IAAE,EAAW,MAAM,CACvC,EAAW,KAAK,EAAI,CAAC,CAAC,EAAE,EAAW,KAAK,CAAA,CAAE,IAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,mBAChC,EAAW,QAAQ,SAK1B,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,UAAU,CAAA,CACT,MAAO,GAAY,QAAU,OAC7B,cAAe,AAAC,QAAU,AArFhB,aAsFR,EAAW,EAAE,CAtFiB,EAuFpB,SAAV,EAAmB,KAAO,OAtFhD,EAAe,GACb,EAAK,GAAG,CAAC,GACP,EAAE,YAAY,GAAK,EACf,CAAE,GAAG,CAAC,CAAE,QAAO,EACf,KAoFY,UAAU,aACV,SAAU,YAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,MAAM,OAAO,GAAI,CAAA,EAAG,EAAW,EAAE,CAAC,KAAK,CAAC,CAAE,SAAU,IACpE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,CAAA,EAAG,EAAW,EAAE,CAAC,KAAK,CAAC,CAAE,UAAU,sCAA6B,YAIlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,MAAM,QAAQ,GAAI,CAAA,EAAG,EAAW,EAAE,CAAC,MAAM,CAAC,CAAE,SAAU,IACtE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,CAAA,EAAG,EAAW,EAAE,CAAC,MAAM,CAAC,CACjC,UAAU,qDACX,aAIH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,MAAM,OAAO,GAAI,CAAA,EAAG,EAAW,EAAE,CAAC,KAAK,CAAC,CAAE,SAAU,IACpE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,CAAA,EAAG,EAAW,EAAE,CAAC,KAAK,CAAC,CAChC,UAAU,uDACX,mBAjDC,EAAW,EAAE,CAyD3B,GAEgC,IAA/B,EAAoB,MAAM,EACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mDAA0C,oDAO/D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,QAAS,EACT,SAAU,WACX,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,SAAU,WAC7B,EAAU,YAAc,+BAOvC,ECxQA,IAAA,GAAA,EAAA,CAAA,CAAA,QAEA,GAAA,EAAA,CAAA,CAAA,eAUwD,CAAC,QACvD,CAAM,SACN,CAAO,WACP,AAkKa,CAlKJ,CACV,IACC,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkB,CACxD,KAAM,GACN,YAAa,GACb,YAAa,GACb,SAAU,EACV,cAAe,EACjB,AADmB,GAGb,CAAC,EAAY,SAAE,CAAO,CAAE,CAAC,CF4ExB,CAAA,CE5E2B,CF4E3B,EAAA,WAAA,AAAW,EAAC,GAAa,CAC9B,YAAa,KACX,GAAA,KAAK,CAAC,OAAO,CAAC,4BAChB,EACA,QAAU,AAAD,IACP,QAAQ,KAAK,CAAC,uBAAwB,GACtC,GAAA,KAAK,CAAC,KAAK,CAAC,wBACd,EACA,eAAgB,CAAC,cAAc,AACjC,GEpFM,CAAE,KAAM,CAAe,CAAE,CAAG,GAAqB,CACrD,KAAM,EACN,KAAM,IACN,UAAU,CACZ,GACM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAEpB,EAAe,MAAO,IAC1B,EAAE,cAAc,GAEhB,GAAI,CACF,MAAM,EAAW,CACf,UAAW,CACT,MAAO,CACT,CACF,GACA,EAAM,CACJ,MAAO,eACP,YAAa,CAAC,MAAM,EAAE,EAAS,WAAW,CAAC,gCAAgC,CAAC,CAC5E,KAAM,SACR,GACA,GACF,CAAE,MAAO,EAAY,CACnB,EAAM,CACJ,MAAO,gBACP,YAAa,EAAM,OAAO,EAAI,wBAC9B,KAAM,OACR,EACF,CACF,EAWM,EAAc,GAAiB,mBAAmB,aAAe,EAAE,CAEzE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAQ,aAAc,WAClC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,mDACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAC,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,gDAKrB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAO,aACV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAE/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,OACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,IAAI,CACpB,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EACvE,YAAY,0BAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAc,gBACd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAElD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,cACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,WAAW,CAC3B,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,YAAa,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAC9E,YAAY,0BAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,uBAAc,gBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,GAAG,cACH,KAAM,EACN,MAAO,EAAS,WAAW,EAAI,GAC/B,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,YAAa,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAC9E,YAAY,wDAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,oBAAW,aAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,KAAK,SACL,MAAO,EAAS,QAAQ,CACxB,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,SAAU,SAAS,EAAE,MAAM,CAAC,KAAK,GAAK,EAAE,CAAC,EAC1F,YAAY,MAEd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,2CAKnD,EAAY,MAAM,CAAG,GACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,sBAAa,gBAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,UAAU,CAAA,CAAC,UAAU,sCACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAY,GAAG,CAAC,AAAC,GAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAwB,UAAU,uCACjC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,GAAI,CAAC,WAAW,EAAE,EAAW,EAAE,CAAA,CAAE,CACjC,QAAS,EAAS,aAAa,EAAE,SAAS,EAAW,EAAE,IAAK,EAC5D,gBAAiB,IAAM,cApFf,EAoFsC,EAAW,EAAE,MAnFjF,EAAY,GAAS,EACnB,EADkB,CACf,CAAI,CACP,cAAe,EAAK,aAAa,EAAE,SAAS,GACxC,EAAK,aAAa,CAAC,MAAM,CAAC,GAAM,IAAO,GACvC,IAAK,EAAK,aAAa,EAAI,EAAE,CAAG,EAAa,CACnD,CAAC,KAgFmB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,CAAC,WAAW,EAAE,EAAW,EAAE,CAAA,CAAE,CACtC,UAAU,6DAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,EAAW,WAAW,GAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,EAAW,QAAQ,CAAC,IAAE,EAAW,MAAM,SAZpC,EAAW,EAAE,OAmB7B,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+CACV,EAAS,aAAa,EAAE,QAAU,EAAE,iCAM7C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,QAAQ,UAAU,QAAS,WAAS,WAG1D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,SAAU,WAC7B,EAAU,cAAgB,0BAOzC,KCjKoD,CAAC,QACnD,CAAM,CACN,MAAI,SACJ,CAAO,IAsKM,OArKb,CAAS,CACV,IACC,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkB,CACxD,KAAM,GACN,YAAa,GACb,YAAa,GACb,SAAU,EACV,UAAU,CACZ,GAEM,CAAC,EAAY,SAAE,CAAO,CAAE,CAAC,CHsFxB,CAAA,CGtF2B,CHsF3B,EAAA,WAAA,AAAW,EAAC,GAAa,CAC9B,YAAa,KACX,GAAA,KAAK,CAAC,OAAO,CAAC,4BAChB,EACA,QAAU,AAAD,IACP,QAAQ,KAAK,CAAC,uBAAwB,GACtC,GAAA,KAAK,CAAC,KAAK,CAAC,wBACd,EACA,eAAgB,CAAC,cAAe,cAAc,AAChD,GG9FM,CAAE,KAAM,CAAe,CAAE,CAAG,GAAqB,CACrD,KAAM,EACN,KAAM,IACN,SAAU,EACZ,GACM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAE1B,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACJ,GACF,EAAY,CACV,AAFM,KAEA,EAAK,IAAI,CACf,YAAa,EAAK,WAAW,CAC7B,YAAa,EAAK,WAAW,EAAI,GACjC,SAAU,EAAK,QAAQ,CACvB,SAAU,EAAK,QAAQ,AACzB,EAEJ,EAAG,CAAC,EAAK,EAET,IAAM,EAAe,MAAO,IAC1B,EAAE,cAAc,GAEhB,GAAI,CACF,MAAM,EAAW,CACf,UAAW,CACT,GAAI,EAAK,EAAE,CACX,MAAO,CACT,CACF,GACA,EAAM,CACJ,MAAO,eACP,YAAa,CAAC,MAAM,EAAE,EAAS,WAAW,CAAC,gCAAgC,CAAC,CAC5E,KAAM,SACR,GACA,GACF,CAAE,MAAO,EAAY,CACnB,EAAM,CACJ,MAAO,gBACP,YAAa,EAAM,OAAO,EAAI,wBAC9B,KAAM,OACR,EACF,CACF,EAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAQ,aAAc,WAClC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,sBACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WAAC,cAAY,EAAK,WAAW,IACzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,4CAKrB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACrC,EAAK,YAAY,EAChB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,2CACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,4BACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,UAAU,4BAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,UAAO,iBAAqB,wEAKnC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAO,aACV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAE/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,OACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,IAAI,EAAI,GACxB,SAAU,AAAC,GAAM,EAAY,GAAS,EAAE,EAAH,CAAM,CAAI,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EACvE,YAAY,qBACZ,SAAU,EAAK,YAAY,GAE5B,EAAK,YAAY,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,2CAMtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAc,gBACd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAElD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,cACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,WAAW,EAAI,GAC/B,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,YAAa,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAC9E,YAAY,0BAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,uBAAc,gBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,GAAG,cACH,KAAM,EACN,MAAO,EAAS,WAAW,EAAI,GAC/B,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,YAAa,EAAE,MAAM,CAAC,KAAK,AAAC,CAAC,GAC9E,YAAY,wDAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,oBAAW,aAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,KAAK,SACL,MAAO,EAAS,QAAQ,EAAI,EAC5B,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,SAAU,SAAS,EAAE,MAAM,CAAC,KAAK,GAAK,CAAE,CAAC,GAC1F,YAAY,MAEd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,2CAKpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,GAAG,WACH,QAAS,EAAS,QAAQ,GAAI,EAC9B,gBAAiB,AAAC,GAAY,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,SAAU,EAAmB,CAAC,EAC5F,SAAU,EAAK,YAAY,GAE7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,WAAW,UAAU,8CAAqC,cAI1E,EAAK,YAAY,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,0CAMjD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,QAAQ,UAAU,QAAS,WAAS,WAG1D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,SAAU,WAC7B,EAAU,cAAgB,0BAOzC,KLpKsD,CAAC,WAAE,EAAY,EAAE,CAAE,IACvE,GAAM,CAAC,EAAa,EAAe,CAAG,CA2UzB,AA3UyB,EAAA,EAAA,QAAA,AAAQ,EAAkB,CAC9D,KAAM,EACN,KAAM,GACN,OAAQ,OACR,UAAW,KACb,GAEM,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,MACtD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAc,MAE1D,CAAE,MAAI,SAAE,CAAO,CAAE,OAAK,SAAE,CAAO,CAAE,CAAG,GAAe,GACnD,CAAC,EAAW,CEiGX,CAAA,CFjGc,CEiGd,EAAA,WAAA,AAAW,EAAC,GAAa,CAC9B,YAAa,KACX,GAAA,KAAK,CAAC,OAAO,CAAC,4BAChB,EACA,QAAS,AAAC,IACR,QAAQ,KAAK,CAAC,uBAAwB,GACtC,GAAA,KAAK,CAAC,KAAK,CAAC,wBACd,EACA,eAAgB,CAAC,cAAc,AACjC,GFzGM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,IAMZ,EAAoB,AAAD,IACvB,EAAe,IAAS,CAAE,EAAH,CAAM,CAAI,MAAE,EAAK,CAAC,CAC3C,EAEM,EAAe,MAAO,IAC1B,GAAI,EAAK,YAAY,CAAE,YACrB,EAAM,CACJ,MAAO,4BACP,YAAa,uDACb,KAAM,OACR,GAIF,GAAI,OAAO,OAAO,CAAC,CAAC,sCAAsC,EAAE,EAAK,WAAW,CAAC,EAAE,CAAC,EAC9E,CADiF,EAC7E,CACF,MAAM,EAAW,CAAE,UAAW,CAAE,GAAI,EAAK,EAAE,AAAC,CAAE,GAC9C,EAAM,CACJ,MAAO,eACP,YAAa,CAAC,MAAM,EAAE,EAAK,WAAW,CAAC,gCAAgC,CAAC,CACxE,KAAM,SACR,GACA,GACF,CAAE,MAAO,EAAY,CACnB,EAAM,CACJ,MAAO,gBACP,YAAa,EAAM,OAAO,EAAI,wBAC9B,KAAM,OACR,EACF,CAEJ,EAiBA,GAAI,EACF,MACE,CAFS,AAET,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAW,YACf,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,aACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,gBAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACpB,oCAAa,CAAC,GAAG,CAAC,CAAC,EAAG,IACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAY,UAAU,wCACrB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,2BACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,kBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,uBAJd,SAapB,GAAI,EACF,KADS,CAEP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAW,CAAC,sCAAsC,EAAE,EAAA,CAAW,UACpE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,WAAC,wBACM,EAAM,OAAO,MAM3C,IAAM,EAAQ,GAAM,aAAa,OAAS,EAAE,CACtC,EAAQ,GAAM,aAAa,OAAS,EACpC,EAAa,GAAM,aAAa,YAAc,EAEpD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAW,YACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,oBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,iDAInB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,IAAM,GAAmB,aACxC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,mBAMvC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBAGrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,YAAY,kBACZ,MAAO,EAAY,MAAM,EAAI,GAC7B,SAAU,AAAC,IAAM,aAlHP,EAkHoB,EAAE,MAAM,CAAC,KAAK,MAjHtD,EAAe,GAAS,EAAE,EAAH,CAAM,CAAI,QAAE,EAAQ,KAAM,EAAE,CAAC,OAoH9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,WAAgC,IAAzB,EAAY,QAAQ,CAAiB,MAAQ,EAAY,QAAQ,CAAC,QAAQ,GACjF,cAAe,AAAC,GAAU,EAAe,GAAS,EAChD,EAD+C,CAC5C,CAAI,CACP,SAAoB,QAAV,OAAkB,EAAsB,SAAV,EACxC,KAAM,EACR,CAAC,YAED,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,qBACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,iBAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,eACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,gBAAO,WACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,iBAAQ,mBAG9B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,KAA6B,MAAjB,YAAY,CAAiB,MAAQ,EAAY,YAAY,CAAC,QAAQ,GACzF,cAAe,AAAC,GAAU,EAAe,GAAS,EAChD,EAD+C,CAC5C,CAAI,CACP,aAAwB,QAAV,EAAkB,OAAsB,SAAV,EAC5C,KAAM,EACR,CAAC,YAED,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,qBACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,gBAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,cACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,gBAAO,WACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,iBAAQ,uBAOlC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,KAAK,CAAA,WACJ,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAC,SACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAC,gBACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAC,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAC,aACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAC,YACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAC,UAAU,sBAAa,iBAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACP,AAAiB,MAAX,MAAM,CACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,UACP,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAC,QAAS,EAAG,UAAU,kDAAyC,qBAK5E,EAAM,GAAG,CAAC,AAAC,GACT,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,UACL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,oBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,sCAGrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAe,EAAK,WAAW,GAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACZ,EAAK,IAAI,CACT,EAAK,YAAY,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,mBAAU,cAGlD,EAAK,WAAW,EACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,EAAK,WAAW,WAM3B,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,SAAS,CAAA,WACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAK,EAAK,WAAW,EAAE,QAAU,EAAE,kBACnC,EAAK,QAAQ,EAAI,EAAK,QAAQ,CAAC,MAAM,CAAG,GACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,EAAK,QAAQ,CAAC,MAAM,CAAC,qBAI5B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,EAAK,QAAQ,CAAG,UAAY,uBACzC,EAAK,QAAQ,CAAG,SAAW,eAGhC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAE,EAAK,QAAQ,GACzB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAE,IAAI,KAAK,EAAK,SAAS,EAAE,kBAAkB,KACvD,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAC,UAAU,sBACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,EAAiB,GAChC,MAAM,8BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,UAAU,cAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,EAAe,GAC9B,MAAM,qBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CAAC,UAAU,cAEnB,CAAC,EAAK,YAAY,EACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,EAAa,GAC5B,MAAM,uBAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,sCAhEb,EAAK,EAAE,UA6E/B,EAAa,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CAAgC,WACpC,AAAC,GAAY,IAAI,GAAI,CAAC,EAAK,EAAD,AAAa,IAAI,EAAI,EAAA,CAAE,CAAI,EAAE,MAAI,IACnE,KAAK,GAAG,CAAC,CAAC,CAAC,EAAY,IAAI,GAAI,CAAC,EAAI,CAAC,EAAK,EAAD,AAAa,IAAI,EAAI,EAAA,CAAE,CAAG,GAAO,OAAK,EAAM,cAExF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,EAAiB,CAAC,EAAY,IAAI,GAAI,CAAC,CAAI,GAC1D,SAAU,AAA2B,IAA1B,EAAY,IAAI,GAAI,CAAC,UACjC,aAGD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACZ,CAAC,EAAY,IAAI,GAAI,CAAC,CAAI,EAAE,MAAI,KAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,EAAiB,CAAC,EAAY,IAAI,GAAI,CAAC,CAAI,GAC1D,SAAU,CAAC,EAAY,IAAI,GAAI,CAAC,EAAK,EAAa,WACnD,kBAUR,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,OAAQ,EACR,QAAS,IAAM,GAAmB,GAClC,UA9PoB,CA8PT,IA7PjB,EAAmB,IACnB,GACF,IA+PK,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,OAAQ,CAAC,CAAC,EACV,KAAM,EACN,QAAS,IAAM,EAAe,MAC9B,UAlQkB,CAkQP,IAjQjB,EAAe,MACf,GACF,IAmQK,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,OAAQ,CAAC,CAAC,EACV,KAAM,EACN,QAAS,IAAM,EAAiB,MAChC,UAtQoB,CAsQT,IArQjB,EAAiB,MACjB,GACF,MAwQF,KMhVoE,CAAC,QACnE,CAAM,SACN,CAAO,WA2LM,AA1Lb,CAAS,CACV,IACC,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwB,CAC9D,KAAM,GACN,YAAa,GACb,YAAa,GACb,SAAU,GACV,OAAQ,GACR,MAAO,GACP,SAAU,SACZ,GAEM,CAAC,EAAkB,SAAE,CAAO,CAAE,CAAC,CJY9B,CAAA,CIZiC,CJYjC,EAAA,WAAA,AAAW,EAAC,GAAmB,CACpC,YAAa,KACX,GAAA,KAAK,CAAC,OAAO,CAAC,kCAChB,EACA,QAAS,AAAC,IACR,QAAQ,KAAK,CAAC,6BAA8B,GAC5C,GAAA,KAAK,CAAC,KAAK,CAAC,8BACd,EACA,eAAgB,CAAC,oBAAoB,AACvC,GIpBM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAEpB,EAAe,MAAO,IAC1B,EAAE,cAAc,GAEhB,GAAI,CACF,MAAM,EAAiB,CACrB,UAAW,CACT,MAAO,CACL,GAAG,CAAQ,CACX,MAAO,EAAS,KAAK,EAAI,MAC3B,CACF,CACF,GACA,EAAM,CACJ,MAAO,qBACP,YAAa,CAAC,YAAY,EAAE,EAAS,WAAW,CAAC,gCAAgC,CAAC,CAClF,KAAM,SACR,GACA,GACF,CAAE,MAAO,EAAY,CACnB,EAAM,CACJ,MAAO,gBACP,YAAa,EAAM,OAAO,EAAI,8BAC9B,KAAM,OACR,EACF,CACF,EAaA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAQ,aAAc,WAClC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,sBACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAC,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,kHAKrB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAO,mBACJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAErD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,OACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,IAAI,CACpB,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,AAAC,CAAC,GACvE,YAAY,wBAEd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,6CAKpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAc,gBACd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAElD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,cACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,WAAW,CAC3B,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,YAAa,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAC9E,YAAY,gCAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,uBAAc,gBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,GAAG,cACH,KAAM,EACN,MAAO,EAAS,WAAW,EAAI,GAC/B,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,YAAa,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAC9E,YAAY,4CAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAW,YACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,QAAQ,CACxB,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,SAAU,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAC3E,YAAY,iCAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAS,UACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAE5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,SACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,MAAM,CACtB,SAAW,AAAD,GAAO,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,OAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EACzE,YAAY,oCAKlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAQ,UACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACH,MAAO,EAAS,KAAK,EAAI,GACzB,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EACxE,YAAY,oCAEd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,mDAKpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAW,YACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAE9C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,EAAS,QAAQ,EAAI,UAC5B,cAAe,AAAC,GAAU,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,SAAU,CAAM,CAAC,aAE3E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UAnHT,AAoHF,CAnHf,UACA,OACA,QACA,UACA,SACA,YACA,UACA,cACD,CA2G2B,GAAG,CAAC,GACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAgB,MAAO,WAC/B,EAAS,MAAM,CAAC,GAAG,WAAW,GAAK,EAAS,KAAK,CAAC,IADpC,eAS3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,QAAS,WACV,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,SAAU,WAC7B,EAAU,cAAgB,gCAOzC,KCvLgE,CAAC,CAC/D,QAAM,YACN,CAAU,CACV,OA4Oa,EA5ON,WACP,CAAS,CACV,IACC,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwB,CAC9D,KAAM,GACN,YAAa,GACb,YAAa,GACb,SAAU,GACV,OAAQ,GACR,MAAO,GACP,SAAU,UACV,UAAU,CACZ,GAEM,CAAC,EAAkB,SAAE,CAAO,CAAE,CAAC,CLmB9B,CAAA,CKnBiC,CLmBjC,EAAA,WAAA,AAAW,EAAC,GAAmB,CACpC,YAAa,KACX,GAAA,KAAK,CAAC,OAAO,CAAC,kCAChB,EACA,QAAS,AAAC,IACR,QAAQ,KAAK,CAAC,6BAA8B,GAC5C,GAAA,KAAK,CAAC,KAAK,CAAC,8BACd,EACA,eAAgB,CAAC,oBAAqB,oBAAoB,AAC5D,GK3BM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,IAElB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,GACF,EAAY,CACV,KAAM,CAFM,CAEK,IAAI,CACrB,YAAa,EAAW,WAAW,CACnC,YAAa,EAAW,WAAW,EAAI,GACvC,SAAU,EAAW,QAAQ,CAC7B,OAAQ,EAAW,MAAM,CACzB,MAAO,EAAW,KAAK,EAAI,GAC3B,SAAU,EAAW,QAAQ,CAC7B,SAAU,EAAW,QACvB,AAD+B,EAGnC,EAAG,CAAC,EAAW,EAEf,IAAM,EAAe,MAAO,IAC1B,EAAE,cAAc,GAEhB,GAAI,CACF,MAAM,EAAiB,CACrB,UAAW,CACT,GAAI,EAAW,EAAE,CACjB,MAAO,CACL,GAAG,CAAQ,CACX,MAAO,EAAS,KAAK,OAAI,CAC3B,CACF,CACF,GACA,EAAM,CACJ,MAAO,qBACP,YAAa,CAAC,YAAY,EAAE,EAAS,WAAW,CAAC,gCAAgC,CAAC,CAClF,KAAM,SACR,GACA,GACF,CAAE,MAAO,EAAY,CACnB,EAAM,CACJ,MAAO,gBACP,YAAa,EAAM,OAAO,EAAI,8BAC9B,KAAM,OACR,EACF,CACF,EAaA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAQ,aAAc,WAClC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,sBACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,WAAC,oBAAkB,EAAW,WAAW,IACrD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,0GAKrB,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,EAAc,UAAU,sBACrC,EAAW,YAAY,EACtB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,WACJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,YACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,UAAC,mGAMtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAO,mBACJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAErD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,OACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,IAAI,EAAI,GACxB,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,KAAM,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EACvE,YAAY,sBACZ,SAAU,EAAW,YAAY,GAElC,EAAW,YAAY,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,iDAMtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,wBAAc,gBACd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAElD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,cACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,WAAW,EAAI,GAC/B,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,YAAa,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAC9E,YAAY,gCAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,uBAAc,gBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,GAAG,cACH,KAAM,EACN,MAAO,EAAS,WAAW,EAAI,GAC/B,SAAU,AAAC,GAAM,EAAY,GAAS,EAAE,EAAH,CAAM,CAAI,CAAE,YAAa,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAC9E,YAAY,4CAIhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAW,YACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,WACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,QAAQ,EAAI,GAC5B,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,SAAU,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EAC3E,YAAY,4BACZ,SAAU,EAAW,YAAY,MAIrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAS,UACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAE5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,SACH,QAAQ,CAAA,CAAA,EACR,MAAO,EAAS,MAAM,EAAI,GAC1B,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,OAAQ,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EACzE,YAAY,4BACZ,SAAU,EAAW,YAAY,SAKvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,iBAAQ,UACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,GAAG,QACH,MAAO,EAAS,KAAK,EAAI,GACzB,SAAU,AAAC,GAAM,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,MAAO,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,EACxE,YAAY,kCACZ,SAAU,EAAW,YAAY,GAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,mDAKpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,qBAAW,YACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4BAAmB,SAE9C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,MAAO,EAAS,QAAQ,EAAI,UAC5B,cAAe,AAAC,GAAU,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,SAAU,EAAM,CAAC,YAE3E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAA,KAEd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,UACX,AAnIE,CACjB,UACA,OACA,QACA,UACA,SACA,YACA,UACA,cACD,CA0H2B,GAAG,CAAC,GACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAgB,MAAO,WAC/B,EAAS,MAAM,CAAC,GAAG,WAAW,GAAK,EAAS,KAAK,CAAC,IADpC,YAQzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,GAAG,WACH,QAAS,EAAS,QAAQ,GAAI,EAC9B,gBAAiB,AAAC,GAAY,EAAY,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,SAAU,EAAmB,CAAC,EAC5F,SAAU,EAAW,YAAY,GAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,WAAW,UAAU,sCAA6B,cAIlE,EAAW,YAAY,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,gDAMjD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,KAAK,SACL,QAAQ,UACR,QAAS,WACV,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,SAAS,SAAU,WAC7B,EAAU,cAAgB,gCAOzC,KC5OkE,CAAC,WAAE,EAAY,EAAE,CAAE,IACnF,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,AAiTzB,EAjTyB,EAAA,QAAA,AAAQ,EAAwB,CACpE,KAAM,EACN,KAAM,GACN,OAAQ,OACR,UAAW,KACb,GAEM,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjD,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoB,MAExE,MAAE,CAAI,CAAE,SAAO,OAAE,CAAK,SAAE,CAAO,CAAE,CAAG,GAAqB,GACzD,CAAC,EAAiB,CNoCjB,CAAA,CMpCoB,CNoCpB,EAAA,WAAA,AAAW,EAAC,GAAmB,CACpC,YAAa,KACX,GAAA,KAAK,CAAC,OAAO,CAAC,kCAChB,EACA,QAAS,AAAC,IACR,QAAQ,KAAK,CAAC,6BAA8B,GAC5C,GAAA,KAAK,CAAC,KAAK,CAAC,8BACd,EACA,eAAgB,CAAC,oBAAoB,AACvC,GM5CM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAMpB,EAAmB,AAAC,IACxB,EAAe,IAAS,CAAE,EAAH,CAAM,CAAI,MAAE,EAAK,CAAC,CAC3C,EAEM,EAAe,MAAO,IAC1B,GAAI,EAAW,YAAY,CAAE,YAC3B,EAAM,CACJ,MAAO,kCACP,YAAa,6DACb,KAAM,OACR,GAIF,GAAI,OAAO,OAAO,CAAC,CAAC,4CAA4C,EAAE,EAAW,WAAW,CAAC,EAAE,CAAC,EAC1F,CAD6F,EACzF,CACF,MAAM,EAAiB,CAAE,UAAW,CAAE,GAAI,EAAW,EAAE,AAAC,CAAE,GAC1D,EAAM,CACJ,MAAO,qBACP,YAAa,CAAC,YAAY,EAAE,EAAW,WAAW,CAAC,gCAAgC,CAAC,CACpF,KAAM,SACR,GACA,GACF,CAAE,MAAO,EAAY,CACnB,EAAM,CACJ,MAAO,gBACP,YAAa,EAAM,OAAO,EAAI,8BAC9B,KAAM,OACR,EACF,CAEJ,EAYA,GAAI,EACF,MACE,CAAA,AAFS,EAET,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAW,YACf,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,aACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,gBAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACpB,oCAAa,CAAC,GAAG,CAAC,CAAC,EAAG,IACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAY,UAAU,wCACrB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,2BACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,kBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,uBAJd,SAapB,GAAI,EACF,KADS,CAEP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAW,CAAC,sCAAsC,EAAE,EAAA,CAAW,UACpE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,WAAC,8BACY,EAAM,OAAO,MAMjD,IAAM,EAAc,GAAM,mBAAmB,aAAe,EAAE,CACxD,EAAQ,GAAM,mBAAmB,OAAS,EAC1C,EAAa,GAAM,mBAAmB,YAAc,EAE1D,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAW,YACf,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,0BACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,4CAInB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,IAAM,GAAmB,aACxC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,iBAAiB,yBAMvC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBAErB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,YAAY,wBACZ,MAAO,EAAY,MAAM,EAAI,GAC7B,SAAU,AAAC,IAAM,aA5GP,EA4GoB,EAAE,MAAM,CAAC,KAAK,MA3GtD,EAAe,IAAS,CAAE,EAAH,CAAM,CAAI,QAAE,EAAQ,KAAM,EAAE,CAAC,OA8G9C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,YAAY,WACZ,MAAO,EAAY,QAAQ,EAAI,GAC/B,SAAU,AAAC,GAAM,EAAe,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,SAAU,EAAE,MAAM,CAAC,KAAK,EAAI,OAAW,KAAM,EAAE,CAAC,EACpG,UAAU,SAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,YAAY,SACZ,MAAO,EAAY,MAAM,EAAI,GAC7B,SAAU,AAAC,GAAM,EAAe,IAAS,CAAE,EAAH,CAAM,CAAI,CAAE,OAAQ,EAAE,MAAM,CAAC,KAAK,OAAI,EAAW,KAAM,CAAE,CAAC,GAClG,UAAU,SAEZ,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,WAAgC,IAAzB,EAAY,QAAQ,CAAiB,MAAQ,EAAY,QAAQ,CAAC,QAAQ,GACjF,cAAe,AAAC,GAAU,EAAe,IAAS,CAChD,EAD+C,CAC5C,CAAI,CACP,SAAoB,QAAV,OAAkB,EAAsB,SAAV,EACxC,KAAM,EACR,CAAC,YAED,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,qBACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,YAAY,iBAE3B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,WACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,eAAM,eACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,gBAAO,WACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,MAAM,iBAAQ,yBAOlC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,KAAK,CAAA,WACJ,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAC,eACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAC,oBACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAC,aACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAC,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAC,YACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAC,UAAU,sBAAa,iBAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACP,AAAuB,MAAX,MAAM,CACjB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,UACP,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAC,QAAS,EAAG,UAAU,kDAAyC,2BAK5E,EAAY,GAAG,CAAC,AAAC,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,QAAQ,CAAA,WACP,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,UACL,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,oBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,sCAGnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAe,EAAW,WAAW,GACpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kEACZ,EAAW,IAAI,CACf,EAAW,YAAY,EACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,mBAAU,cAGlD,EAAW,WAAW,EACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,EAAW,WAAW,WAMjC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACE,EAAW,QAAQ,CAAC,IAAE,EAAW,MAAM,CACvC,EAAW,KAAK,EACf,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,kCAAwB,IAAE,EAAW,KAAK,SAIhE,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,mBAAW,EAAW,QAAQ,KAE/C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UACR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,EAAW,QAAQ,CAAG,UAAY,uBAC/C,EAAW,QAAQ,CAAG,SAAW,eAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,UAAE,IAAI,KAAK,EAAW,SAAS,EAAE,kBAAkB,KAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAC,UAAU,sBACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,EAAqB,GACpC,MAAM,2BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CAAC,UAAU,cAEnB,CAAC,EAAW,YAAY,EACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,EAAa,GAC5B,MAAM,6BAEN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,sCA1Db,EAAW,EAAE,UAuErC,EAAa,GACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CAAgC,WACpC,CAAC,EAAY,IAAI,GAAI,CAAC,EAAK,EAAD,AAAa,IAAI,EAAI,EAAA,CAAE,CAAI,EAAE,MAAI,IACnE,KAAK,GAAG,CAAC,CAAC,CAAC,EAAY,IAAI,GAAI,CAAC,EAAI,CAAC,EAAK,EAAD,AAAa,IAAI,EAAI,EAAA,CAAE,CAAG,GAAO,OAAK,EAAM,cAExF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,EAAiB,CAAC,EAAY,IAAI,GAAI,CAAC,CAAI,GAC1D,SAAqC,AAA3B,IAAC,EAAY,IAAI,GAAI,CAAC,UACjC,aAGD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACZ,CAAC,EAAY,IAAI,EAAI,CAAC,EAAI,EAAE,MAAI,KAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,EAAiB,CAAC,EAAY,IAAI,GAAI,CAAC,CAAI,GAC1D,SAAU,CAAC,EAAY,IAAI,GAAI,CAAC,EAAK,EAAa,WACnD,kBASR,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,OAAQ,EACR,QAAS,IAAM,GAAmB,GAClC,UA9OoB,CA8OT,IA7OjB,GAAmB,GACnB,GACF,IA+OK,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,OAAQ,CAAC,CAAC,EACV,WAAY,EACZ,QAAS,IAAM,EAAqB,MACpC,UAlPkB,CAkPP,IAjPjB,EAAqB,MACrB,GACF,MAoPF,ECrUA,IAAA,GAAA,EAAA,CAAA,CAAA,QAUA,GAAA,EAAA,CAAA,CAAA,QCaA,GAAA,EAAA,CAAA,CAAA,eAQwE,CAAC,QACvE,CAAM,MACN,CAAI,SACJ,CAAO,CACR,GAqac,CApab,GAAM,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAGlD,EAAE,EACA,CAAC,EAAuB,EAAyB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAG9D,EAAE,EAEA,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IACpB,CAAE,KAAM,CAAmB,CAAE,QAAS,CAAW,CAAE,QAAS,CAAW,CAAE,CAAG,GAA0B,GAAM,IAC5G,CAAE,KAAM,CAAS,CAAE,CAAG,GAAe,CAAE,KAAM,EAAG,KAAM,IAAK,UAAU,CAAK,GAE1E,CAAE,KAAM,CAAe,CAAE,CAAG,GAAqB,CAAE,KAAM,EAAG,KAAM,IAAK,SAAU,EAAK,GAEtF,CAAC,EAAiB,CAAE,QAAS,CAAc,CAAE,CAAC,CRwH7C,CAAA,CQxHgD,CRwHhD,EAAA,WAAA,AAAW,EAAC,GAAmB,CACpC,YAAa,KACX,GAAA,KAAK,CAAC,OAAO,CAAC,kCAChB,EACA,QAAS,AAAC,IACR,QAAQ,KAAK,CAAC,8BAA+B,GAC7C,GAAA,KAAK,CAAC,KAAK,CAAC,8BACd,EACA,eAAgB,CAAC,yBAA0B,cAAc,AAC3D,GQhIM,CAAC,EAAuB,CAAE,QAAS,CAAoB,CAAE,CAAC,CRoIzD,CAAA,CQpI4D,CRoI5D,EAAA,WAAA,AAAW,EAAC,GAAyB,CAC1C,YAAa,KACX,GAAA,KAAK,CAAC,OAAO,CAAC,wCAChB,EACA,QAAS,AAAC,IACR,QAAQ,KAAK,CAAC,oCAAqC,GACnD,GAAA,KAAK,CAAC,KAAK,CAAC,oCACd,EACA,eAAgB,CAAC,yBAA0B,cAAc,AAC3D,GQ3IM,EAAQ,GAAW,aAAa,OAAS,EAAE,CAC3C,EAAc,GAAiB,mBAAmB,aAAe,EAAE,CAEzE,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,GAAuB,EAAM,MAAM,CAAG,EAAG,CAC3C,IAAM,EAAe,EAAoB,sBAAsB,EAAE,iBAAmB,EAAE,CAQtF,EAP2B,EAAM,GAAG,CAAE,AAAD,IACnC,IAAM,EAAW,CAMA,CANa,IAAI,CAAE,AAAD,GAAa,EAAG,IAAI,CAAC,EAAE,GAAK,EAAK,EAAE,EACtE,MAAO,CACL,OAAQ,EAAK,EAAE,CACf,OAAQ,EAAW,EAAS,MAAM,CAAG,IACvC,CACF,GAEF,CACF,EAAG,CAAC,EAAqB,EAAM,EAE/B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,GAAuB,EAAY,MAAM,CAAG,EAAG,CACjD,IAAM,EAAqB,EAAoB,sBAAsB,EAAE,mBAAqB,EAAE,CAQ9F,EAPiC,EAAY,GAAG,CAAC,AAAC,IAChD,IAAM,EAAW,EAAmB,IAAI,CAAE,AAAD,AAMlB,GAN+B,EAAG,UAAU,CAAC,EAAE,GAAK,EAAW,EAAE,EACxF,MAAO,CACL,aAAc,EAAW,EAAE,CAC3B,OAAQ,EAAW,EAAS,MAAM,CAAG,IACvC,CACF,GAEF,CACF,EAAG,CAAC,EAAqB,EAAY,EAsBrC,IAAM,EAAkB,UACtB,IAAM,EAAoB,EACvB,MAAM,CAAC,GAAoB,OAAd,EAAG,MAAM,EACtB,GAAG,CAAC,IAAO,CAAD,AACT,OAAQ,EAAG,MAAM,CACjB,OAAQ,EAAG,MAAM,AACnB,CAAC,GAEG,EAA6B,CACjC,OAAQ,EAAK,EAAE,CACf,YAAa,CACf,EAEA,GAAI,CACF,MAAM,EAAgB,CAAE,UAAW,OAAE,CAAM,CAAE,GAC7C,EAAM,CACJ,MAAO,gBACP,YAAa,CAAC,qBAAqB,EAAE,EAAK,WAAW,EAAI,EAAK,QAAQ,CAAC,gCAAgC,CAAC,CACxG,KAAM,SACR,GACA,GACF,CAAE,MAAO,EAAY,CACnB,EAAM,CACJ,MAAO,gBACP,YAAa,EAAM,OAAO,EAAI,oCAC9B,KAAM,OACR,EACF,CACF,EAEM,EAAwB,UAC5B,IAAM,EAAoB,EACvB,MAAM,CAAC,GAAoB,OAAd,EAAG,MAAM,EACtB,GAAG,CAAC,IAAO,CAAD,AACT,aAAc,EAAG,YAAY,CAC7B,OAAQ,EAAG,MAAM,CACnB,CAAC,EAEG,EAAmC,CACvC,OAAQ,EAAK,EAAE,CACf,YAAa,CACf,EAEA,GAAI,CACF,MAAM,EAAsB,CAAE,UAAW,OAAE,CAAM,CAAE,GACnD,EAAM,CACJ,MAAO,sBACP,YAAa,CAAC,2BAA2B,EAAE,EAAK,WAAW,EAAI,EAAK,QAAQ,CAAC,gCAAgC,CAAC,CAC9G,KAAM,SACR,GACA,GACF,CAAE,MAAO,EAAY,CACnB,EAAM,CACJ,MAAO,gBACP,YAAa,EAAM,OAAO,EAAI,0CAC9B,KAAM,OACR,EACF,CACF,EAEM,EAAU,GAAqB,wBAAwB,QACvD,EAAuB,GAAqB,wBAAwB,sBAAwB,EAAE,CAE9F,EAAkB,EAAgB,MAAM,CAAC,GAAoB,OAAd,EAAG,MAAM,EAAW,MAAM,CACzE,EAAwB,EAAsB,MAAM,CAAC,GAAoB,OAAd,EAAG,MAAM,EAAW,MAAM,CAE3F,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAM,EAAQ,aAAc,WAClC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,uCACvB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,qBACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,sBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,IAAK,GAAM,OAAQ,IAAK,GAAM,aAAe,GAAM,WAChE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,UACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,iBAGpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UAAE,GAAM,aAAe,GAAM,WACzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAE,GAAM,cAK9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,UACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,iBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,eAAe,CAAA,CAAC,UAAU,oCACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAY,WAGhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,iCAClB,GAAS,sBAAwB,SAKxC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,UACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,iBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,eAAe,CAAA,CAAC,UAAU,oCACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,YAAY,wBAG7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,mCAClB,GAAS,wBAA0B,SAK1C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,UACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,iBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,eAAe,CAAA,CAAC,UAAU,oCACzB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,YAAY,CAAA,CAAC,UAAU,YAAY,uBAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,oCAClB,GAAS,2BAA6B,SAK7C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,UACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,iBACpB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,eAAe,CAAA,CAAC,UAAU,oCACzB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,YAAY,kBAGlC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,mBAClB,GAAS,YAAc,IAAI,KAAK,EAAQ,WAAW,EAAE,kBAAkB,GAAK,qBAOvF,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,aAAa,QAAQ,UAAU,iBACnC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,oCAClB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,kBAAQ,mBAExB,EAAkB,GACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,gBAClC,OAIP,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,wBAAc,yBAE9B,EAAwB,GACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,gBAClC,OAIP,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,sBAAY,wBAE7B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,gBAClC,EAAqB,MAAM,SAMlC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,QAAQ,UAAU,sBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,UAAU,CAAA,CAAC,UAAU,uCACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oBACZ,EAAM,GAAG,CAAC,AAAC,IACV,IAAM,EAAa,EAAgB,IAAI,CAAC,GAAM,EAAG,MAAM,GAAK,EAAK,EAAE,EACnE,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAkB,UAAU,mDAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,yBAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAe,EAAK,WAAW,GAC9C,EAAK,YAAY,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,YAAY,UAAU,mBAAU,cAGnD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAiC,EAAK,IAAI,GACxD,EAAK,WAAW,EACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAiC,EAAK,WAAW,MAIpE,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,UAAU,CAAA,CACT,MAAO,GAAY,QAAU,OAC7B,cAAe,AAAC,QAAU,WA9MxB,EA+MA,EAAK,EAAE,CA/MS,EAgNN,SAAV,EAAmB,KAAO,OA/MlD,EAAmB,GACjB,EAAK,GAAG,CAAC,GACP,EAAG,MAAM,GAAK,EACV,CAAE,GAAG,CAAE,QAAE,CAAO,EAChB,KA6Mc,UAAU,uBAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,MAAM,OAAO,GAAI,CAAC,KAAK,EAAE,EAAK,EAAE,CAAC,KAAK,CAAC,GACvD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,CAAC,KAAK,EAAE,EAAK,EAAE,CAAC,KAAK,CAAC,CAAE,UAAU,sCAA6B,YAIjF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,MAAM,QAAQ,GAAI,CAAC,KAAK,EAAE,EAAK,EAAE,CAAC,MAAM,CAAC,GACzD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,CAAC,KAAK,EAAE,EAAK,EAAE,CAAC,MAAM,CAAC,CAChC,UAAU,qDACX,cAIH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,MAAM,OAAO,GAAI,CAAC,KAAK,EAAE,EAAK,EAAE,CAAC,KAAK,CAAC,GACvD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,CAAC,KAAK,EAAE,EAAK,EAAE,CAAC,KAAK,CAAC,CAC/B,UAAU,uDACX,mBA5CC,EAAK,EAAE,CAoDrB,OAIJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,EAAiB,SAAU,WACzC,EAAiB,YAAc,+BAMtC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,cAAc,UAAU,sBACzC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,UAAU,CAAA,CAAC,UAAU,uCACpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oBACZ,EAAY,GAAG,CAAC,AAAC,IAChB,IAAM,EAAa,EAAsB,IAAI,CAAC,GAAM,EAAG,YAAY,GAAK,EAAW,EAAE,EACrF,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAwB,UAAU,mDACjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,2BACf,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAe,EAAW,WAAW,MAEtD,EAAW,WAAW,EACrB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAiC,EAAW,WAAW,GAExE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,iDACb,EAAW,QAAQ,CAAC,IAAE,EAAW,MAAM,CACvC,EAAW,KAAK,EAAI,CAAC,CAAC,EAAE,EAAW,KAAK,CAAA,CAAE,IAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,mBAChC,EAAW,QAAQ,SAK1B,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,UAAU,CAAA,CACT,MAAO,GAAY,QAAU,OAC7B,cAAe,AAAC,QAAU,WA/QlB,EAgRN,EAAW,EAAE,CAhRe,EAiRlB,SAAV,EAAmB,KAAO,OAhRlD,EAAyB,GACvB,EAAK,GAAG,CAAC,GACP,EAAG,YAAY,GAAK,EAChB,CAAE,GAAG,CAAE,QAAE,CAAO,EAChB,KA8Qc,UAAU,uBAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,MAAM,OAAO,GAAI,CAAC,KAAK,EAAE,EAAW,EAAE,CAAC,KAAK,CAAC,GAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAS,CAAC,KAAK,EAAE,EAAW,EAAE,CAAC,KAAK,CAAC,CAAE,UAAU,sCAA6B,YAIvF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,MAAM,QAAQ,GAAI,CAAC,KAAK,EAAE,EAAW,EAAE,CAAC,MAAM,CAAC,GAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,CAAC,KAAK,EAAE,EAAW,EAAE,CAAC,MAAM,CAAC,CACtC,UAAU,qDACX,aAIH,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,MAAM,OAAO,GAAI,CAAC,KAAK,EAAE,EAAW,EAAE,CAAC,KAAK,CAAC,GAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAS,CAAC,KAAK,EAAE,EAAW,EAAE,CAAC,KAAK,CAAC,CACrC,UAAU,uDACX,mBAjDC,EAAW,EAAE,CAyD3B,OAIJ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAS,EAAuB,SAAU,WAC/C,EAAuB,YAAc,qCAM5C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAM,YAAY,UAAU,qBACvC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,UAAU,CAAA,CAAC,UAAU,uCACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAqB,GAAG,CAAC,AAAC,GACzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAA2B,UAAU,eACpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBAAe,EAAG,UAAU,CAAC,WAAW,GACvD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACZ,EAAG,UAAU,CAAC,QAAQ,CAAC,IAAE,EAAG,UAAU,CAAC,MAAM,CAC7C,EAAG,UAAU,CAAC,KAAK,EAAI,CAAC,CAAC,EAAE,EAAG,UAAU,CAAC,KAAK,CAAA,CAAE,IAEnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAuB,UAAd,EAAG,MAAM,CAAe,UAAY,uBACjD,EAAG,MAAM,GAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,UAAU,UAAU,mBAChC,EAAG,MAAM,GAEX,EAAG,QAAQ,EACV,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,0CAAgC,aACnC,EAAG,QAAQ,CAAC,WAAW,aAjBpC,EAAG,UAAU,CAAC,EAAE,GA0B3B,AAAgC,MAAX,MAAM,EAC1B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mDAA0C,gEAW3E,ED1PM,GAAqD,CAAC,MAAE,CAAI,CAAE,IAClE,GAAM,CAAE,KAAM,CAAmB,SAAE,CAAO,CAAE,CAAG,GAA0B,EAAK,EAAE,EAEhF,GAAI,EACF,MACE,CAFS,AAET,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,sBAAa,CAAC,GAAG,CAAC,CAAC,EAAG,IACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAY,UAAU,kCACrB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,qBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,uBAFZ,MAMd,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAA,GACV,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,mBAK1B,IAAM,EAAU,GAAqB,wBAAwB,QACvD,EAAkB,GAAqB,wBAAwB,iBAAmB,EAAE,CACpF,EAAoB,GAAqB,wBAAwB,mBAAqB,EAAE,CAE9F,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,+EACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACZ,GAAS,sBAAwB,IAEpC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,aAEjD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iFACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACZ,GAAS,wBAA0B,IAEtC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,0BAEjD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,kFACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,GAAS,2BAA6B,IAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCAAgC,4BAInD,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAA,GAGV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,+DACZ,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,YAAY,mBAG7B,AAA2B,MAAX,MAAM,CACrB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,sBAE7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAgB,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,GAChC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,4GAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,mBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,yBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,6BAGpB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAW,IAAI,CAAC,WAAW,MAEjE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAA+B,UAAtB,EAAW,MAAM,CAAe,UAAY,uBACzD,EAAW,MAAM,KAZf,EAAW,EAAE,GAgBrB,EAAgB,MAAM,CAAG,GACxB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,2DAAiD,IAC1D,EAAgB,MAAM,CAAG,EAAE,uBAQvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,+DACZ,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,UAAU,YAAY,wBAGP,IAA7B,EAAkB,MAAM,CACvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,mCAE7C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACZ,EAAkB,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,GAClC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,4GAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,mBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,wBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,UAAU,+BAG3B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAW,UAAU,CAAC,WAAW,MAEvE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAA+B,UAAtB,EAAW,MAAM,CAAe,UAAY,uBACzD,EAAW,MAAM,KAZf,EAAW,EAAE,GAgBrB,EAAkB,MAAM,CAAG,GAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,2DAAiD,IAC1D,EAAkB,MAAM,CAAG,EAAE,+BAQ/C,KAxT8D,CAAC,WAAE,EAAY,EAAE,CAAE,IAC/E,GAAM,CAAC,EAAY,EAAc,CAAG,CAAA,AAyTvB,EAzTuB,EAAA,QAAQ,AAAR,EAAS,IACvC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MAEhD,CAAE,KAAM,CAAS,CAAE,QAAS,CAAY,CAAE,CAAG,EAAe,CAChE,OAAQ,EACR,KAAM,EACN,KAAM,EACR,GAEM,EAAQ,GAAW,aAAa,OAAS,EAAE,QAM7C,AAAJ,EAEI,CAAA,EAAA,EAAA,IAAA,EAAC,CAFa,KAEb,CAAI,UAAW,CAAC,sCAAsC,EAAE,EAAA,CAAW,WAClE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,aACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,gBAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,qBACpB,oCAAa,CAAC,GAAG,CAAC,CAAC,EAAG,IACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAY,UAAU,wCACrB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,2BACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,kBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,uBAJd,SAUhB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,aACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,gBAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,wBAQ5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,CAAA,EAAG,EAAA,CAAW,WAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDAEb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,gBACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,2DAKnB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBAErB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CAAC,UAAU,qFAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,KAAK,OACL,YAAY,kBACZ,MAAO,EACP,SAAU,AAAC,GAAM,EAAc,EAAE,MAAM,CAAC,KAAK,EAC7C,UAAU,aAKd,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,UAAU,CAAA,CAAC,UAAU,qBACF,IAAjB,EAAM,MAAM,CACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACZ,EAAa,uCAAyC,wBAGzD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,QAAS,IAAM,CAxEjC,EAwEkD,IAChC,UAzEF,AAyEa,CAAC,gEAAgE,EAC1E,GAAc,KAAO,EAAK,EAAE,CAAG,sCAAwC,GAAA,CACvE,UAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,qBACf,EAAK,MAAM,CACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,IAAK,EAAK,MAAM,CAAE,IAAK,EAAK,WAAW,EAAI,EAAK,QAAQ,GAErE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,UACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,gBAItB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wCACV,EAAK,WAAW,EAAI,EAAK,QAAQ,GAEpC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAA0C,EAAK,KAAK,MAEnE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CACJ,QAAuB,UAAd,EAAK,IAAI,CAAe,UAAY,YAC7C,UAAU,oBAET,EAAK,IAAI,OAGK,IAAlB,EAAK,QAAQ,EACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,QAAQ,cAAc,UAAU,wBAAe,oBAhCvD,EAAK,EAAE,aA+C1B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,UACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UACP,EAAe,4BAA8B,iBAEhD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACb,EACG,CAAC,iCAAiC,EAAE,EAAa,WAAW,EAAI,EAAa,QAAQ,CAAA,CAAE,CACvF,+DAIP,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAS,IAAM,EAAgB,GAC/B,QAAQ,YACR,KAAK,eAEL,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,UAAU,iBAAiB,wBAOhD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACT,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAA0B,KAAM,IAEjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8BACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,IAAI,CAAA,CAAC,UAAU,4CAChB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oCAA2B,qBACzC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAqC,sFAU3D,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,OAAQ,CAAC,CAAC,EACV,KAAM,EACN,QAAS,IAAM,EAAgB,UAKzC,KV9LsD,CAAC,WAAE,EAAY,EAAE,CAAE,IACvE,IAAM,EAAO,CACX,CACE,EAyDS,IAzDF,QACP,MAAO,QACP,KAAM,EAAA,KAAK,CACX,UAAW,GACX,YAAa,2CACf,EACA,CACE,MAAO,cACP,MAAO,cACP,KAAM,EAAA,GAAG,CACT,UAAW,GACX,YAAa,sCACf,EACA,CACE,MAAO,cACP,MAAO,mBACP,KAAM,GAAA,WAAW,CACjB,UAAW,GACX,YAAa,uCACf,EACD,CAED,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,WACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,WACH,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,UAAC,iCACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UAAC,4DAInB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,aAAa,QAAQ,UAAU,mBACnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,mCACjB,EAAK,GAAG,CAAC,AAAC,GACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAiB,MAAO,EAAI,KAAK,CAAE,UAAU,oCACvD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAI,IAAI,CAAA,CAAC,UAAU,YACnB,EAAI,KAAK,GAFM,EAAI,KAAK,KAO9B,EAAK,GAAG,CAAC,AAAC,GACT,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAiB,MAAO,EAAI,KAAK,CAAE,UAAU,iBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,EAAI,WAAW,KAE/D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAI,SAAS,CAAA,CAAA,KAJE,EAAI,KAAK,YAYzC,EflDe,SAAS,KACtB,GAAM,MAAE,CAAI,SAAE,CAAO,iBAAE,CAAe,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAC5C,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAmB,eAgB7D,CAbA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,AAAC,GAAY,EAGN,CAAC,GAAW,EAHP,CAG0B,GAAM,KAHd,MAG2B,SAAS,AACpE,QAAQ,GAAG,CAAC,oCAAqC,CAC/C,SAAU,GAAM,QAClB,IALA,QAAQ,GAAG,CAAC,2DACZ,EAAO,IAAI,CAAC,UAOhB,EAAG,CAAC,EAAS,EAAiB,EAAM,EAAO,EAGvC,GACK,CAAA,EAAA,EAAA,CADI,EACJ,EAAC,GAAA,CAAa,QAAQ,2BAI3B,GAAmB,GAAM,WAAa,QACjC,CAD0C,AAC1C,EAAA,EAAA,GAAA,EAAC,GAAA,CAAa,SAAU,GAAM,SAAU,aAAa,UAIzD,EAMH,CAAA,EAAA,EAAA,IAAA,EAAC,IANmB,EAMnB,CAAI,UAAU,6CAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,UAAW,EACX,YAAa,IAIA,UAAd,GAAyB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAA,GACZ,SAAd,GAAwB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAA,MAdrB,IAiBX"}