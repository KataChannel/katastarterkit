module.exports=[584208,a=>{"use strict";var b=a.i(621093);a.s(["Edit3",()=>b.default])},878931,a=>{"use strict";var b=a.i(751021);a.s(["File",()=>b.default])},731630,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(584208),e=a.i(558767),f=a.i(147745),g=a.i(571698),h=a.i(772429),i=a.i(755820),j=a.i(202979),k=a.i(951369),l=a.i(478184),m=a.i(441405),n=a.i(941502);function o({open:a,onOpenChange:d,onSelect:e,allowMultiple:f=!1,fileTypes:g,allowUrl:o=!0}){let[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("browse");return(0,b.jsx)(i.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(i.DialogContent,{className:"max-w-5xl h-[80vh] flex flex-col",children:[(0,b.jsx)(i.DialogHeader,{children:(0,b.jsx)(i.DialogTitle,{children:"Select File"})}),(0,b.jsxs)(k.Tabs,{value:t,onValueChange:a=>u(a),className:"flex-1 flex flex-col",children:[(0,b.jsxs)(k.TabsList,{className:"grid w-full grid-cols-2",children:[(0,b.jsx)(k.TabsTrigger,{value:"browse",children:"Browse Files"}),o&&(0,b.jsx)(k.TabsTrigger,{value:"url",children:"Enter URL"})]}),(0,b.jsx)(k.TabsContent,{value:"browse",className:"flex-1 overflow-hidden",children:(0,b.jsx)("div",{className:"h-full",children:(0,b.jsx)(h.FileManager,{onSelect:a=>{q(a)},allowMultiple:f,fileTypes:g})})}),o&&(0,b.jsx)(k.TabsContent,{value:"url",className:"flex-1",children:(0,b.jsxs)("div",{className:"space-y-4 p-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"url-input",children:"Image URL"}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(n.Link,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,b.jsx)(l.Input,{id:"url-input",placeholder:"https://example.com/image.jpg",value:r,onChange:a=>s(a.target.value),className:"pl-10"})]})}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Enter a direct URL to an image file"})]}),r&&(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-2",children:"Preview:"}),(0,b.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-md aspect-video flex items-center justify-center overflow-hidden",children:(0,b.jsx)("img",{src:r,alt:"Preview",className:"max-w-full max-h-full object-contain",onError:a=>{a.target.style.display="none"}})})]})]})})]}),(0,b.jsxs)(i.DialogFooter,{children:[(0,b.jsx)(j.Button,{variant:"outline",onClick:()=>{d(!1),q(null),s("")},children:"Cancel"}),(0,b.jsx)(j.Button,{onClick:()=>{"browse"===t&&p?(e(p),d(!1),q(null)):"url"===t&&r.trim()&&(e(r.trim()),d(!1),s(""))},disabled:"browse"===t&&!p||"url"===t&&!r.trim(),children:"Select"})]})]})})}var p=a.i(268684);a.s(["ImageBlock",0,({block:a,isEditable:h=!1,onUpdate:i,onDelete:k})=>{let[l,m]=(0,c.useState)(!1),[n,q]=(0,c.useState)(a.content),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1);return l&&h?(0,b.jsx)("div",{className:"relative border-2 border-blue-500 rounded-lg p-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Chọn Hình Ảnh"}),(0,b.jsxs)(j.Button,{type:"button",variant:"outline",onClick:()=>u(!0),className:"w-full",children:[(0,b.jsx)(g.Image,{className:"w-4 h-4 mr-2"}),"Chọn từ thư viện hoặc nhập URL"]}),n.src&&(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)("img",{src:n.src,alt:"Preview",className:"max-w-full h-32 object-contain rounded border"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Hoặc nhập trực tiếp URL hình ảnh"}),(0,b.jsx)("input",{type:"url",value:n.src||"",onChange:a=>q(b=>({...b,src:a.target.value})),className:"w-full p-2 border rounded",placeholder:"https://example.com/image.jpg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Alt Text"}),(0,b.jsx)("input",{type:"text",value:n.alt||"",onChange:a=>q(b=>({...b,alt:a.target.value})),className:"w-full p-2 border rounded",placeholder:"Mô tả hình ảnh..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Caption (Tùy chọn)"}),(0,b.jsx)("input",{type:"text",value:n.caption||"",onChange:a=>q(b=>({...b,caption:a.target.value})),className:"w-full p-2 border rounded",placeholder:"Chú thích hình ảnh..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Kích Thước Hình Ảnh"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Chiều rộng (px)"}),(0,b.jsx)("input",{type:"number",value:n.width||"",onChange:a=>q(b=>({...b,width:parseInt(a.target.value)||void 0})),className:"w-full p-2 border rounded text-sm",placeholder:"Auto",min:"1",max:"2000"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Chiều cao (px)"}),(0,b.jsx)("input",{type:"number",value:n.height||"",onChange:a=>q(b=>({...b,height:parseInt(a.target.value)||void 0})),className:"w-full p-2 border rounded text-sm",placeholder:"Auto",min:"1",max:"2000"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Object Fit"}),(0,b.jsxs)("select",{value:n.objectFit||"cover",onChange:a=>q(b=>({...b,objectFit:a.target.value})),className:"w-full p-2 border rounded text-sm",children:[(0,b.jsx)("option",{value:"cover",children:"Cover"}),(0,b.jsx)("option",{value:"contain",children:"Contain"}),(0,b.jsx)("option",{value:"fill",children:"Fill"})]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>{i?.(n,a.style),m(!1)},className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:"Save"}),(0,b.jsx)("button",{onClick:()=>{q(a.content),m(!1)},className:"px-3 py-1 bg-gray-500 text-white rounded text-sm hover:bg-gray-600",children:"Cancel"})]})]})}):n.src?(0,b.jsxs)("div",{className:`relative group ${h?"hover:ring-2 hover:ring-blue-300":""}`,children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("img",{src:n.src,alt:n.alt||"",style:{width:n.width?`${n.width}px`:"auto",height:n.height?`${n.height}px`:"auto",objectFit:n.objectFit||"cover",maxWidth:"100%"},className:"mx-auto rounded-lg"}),n.caption&&(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-600 italic",children:n.caption})]}),h&&(0,b.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsxs)("div",{className:"flex gap-1",children:[(0,b.jsx)("button",{onClick:()=>m(!0),className:"p-1 bg-blue-500 text-white rounded hover:bg-blue-600",title:"Edit",children:(0,b.jsx)(d.Edit3,{size:12})}),(0,b.jsx)("button",{onClick:k,className:"p-1 bg-red-500 text-white rounded hover:bg-red-600",title:"Delete",children:(0,b.jsx)(e.Trash2,{size:12})})]})}),(0,b.jsx)(o,{open:t,onOpenChange:u,onSelect:a=>{"string"==typeof a?q(b=>({...b,src:a})):q(b=>({...b,src:a.url,alt:a.originalName}))},fileTypes:[p.FileType.IMAGE],allowUrl:!0})]}):(0,b.jsxs)("div",{className:`relative group border-2 border-dashed border-gray-300 rounded-lg p-8 text-center ${h?"hover:ring-2 hover:ring-blue-300 cursor-pointer":""}`,onClick:()=>h&&m(!0),children:[(0,b.jsx)(f.Upload,{className:"mx-auto mb-2 text-gray-400",size:48}),(0,b.jsx)("p",{className:"text-gray-500",children:"Click to add an image"}),h&&(0,b.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)("button",{onClick:a=>{a.stopPropagation(),k?.()},className:"p-1 bg-red-500 text-white rounded hover:bg-red-600",title:"Delete",children:(0,b.jsx)(e.Trash2,{size:12})})})]})}],731630)}];

//# sourceMappingURL=_cdef06bb._.js.map