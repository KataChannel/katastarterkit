module.exports=[558767,a=>{"use strict";var b=a.i(158464);a.s(["Trash2",()=>b.default])},687649,a=>{"use strict";var b=a.i(855918);a.s(["Edit",()=>b.default])},772451,a=>{"use strict";var b=a.i(321248);let c=a.i(651332).forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:`animate-pulse rounded-md bg-gray-200 ${a||""}`,...c}));c.displayName="Skeleton",a.s(["Skeleton",()=>c])},473515,a=>{"use strict";var b=a.i(597353);a.s(["FileText",()=>b.default])},370477,a=>{"use strict";var b=a.i(651332);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},376946,a=>{"use strict";var b=a.i(651332),c=a.i(372123),d=a.i(321248),e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f=b.forwardRef((a,b)=>(0,d.jsx)(c.Primitive.span,{...a,ref:b,style:{...e,...a.style}}));f.displayName="VisuallyHidden",a.s(["Root",()=>f,"VISUALLY_HIDDEN_STYLES",()=>e,"VisuallyHidden",()=>f])},785903,a=>{"use strict";var b=a.i(196915);a.s(["Eye",()=>b.default])},681768,a=>{"use strict";var b=a.i(872466);a.s(["Filter",()=>b.default])},607226,a=>{"use strict";var b=a.i(419259);a.s(["UserPlus",()=>b.default])},723989,a=>{"use strict";var b=a.i(699665);a.s(["MoreVertical",()=>b.default])},730705,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(194296);let e=c.createContext({}),f=({children:a,open:c,onOpenChange:d})=>c?(0,b.jsx)(e.Provider,{value:{onOpenChange:d},children:a}):null,g=c.forwardRef(({className:a,children:d,asChild:e,...f},g)=>e&&c.isValidElement(d)?c.cloneElement(d,{ref:g,...f}):(0,b.jsx)("button",{ref:g,className:a,...f,children:d}));g.displayName="AlertDialogTrigger";let h=c.forwardRef(({className:a,...e},f)=>{let[g,h]=c.useState(!1);if(c.useEffect(()=>(h(!0),()=>h(!1)),[]),!g)return null;let i=(0,b.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 pointer-events-auto",onClick:a=>{a.target,a.currentTarget},children:(0,b.jsx)("div",{ref:f,className:`w-full max-w-lg p-6 bg-white rounded-lg shadow-lg pointer-events-auto ${a||""}`,onClick:a=>a.stopPropagation(),...e})});return(0,d.createPortal)(i,document.body)});h.displayName="AlertDialogContent";let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:`flex flex-col space-y-2 text-center sm:text-left ${a||""}`,...c}));i.displayName="AlertDialogHeader";let j=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{ref:d,className:`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 ${a||""}`,...c}));j.displayName="AlertDialogFooter";let k=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("h2",{ref:d,className:`text-lg font-semibold ${a||""}`,...c}));k.displayName="AlertDialogTitle";let l=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("p",{ref:d,className:`text-sm text-gray-500 ${a||""}`,...c}));l.displayName="AlertDialogDescription";let m=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("button",{ref:d,className:`inline-flex h-10 items-center justify-center rounded-md bg-slate-900 px-4 py-2 text-sm font-semibold text-slate-50 transition-colors hover:bg-slate-900/90 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 ${a||""}`,...c}));m.displayName="AlertDialogAction";let n=c.forwardRef(({className:a,onClick:d,...f},g)=>{let{onOpenChange:h}=c.useContext(e);return(0,b.jsx)("button",{ref:g,onClick:a=>{d?.(a),a.defaultPrevented||h?.(!1)},className:`inline-flex h-10 items-center justify-center rounded-md border border-slate-200 bg-transparent px-4 py-2 text-sm font-semibold transition-colors hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 ${a||""}`,...f})});n.displayName="AlertDialogCancel",a.s(["AlertDialog",()=>f,"AlertDialogAction",()=>m,"AlertDialogCancel",()=>n,"AlertDialogContent",()=>h,"AlertDialogDescription",()=>l,"AlertDialogFooter",()=>j,"AlertDialogHeader",()=>i,"AlertDialogTitle",()=>k,"AlertDialogTrigger",()=>g])},920283,a=>{"use strict";var b=a.i(321248),c=a.i(651332);let d=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:d,className:`w-full caption-bottom text-sm ${a||""}`,...c})}));d.displayName="Table";let e=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("thead",{ref:d,className:`[&_tr]:border-b ${a||""}`,...c}));e.displayName="TableHeader";let f=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tbody",{ref:d,className:`[&_tr:last-child]:border-0 ${a||""}`,...c}));f.displayName="TableBody",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tfoot",{ref:d,className:`border-t bg-gray-100/50 font-medium [&>tr]:last:border-b-0 ${a||""}`,...c})).displayName="TableFooter";let g=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("tr",{ref:d,className:`border-b transition-colors hover:bg-gray-100/50 data-[state=selected]:bg-gray-100 ${a||""}`,...c}));g.displayName="TableRow";let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("th",{ref:d,className:`h-12 px-4 text-left align-middle font-medium text-gray-500 [&:has([role=checkbox])]:pr-0 ${a||""}`,...c}));h.displayName="TableHead";let i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("td",{ref:d,className:`p-4 align-middle [&:has([role=checkbox])]:pr-0 ${a||""}`,...c}));i.displayName="TableCell",c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("caption",{ref:d,className:`mt-4 text-sm text-gray-500 ${a||""}`,...c})).displayName="TableCaption",a.s(["Table",()=>d,"TableBody",()=>f,"TableCell",()=>i,"TableHead",()=>h,"TableHeader",()=>e,"TableRow",()=>g])},418505,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(285439),e=a.i(975780),f=a.i(202979),g=a.i(478184),h=a.i(293470),i=a.i(144932),j=a.i(920283),k=a.i(730705),l=a.i(772451),m=a.i(234211),n=a.i(358054),o=a.i(607226),p=a.i(629432),q=a.i(681768),r=a.i(723989),s=a.i(687649),t=a.i(558767),u=a.i(785903),v=a.i(473515),w=a.i(439889),x=a.i(751075);function y(){let[a,y]=(0,c.useState)(""),[z,A]=(0,c.useState)("all"),[B,C]=(0,c.useState)("all"),[D,E]=(0,c.useState)("all"),[F,G]=(0,c.useState)(null),{toast:H}=(0,m.useToast)(),{employees:I,loading:J,total:K,hasMore:L,loadMore:M,refetch:N}=(0,d.useEmployeeProfiles)({department:"all"===z?void 0:z||void 0,position:"all"===B?void 0:B||void 0,isActive:"all"===D?void 0:"active"===D,take:20}),{deleteEmployeeProfile:O,loading:P}=(0,d.useDeleteEmployeeProfile)(),Q=async()=>{if(F)try{let a=await O(F);a?.success&&(H({title:"Thành công",description:a.message,type:"success"}),N())}catch(a){H({title:"Lỗi",description:a.message||"Không thể xóa nhân viên",type:"error"})}finally{G(null)}},R=I.filter(b=>b.fullName.toLowerCase().includes(a.toLowerCase())||b.employeeCode.toLowerCase().includes(a.toLowerCase())||b.user?.email?.toLowerCase().includes(a.toLowerCase()));return(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[(0,b.jsx)(n.Users,{className:"mr-3 h-8 w-8"}),"Danh sách nhân viên"]}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Quản lý thông tin ",K," nhân viên trong hệ thống"]})]}),(0,b.jsx)(w.default,{href:"/admin/hr/employee/new",children:(0,b.jsxs)(f.Button,{children:[(0,b.jsx)(o.UserPlus,{className:"mr-2 h-4 w-4"}),"Thêm nhân viên mới"]})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center text-lg",children:[(0,b.jsx)(q.Filter,{className:"mr-2 h-5 w-5"}),"Bộ lọc"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(p.Search,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(g.Input,{placeholder:"Tìm kiếm theo tên, mã NV...",value:a,onChange:a=>y(a.target.value),className:"pl-8"})]}),(0,b.jsxs)(i.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Phòng ban"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"Tất cả phòng ban"}),(0,b.jsx)(i.SelectItem,{value:"IT",children:"IT"}),(0,b.jsx)(i.SelectItem,{value:"HR",children:"HR"}),(0,b.jsx)(i.SelectItem,{value:"Sales",children:"Sales"}),(0,b.jsx)(i.SelectItem,{value:"Marketing",children:"Marketing"}),(0,b.jsx)(i.SelectItem,{value:"Finance",children:"Finance"})]})]}),(0,b.jsxs)(i.Select,{value:B,onValueChange:C,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Chức vụ"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"Tất cả chức vụ"}),(0,b.jsx)(i.SelectItem,{value:"Developer",children:"Developer"}),(0,b.jsx)(i.SelectItem,{value:"Manager",children:"Manager"}),(0,b.jsx)(i.SelectItem,{value:"Intern",children:"Intern"}),(0,b.jsx)(i.SelectItem,{value:"Senior",children:"Senior"})]})]}),(0,b.jsxs)(i.Select,{value:D,onValueChange:E,children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Trạng thái"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"all",children:"Tất cả trạng thái"}),(0,b.jsx)(i.SelectItem,{value:"active",children:"Đang làm việc"}),(0,b.jsx)(i.SelectItem,{value:"inactive",children:"Không hoạt động"})]})]})]})})]}),(0,b.jsx)(e.Card,{children:(0,b.jsx)(e.CardContent,{className:"p-0",children:J?(0,b.jsx)("div",{className:"p-6 space-y-2",children:[1,2,3,4,5].map(a=>(0,b.jsx)(l.Skeleton,{className:"h-16 w-full"},a))}):0===R.length?(0,b.jsxs)("div",{className:"text-center py-12 text-muted-foreground",children:[(0,b.jsx)(n.Users,{className:"mx-auto h-12 w-12 mb-2"}),(0,b.jsx)("p",{children:"Không tìm thấy nhân viên nào"})]}):(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableHead,{children:"Mã NV"}),(0,b.jsx)(j.TableHead,{children:"Họ tên"}),(0,b.jsx)(j.TableHead,{children:"Email"}),(0,b.jsx)(j.TableHead,{children:"Phòng ban"}),(0,b.jsx)(j.TableHead,{children:"Chức vụ"}),(0,b.jsx)(j.TableHead,{children:"Ngày vào"}),(0,b.jsx)(j.TableHead,{children:"Trạng thái"}),(0,b.jsx)(j.TableHead,{className:"text-right",children:"Thao tác"})]})}),(0,b.jsx)(j.TableBody,{children:R.map(a=>(0,b.jsxs)(j.TableRow,{children:[(0,b.jsx)(j.TableCell,{className:"font-medium",children:a.employeeCode}),(0,b.jsx)(j.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[a.user?.avatar&&(0,b.jsx)("img",{src:a.user.avatar,alt:a.fullName,className:"w-8 h-8 rounded-full"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.fullName}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.displayName||a.user?.username})]})]})}),(0,b.jsx)(j.TableCell,{className:"text-sm",children:a.user?.email}),(0,b.jsx)(j.TableCell,{children:a.department||"-"}),(0,b.jsx)(j.TableCell,{children:a.position||"-"}),(0,b.jsx)(j.TableCell,{children:a.startDate?new Date(a.startDate).toLocaleDateString("vi-VN"):"-"}),(0,b.jsx)(j.TableCell,{children:(0,b.jsx)(h.Badge,{variant:a.isActive?"default":"secondary",children:a.isActive?"Đang làm việc":"Không hoạt động"})}),(0,b.jsx)(j.TableCell,{className:"text-right",children:(0,b.jsxs)(x.DropdownMenu,{children:[(0,b.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",children:(0,b.jsx)(r.MoreVertical,{className:"h-4 w-4"})})}),(0,b.jsxs)(x.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(x.DropdownMenuLabel,{children:"Thao tác"}),(0,b.jsx)(x.DropdownMenuSeparator,{}),(0,b.jsx)(w.default,{href:`/admin/hr/employee/${a.id}`,children:(0,b.jsxs)(x.DropdownMenuItem,{children:[(0,b.jsx)(u.Eye,{className:"mr-2 h-4 w-4"}),"Xem chi tiết"]})}),(0,b.jsx)(w.default,{href:`/admin/hr/employee/${a.id}/edit`,children:(0,b.jsxs)(x.DropdownMenuItem,{children:[(0,b.jsx)(s.Edit,{className:"mr-2 h-4 w-4"}),"Chỉnh sửa"]})}),(0,b.jsx)(w.default,{href:`/admin/hr/employee/${a.id}/documents`,children:(0,b.jsxs)(x.DropdownMenuItem,{children:[(0,b.jsx)(v.FileText,{className:"mr-2 h-4 w-4"}),"Tài liệu"]})}),(0,b.jsx)(x.DropdownMenuSeparator,{}),(0,b.jsxs)(x.DropdownMenuItem,{className:"text-red-600",onClick:()=>G(a.id),children:[(0,b.jsx)(t.Trash2,{className:"mr-2 h-4 w-4"}),"Xóa"]})]})]})})]},a.id))})]})})}),L&&(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(f.Button,{onClick:M,variant:"outline",disabled:J,children:"Tải thêm"})}),(0,b.jsx)(k.AlertDialog,{open:!!F,onOpenChange:()=>G(null),children:(0,b.jsxs)(k.AlertDialogContent,{children:[(0,b.jsxs)(k.AlertDialogHeader,{children:[(0,b.jsx)(k.AlertDialogTitle,{children:"Xác nhận xóa nhân viên"}),(0,b.jsx)(k.AlertDialogDescription,{children:"Hành động này không thể hoàn tác. Bạn có chắc chắn muốn xóa nhân viên này không?"})]}),(0,b.jsxs)(k.AlertDialogFooter,{children:[(0,b.jsx)(k.AlertDialogCancel,{children:"Hủy"}),(0,b.jsx)(k.AlertDialogAction,{onClick:Q,disabled:P,children:P?"Đang xóa...":"Xóa"})]})]})})]})}a.s(["default",()=>y])}];

//# sourceMappingURL=_fad69f0a._.js.map