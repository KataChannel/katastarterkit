module.exports=[194260,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(285439),e=a.i(975780),f=a.i(293470),g=a.i(772451),h=a.i(785694),i=a.i(891026),j=a.i(57597),k=a.i(358054),l=a.i(607226),m=a.i(808979),n=a.i(128348),o=a.i(992775),p=a.i(147678),q=a.i(703540),r=a.i(451825),s=a.i(400438);function t(){let{statistics:a,loading:t}=(0,d.useHRStatistics)(),{employees:u,loading:v}=(0,d.useEmployeeProfiles)({take:1e3}),{checklists:w,loading:x}=(0,d.useOnboardingChecklists)({take:1e3}),{processes:y,loading:z}=(0,d.useOffboardingProcesses)({take:1e3}),A=(0,c.useMemo)(()=>{let a=new Map;return u.forEach(b=>{let c=b.department||"Không xác định";a.set(c,(a.get(c)||0)+1)}),Array.from(a.entries()).map(([a,b])=>({name:a,count:b})).sort((a,b)=>b.count-a.count)},[u]),B=(0,c.useMemo)(()=>{let a=new Map;return u.forEach(b=>{let c=b.position||"Không xác định";a.set(c,(a.get(c)||0)+1)}),Array.from(a.entries()).map(([a,b])=>({name:a,count:b})).sort((a,b)=>b.count-a.count).slice(0,10)},[u]),C=(0,c.useMemo)(()=>{let a=new Map;return u.forEach(b=>{let c=b.contractType||"Không xác định",d="FULL_TIME"===c?"Toàn thời gian":"PART_TIME"===c?"Bán thời gian":"CONTRACT"===c?"Hợp đồng":"INTERNSHIP"===c?"Thực tập":"PROBATION"===c?"Thử việc":"Khác";a.set(d,(a.get(d)||0)+1)}),Array.from(a.entries()).map(([a,b])=>({name:a,count:b}))},[u]),D=(0,c.useMemo)(()=>{let a=w.length,b=w.filter(a=>a.status===s.OnboardingStatus.COMPLETED).length,c=w.filter(a=>a.status===s.OnboardingStatus.IN_PROGRESS).length;return{total:a,completed:b,inProgress:c,pending:w.filter(a=>a.status===s.OnboardingStatus.PENDING).length,cancelled:w.filter(a=>a.status===s.OnboardingStatus.CANCELLED).length,completionRate:a>0?Math.round(b/a*100):0,avgProgress:a>0?Math.round(w.reduce((a,b)=>a+b.progressPercentage,0)/a):0}},[w]),E=(0,c.useMemo)(()=>{let a=y.length,b=y.filter(a=>a.status===s.OffboardingStatus.COMPLETED).length,c=y.filter(a=>a.status===s.OffboardingStatus.IN_PROGRESS).length,d=y.filter(a=>a.status===s.OffboardingStatus.PENDING_APPROVAL).length,e=new Map;return y.forEach(a=>{let b="RESIGNATION"===a.exitType?"Từ chức":"TERMINATION"===a.exitType?"Chấm dứt HĐ":"RETIREMENT"===a.exitType?"Nghỉ hưu":"CONTRACT_END"===a.exitType?"Hết hợp đồng":"Thỏa thuận chung";e.set(b,(e.get(b)||0)+1)}),{total:a,completed:b,inProgress:c,pendingApproval:d,exitTypes:Array.from(e.entries()).map(([a,b])=>({name:a,count:b}))}},[y]),F=(0,c.useMemo)(()=>{let a=[],b=new Date;for(let c=5;c>=0;c--){let d=new Date(b.getFullYear(),b.getMonth()-c,1),e=d.toLocaleDateString("vi-VN",{month:"short",year:"numeric"}),f=w.filter(a=>{let b=new Date(a.startDate);return b.getMonth()===d.getMonth()&&b.getFullYear()===d.getFullYear()}).length,g=y.filter(a=>{let b=new Date(a.lastWorkingDay);return b.getMonth()===d.getMonth()&&b.getFullYear()===d.getFullYear()}).length;a.push({month:e,onboarding:f,offboarding:g})}return a},[w,y]);return t||v||x||z?(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsx)(g.Skeleton,{className:"h-10 w-64"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>(0,b.jsx)(g.Skeleton,{className:"h-32"},a))}),(0,b.jsx)(g.Skeleton,{className:"h-96"})]}):(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[(0,b.jsx)(i.BarChart3,{className:"mr-3 h-8 w-8"}),"Báo cáo & Phân tích"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Thống kê và phân tích toàn diện về nhân sự"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Tổng nhân viên"}),(0,b.jsx)(k.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a?.totalEmployees||0}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a?.activeEmployees||0," đang hoạt động"]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Onboarding"}),(0,b.jsx)(l.UserPlus,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:D.total}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[D.completionRate,"% hoàn thành"]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Offboarding"}),(0,b.jsx)(m.UserMinus,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:E.total}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[E.inProgress," đang xử lý"]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Tỷ lệ thay đổi"}),(0,b.jsx)(j.TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[a?.totalEmployees?Math.round(E.total/a.totalEmployees*100):0,"%"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Turnover rate"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(o.Building2,{className:"mr-2 h-5 w-5"}),"Phân bổ theo phòng ban"]}),(0,b.jsx)(e.CardDescription,{children:"Top phòng ban có nhiều nhân viên nhất"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:A.slice(0,8).map(c=>{let d=a?.totalEmployees?Math.round(c.count/a.totalEmployees*100):0;return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"font-medium",children:c.name}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:[c.count," người (",d,"%)"]})]}),(0,b.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:`${d}%`}})})]},c.name)})})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(p.Award,{className:"mr-2 h-5 w-5"}),"Loại hợp đồng"]}),(0,b.jsx)(e.CardDescription,{children:"Phân bổ theo loại hợp đồng lao động"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:C.map(c=>{let d=a?.totalEmployees?Math.round(c.count/a.totalEmployees*100):0;return(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-primary"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:c.name})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:c.count}),(0,b.jsxs)(f.Badge,{variant:"secondary",children:[d,"%"]})]})]},c.name)})})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(l.UserPlus,{className:"mr-2 h-5 w-5"}),"Phân tích Onboarding"]}),(0,b.jsx)(e.CardDescription,{children:"Trạng thái và tiến độ onboarding"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,b.jsxs)("p",{className:"text-3xl font-bold text-primary",children:[D.completionRate,"%"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Tỷ lệ hoàn thành"})]}),(0,b.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,b.jsxs)("p",{className:"text-3xl font-bold text-blue-600",children:[D.avgProgress,"%"]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Tiến độ trung bình"})]})]}),(0,b.jsx)(h.Separator,{}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Hoàn thành"}),(0,b.jsx)(f.Badge,{className:"bg-green-500",children:D.completed})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Đang thực hiện"}),(0,b.jsx)(f.Badge,{className:"bg-blue-500",children:D.inProgress})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Chờ xử lý"}),(0,b.jsx)(f.Badge,{variant:"secondary",children:D.pending})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Đã hủy"}),(0,b.jsx)(f.Badge,{variant:"destructive",children:D.cancelled})]})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(m.UserMinus,{className:"mr-2 h-5 w-5"}),"Phân tích Offboarding"]}),(0,b.jsx)(e.CardDescription,{children:"Lý do và trạng thái nghỉ việc"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"text-sm font-medium",children:"Lý do nghỉ việc"}),E.exitTypes.map(a=>{let c=E.total?Math.round(a.count/E.total*100):0;return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:a.name}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:[a.count," (",c,"%)"]})]}),(0,b.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${c}%`}})})]},a.name)})]}),(0,b.jsx)(h.Separator,{}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"text-sm font-medium",children:"Trạng thái"}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Hoàn thành"}),(0,b.jsx)(f.Badge,{className:"bg-green-500",children:E.completed})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Đang xử lý"}),(0,b.jsx)(f.Badge,{className:"bg-blue-500",children:E.inProgress})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-sm",children:"Chờ phê duyệt"}),(0,b.jsx)(f.Badge,{className:"bg-yellow-500",children:E.pendingApproval})]})]})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(n.Calendar,{className:"mr-2 h-5 w-5"}),"Xu hướng 6 tháng gần đây"]}),(0,b.jsx)(e.CardDescription,{children:"Số lượng onboarding và offboarding theo tháng"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:F.map(a=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm font-medium",children:[(0,b.jsx)("span",{children:a.month}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("span",{className:"flex items-center text-green-600",children:[(0,b.jsx)(q.ArrowUp,{className:"h-4 w-4 mr-1"}),a.onboarding," vào"]}),(0,b.jsxs)("span",{className:"flex items-center text-red-600",children:[(0,b.jsx)(r.ArrowDown,{className:"h-4 w-4 mr-1"}),a.offboarding," ra"]}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:["Net: ",a.onboarding-a.offboarding>0?"+":"",a.onboarding-a.offboarding]})]})]}),(0,b.jsxs)("div",{className:"flex space-x-1 h-8",children:[(0,b.jsx)("div",{className:"bg-green-500 rounded transition-all",style:{width:`${Math.max(a.onboarding/Math.max(...F.map(a=>Math.max(a.onboarding,a.offboarding)))*100,2)}%`}}),(0,b.jsx)("div",{className:"bg-red-500 rounded transition-all",style:{width:`${Math.max(a.offboarding/Math.max(...F.map(a=>Math.max(a.onboarding,a.offboarding)))*100,2)}%`}})]})]},a.month))})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Top 10 Chức vụ"}),(0,b.jsx)(e.CardDescription,{children:"Các vị trí có nhiều nhân viên nhất"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:B.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:(0,b.jsxs)("span",{className:"text-sm font-bold text-primary",children:["#",c+1]})}),(0,b.jsx)("span",{className:"font-medium",children:a.name})]}),(0,b.jsxs)(f.Badge,{variant:"outline",children:[a.count," người"]})]},a.name))})})]})]})}a.s(["default",()=>t])}];

//# sourceMappingURL=frontend_src_app_admin_hr_reports_page_tsx_74c4dec7._.js.map