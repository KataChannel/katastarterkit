{"version":3,"sources":["turbopack:///[project]/frontend/src/components/project-management/ProjectSidebar.tsx","turbopack:///[project]/frontend/src/hooks/useProjects.dynamic.ts","turbopack:///[project]/frontend/src/components/project-management/CreateProjectModal.tsx","turbopack:///[project]/frontend/src/components/project-management/TaskFeed.tsx","turbopack:///[project]/frontend/src/hooks/useTasks.dynamic.ts","turbopack:///[project]/frontend/src/components/project-management/TaskCard.tsx","turbopack:///[project]/frontend/src/components/project-management/CreateTaskModal.tsx","turbopack:///[project]/frontend/src/components/ui/calendar.tsx","turbopack:///[project]/node_modules/.bun/date-fns@4.1.0/node_modules/date-fns/startOfMonth.js","turbopack:///[project]/node_modules/.bun/date-fns@4.1.0/node_modules/date-fns/endOfWeek.js","turbopack:///[project]/node_modules/.bun/date-fns@4.1.0/node_modules/date-fns/addDays.js","turbopack:///[project]/node_modules/.bun/date-fns@4.1.0/node_modules/date-fns/addMonths.js","turbopack:///[project]/node_modules/.bun/date-fns@4.1.0/node_modules/date-fns/subMonths.js","turbopack:///[project]/node_modules/.bun/date-fns@4.1.0/node_modules/date-fns/isSameMonth.js","turbopack:///[project]/node_modules/.bun/date-fns@4.1.0/node_modules/date-fns/isSameDay.js","turbopack:///[project]/frontend/src/hooks/useComments.dynamic.ts","turbopack:///[project]/frontend/src/components/project-management/CommentsSection.tsx","turbopack:///[project]/frontend/src/hooks/useSubtasks.dynamic.ts","turbopack:///[project]/frontend/src/components/project-management/SubtasksSection.tsx","turbopack:///[project]/frontend/src/components/project-management/ActivityTimeline.tsx","turbopack:///[project]/frontend/src/hooks/useActivityLog.dynamic.ts","turbopack:///[project]/frontend/src/components/ui/visually-hidden.tsx","turbopack:///[project]/frontend/src/components/project-management/TaskDetailModal.tsx","turbopack:///[project]/frontend/src/components/project-management/ChatPanel.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { useMyProjects } from '@/hooks/useProjects.dynamic';\nimport { Plus, Archive, Users, MessageSquare, CheckSquare, UserPlus } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Badge } from '@/components/ui/badge';\nimport CreateProjectModal from './CreateProjectModal';\n\ninterface ProjectSidebarProps {\n  selectedProjectId: string | null;\n  onSelectProject: (projectId: string) => void;\n  onInviteClick?: (projectId: string) => void;\n}\n\nexport default function ProjectSidebar({\n  selectedProjectId,\n  onSelectProject,\n  onInviteClick,\n}: ProjectSidebarProps) {\n  const { data, loading, error } = useMyProjects(false);\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  // Prevent hydration mismatch by not rendering loading state on server\n  if (!mounted) {\n    return (\n      <div className=\"h-full flex flex-col bg-background border-r\">\n        <div className=\"p-4 border-b\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold\">Projects</h2>\n            <Button\n              size=\"sm\"\n              onClick={() => setIsCreateModalOpen(true)}\n              className=\"h-8 w-8 p-0\"\n            >\n              <Plus className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n        <div className=\"flex-1\" />\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"h-full flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"h-full flex items-center justify-center p-4\">\n        <p className=\"text-sm text-destructive\">Failed to load projects</p>\n      </div>\n    );\n  }\n\n  const projects = data?.myProjects || [];\n\n  return (\n    <div className=\"h-full flex flex-col bg-background border-r\">\n      {/* Header */}\n      <div className=\"p-4 border-b\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-lg font-semibold\">Projects</h2>\n          <Button\n            size=\"sm\"\n            onClick={() => setIsCreateModalOpen(true)}\n            className=\"h-8 w-8 p-0\"\n          >\n            <Plus className=\"h-4 w-4\" />\n          </Button>\n        </div>\n      </div>\n\n      {/* Projects List */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-2 space-y-1\">\n          {projects.length === 0 ? (\n            <div className=\"text-center py-8 px-4\">\n              <div className=\"text-muted-foreground text-sm mb-4\">\n                No projects yet\n              </div>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setIsCreateModalOpen(true)}\n              >\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Create First Project\n              </Button>\n            </div>\n          ) : (\n            projects.map((project: any) => (\n              <ProjectItem\n                key={project.id}\n                project={project}\n                isSelected={project.id === selectedProjectId}\n                onClick={() => onSelectProject(project.id)}\n                onInviteClick={onInviteClick}\n              />\n            ))\n          )}\n        </div>\n      </ScrollArea>\n\n      {/* Create Project Modal */}\n      <CreateProjectModal\n        open={isCreateModalOpen}\n        onOpenChange={setIsCreateModalOpen}\n      />\n    </div>\n  );\n}\n\n// ==================== Project Item Component ====================\n\ninterface ProjectItemProps {\n  project: any;\n  isSelected: boolean;\n  onClick: () => void;\n  onInviteClick?: (projectId: string) => void;\n}\n\nfunction ProjectItem({ project, isSelected, onClick, onInviteClick }: ProjectItemProps) {\n  const getInitials = (firstName?: string, lastName?: string) => {\n    return `${firstName?.[0] || ''}${lastName?.[0] || ''}`.toUpperCase() || 'P';\n  };\n\n  const handleInviteClick = (e: React.MouseEvent) => {\n    e.stopPropagation(); // Prevent triggering project selection\n    onInviteClick?.(project.id);\n  };\n\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      onClick={onClick}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          e.preventDefault();\n          onClick();\n        }\n      }}\n      className={`\n        w-full p-3 rounded-lg text-left transition-colors relative group cursor-pointer\n        ${\n          isSelected\n            ? 'bg-primary/10 border border-primary'\n            : 'hover:bg-accent border border-transparent'\n        }\n      `}\n    >\n      {/* Project Header */}\n      <div className=\"flex items-start gap-3 mb-2\">\n        <Avatar className=\"h-10 w-10 flex-shrink-0\">\n          <AvatarImage src={project.avatar} />\n          <AvatarFallback className=\"bg-primary/20 text-primary text-xs\">\n            {project.name.substring(0, 2).toUpperCase()}\n          </AvatarFallback>\n        </Avatar>\n\n        <div className=\"flex-1 min-w-0\">\n          <h3 className=\"font-medium text-sm truncate\">{project.name}</h3>\n          {project.description && (\n            <p className=\"text-xs text-muted-foreground truncate\">\n              {project.description}\n            </p>\n          )}\n        </div>\n\n        {/* Invite Button - Shows on hover */}\n        {onInviteClick && (\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity\"\n            onClick={handleInviteClick}\n            title=\"Má»i thÃ nh viÃªn\"\n          >\n            <UserPlus className=\"h-3.5 w-3.5\" />\n          </Button>\n        )}\n      </div>\n\n      {/* Stats */}\n      <div className=\"flex items-center gap-3 text-xs text-muted-foreground\">\n        <div className=\"flex items-center gap-1\">\n          <CheckSquare className=\"h-3 w-3\" />\n          <span>{project._count?.tasks || 0}</span>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          <MessageSquare className=\"h-3 w-3\" />\n          <span>{project._count?.chatMessages || 0}</span>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          <Users className=\"h-3 w-3\" />\n          <span>{project.members?.length || 0}</span>\n        </div>\n      </div>\n\n      {/* Role Badge */}\n      {project.members?.find((m: any) => m.role === 'owner') && (\n        <Badge variant=\"secondary\" className=\"mt-2 text-xs\">\n          {project.members.find((m: any) => m.role === 'owner')?.role}\n        </Badge>\n      )}\n\n      {/* Archived Badge */}\n      {project.isArchived && (\n        <Badge variant=\"outline\" className=\"mt-2 text-xs\">\n          <Archive className=\"h-3 w-3 mr-1\" />\n          Archived\n        </Badge>\n      )}\n    </div>\n  );\n}\n","/**\n * ============================================================================\n * PROJECT MANAGEMENT HOOKS - DYNAMIC GRAPHQL VERSION\n * ============================================================================\n * \n * Migrated from Apollo Client to Dynamic GraphQL\n * Uses universal hooks for better performance and type safety\n * \n * @author Senior Full-Stack Engineer\n * @version 2.0.0 - Dynamic GraphQL Migration\n */\n\nimport { useMemo } from 'react';\nimport {\n  useFindMany,\n  useFindUnique,\n  useCreateOne,\n  useUpdateOne,\n  useDeleteOne,\n} from './useDynamicGraphQL';\n\n// ==================== TYPE DEFINITIONS ====================\n\nexport interface Project {\n  id: string;\n  name: string;\n  description?: string;\n  avatar?: string;\n  isArchived: boolean;\n  createdAt: string;\n  updatedAt: string;\n  userId: string;\n  members?: ProjectMember[];\n  tasks?: Task[];\n  chatMessages?: any[];\n  _count?: {\n    tasks: number;\n    chatMessages: number;\n    members: number;\n  };\n}\n\nexport interface ProjectMember {\n  id: string;\n  role: 'owner' | 'admin' | 'member';\n  joinedAt: string;\n  user: {\n    id: string;\n    firstName?: string;\n    lastName?: string;\n    email: string;\n    avatar?: string;\n  };\n}\n\nexport interface Task {\n  id: string;\n  title: string;\n  description?: string;\n  status: 'PENDING' | 'IN_PROGRESS' | 'COMPLETED' | 'CANCELLED';\n  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';\n  category: 'WORK' | 'PERSONAL' | 'SHOPPING' | 'HEALTH' | 'OTHER';\n  dueDate?: string;\n  completedAt?: string;\n  assignedTo?: string[];\n  mentions?: string[];\n  tags?: string[];\n  projectId?: string;\n}\n\nexport interface CreateProjectInput {\n  name: string;\n  description?: string;\n  avatar?: string;\n}\n\nexport interface UpdateProjectInput {\n  name?: string;\n  description?: string;\n  avatar?: string;\n  isArchived?: boolean;\n}\n\nexport interface AddMemberInput {\n  userId: string;\n  role: 'admin' | 'member';\n}\n\nexport interface UpdateMemberRoleInput {\n  memberId: string;\n  role: 'admin' | 'member';\n}\n\n// ==================== QUERY HOOKS ====================\n\n/**\n * Hook: Get all user's projects (for Sidebar)\n * \n * @example\n * const { data: projects, loading, refetch } = useMyProjects(false);\n */\nexport const useMyProjects = (includeArchived = false) => {\n  const where = useMemo(() => {\n    if (includeArchived) {\n      return undefined; // Get all projects\n    }\n    return { isArchived: { equals: false } }; // Only active projects\n  }, [includeArchived]);\n\n  const { data, loading, error, refetch } = useFindMany<Project>('project', {\n    where,\n    orderBy: { createdAt: 'desc' },\n    include: {\n      members: {\n        include: {\n          user: {\n            select: {\n              id: true,\n              firstName: true,\n              lastName: true,\n              email: true,\n              avatar: true,\n            },\n          },\n        },\n      },\n      _count: {\n        select: {\n          tasks: true,\n          chatMessages: true,\n        },\n      },\n    },\n  });\n\n  return {\n    data: { myProjects: data || [] },\n    loading,\n    error,\n    refetch,\n  };\n};\n\n/**\n * Hook: Get project details\n * \n * @example\n * const { data: project, loading } = useProject(projectId);\n */\nexport const useProject = (projectId: string | null) => {\n  const { data, loading, error, refetch } = useFindUnique<Project>(\n    'project',\n    projectId || '',\n    {\n      include: {\n        members: {\n          include: {\n            user: {\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n                email: true,\n                avatar: true,\n              },\n            },\n          },\n        },\n        _count: {\n          select: {\n            tasks: true,\n            chatMessages: true,\n          },\n        },\n      },\n    },\n    { skip: !projectId }\n  );\n\n  return {\n    data: data ? { project: data } : undefined,\n    loading,\n    error,\n    refetch,\n  };\n};\n\n/**\n * Hook: Get project members (for @mention, member management)\n * \n * @example\n * const { data: members, loading } = useProjectMembers(projectId);\n */\nexport const useProjectMembers = (projectId: string | null) => {\n  const { data, loading, error, refetch } = useFindMany<ProjectMember>('projectMember', {\n    where: {\n      projectId: { equals: projectId },\n    },\n    include: {\n      user: {\n        select: {\n          id: true,\n          firstName: true,\n          lastName: true,\n          email: true,\n          avatar: true,\n        },\n      },\n    },\n    orderBy: { joinedAt: 'asc' },\n  }, {\n    skip: !projectId,\n  });\n\n  return {\n    data: { projectMembers: data || [] },\n    loading,\n    error,\n    refetch,\n  };\n};\n\n// ==================== MUTATION HOOKS ====================\n\n/**\n * Hook: Create new project\n * \n * @example\n * const [createProject, { loading }] = useCreateProject();\n * await createProject({ \n *   variables: { \n *     input: { name: \"New Project\", description: \"...\" } \n *   } \n * });\n */\nexport const useCreateProject = () => {\n  const [createOne, { data, loading, error }] = useCreateOne<Project>('project');\n\n  const createProject = async (options: { variables: { input: CreateProjectInput } }) => {\n    const result = await createOne({\n      data: options.variables.input,\n      select: {\n        id: true,\n        name: true,\n        description: true,\n        avatar: true,\n        isArchived: true,\n        createdAt: true,\n        updatedAt: true,\n        userId: true,\n      },\n      include: {\n        members: {\n          include: {\n            user: {\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n                email: true,\n                avatar: true,\n              },\n            },\n          },\n        },\n        _count: {\n          select: {\n            tasks: true,\n            chatMessages: true,\n          },\n        },\n      },\n    });\n\n    return { data: { createProject: result } };\n  };\n\n  return [createProject, { loading, error }] as const;\n};\n\n/**\n * Hook: Update existing project\n * \n * @example\n * const [updateProject] = useUpdateProject();\n * await updateProject({ \n *   variables: { \n *     id: \"uuid\", \n *     input: { name: \"Updated Name\" } \n *   } \n * });\n */\nexport const useUpdateProject = () => {\n  const [updateOne, { data, loading, error }] = useUpdateOne<Project>('project');\n\n  const updateProject = async (options: { \n    variables: { \n      id: string; \n      input: UpdateProjectInput \n    } \n  }) => {\n    const result = await updateOne({\n      where: options.variables.id,\n      data: options.variables.input,\n      select: {\n        id: true,\n        name: true,\n        description: true,\n        avatar: true,\n        isArchived: true,\n        updatedAt: true,\n      },\n    });\n\n    return { data: { updateProject: result } };\n  };\n\n  return [updateProject, { loading, error }] as const;\n};\n\n/**\n * Hook: Delete/Archive project\n * \n * @example\n * const [deleteProject] = useDeleteProject();\n * await deleteProject({ variables: { id: \"uuid\" } });\n */\nexport const useDeleteProject = () => {\n  const [deleteOne, { data, loading, error }] = useDeleteOne<Project>('project');\n\n  const deleteProject = async (options: { variables: { id: string } }) => {\n    const result = await deleteOne({\n      where: options.variables.id,\n      select: {\n        id: true,\n        name: true,\n      },\n    });\n\n    return { data: { deleteProject: result } };\n  };\n\n  return [deleteProject, { loading, error }] as const;\n};\n\n/**\n * Hook: Add member to project\n * Note: This requires custom backend mutation, not covered by Dynamic GraphQL CRUD\n * We'll keep using the custom GraphQL mutation for this\n */\nexport const useAddMember = () => {\n  // This will be implemented with custom mutation\n  // For now, return placeholder\n  const addMember = async () => {\n    throw new Error('useAddMember: Not implemented yet - requires custom mutation');\n  };\n\n  return [addMember, { loading: false, error: null }] as const;\n};\n\n/**\n * Hook: Remove member from project\n * Note: This requires custom backend mutation\n */\nexport const useRemoveMember = () => {\n  const removeMember = async () => {\n    throw new Error('useRemoveMember: Not implemented yet - requires custom mutation');\n  };\n\n  return [removeMember, { loading: false, error: null }] as const;\n};\n\n/**\n * Hook: Update member role\n * Note: This requires custom backend mutation\n */\nexport const useUpdateMemberRole = () => {\n  const updateRole = async () => {\n    throw new Error('useUpdateMemberRole: Not implemented yet - requires custom mutation');\n  };\n\n  return [updateRole, { loading: false, error: null }] as const;\n};\n\n// ==================== EXPORT ALL ====================\n\nexport default {\n  // Queries\n  useMyProjects,\n  useProject,\n  useProjectMembers,\n  // Mutations\n  useCreateProject,\n  useUpdateProject,\n  useDeleteProject,\n  useAddMember,\n  useRemoveMember,\n  useUpdateMemberRole,\n};\n","'use client';\n\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useCreateProject } from '@/hooks/useProjects.dynamic';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Label } from '@/components/ui/label';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface CreateProjectModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\ninterface CreateProjectForm {\n  name: string;\n  description?: string;\n  avatar?: string;\n}\n\nexport default function CreateProjectModal({\n  open,\n  onOpenChange,\n}: CreateProjectModalProps) {\n  const { toast } = useToast();\n  const [createProject, { loading }] = useCreateProject();\n  const { register, handleSubmit, reset, formState: { errors } } = useForm<CreateProjectForm>();\n\n  const onSubmit = async (data: CreateProjectForm) => {\n    try {\n      await createProject({\n        variables: {\n          input: {\n            name: data.name,\n            description: data.description || undefined,\n            avatar: data.avatar || undefined,\n          },\n        },\n      });\n\n      toast({\n        title: 'Success',\n        description: 'Project created successfully',\n        type: 'success',\n      });\n\n      reset();\n      onOpenChange(false);\n    } catch (error: any) {\n      console.error('Create project error:', error);\n      toast({\n        title: 'Error',\n        description: error.message || 'Failed to create project',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[500px] flex flex-col max-h-[90vh] p-0\">\n        {/* Header - Fixed */}\n        <DialogHeader className=\"px-6 pt-6 pb-4 border-b\">\n          <DialogTitle>Create New Project</DialogTitle>\n          <DialogDescription>\n            Create a project to collaborate with your team\n          </DialogDescription>\n        </DialogHeader>\n\n        {/* Content - Scrollable */}\n        <div className=\"flex-1 overflow-y-auto px-6 py-4\">\n          <form id=\"create-project-form\" onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n            {/* Project Name */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">\n                Project Name <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"name\"\n                placeholder=\"e.g., Website Redesign\"\n                {...register('name', { \n                  required: 'Project name is required'\n                })}\n                className={errors.name ? 'border-destructive' : ''}\n              />\n              {errors.name && (\n                <p className=\"text-sm text-destructive mt-1\">{errors.name.message}</p>\n              )}\n            </div>\n\n            {/* Description */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                placeholder=\"Describe your project...\"\n                rows={4}\n                {...register('description')}\n              />\n            </div>\n\n            {/* Avatar URL */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"avatar\">Avatar URL (optional)</Label>\n              <Input\n                id=\"avatar\"\n                type=\"url\"\n                placeholder=\"https://example.com/image.jpg\"\n                {...register('avatar')}\n              />\n            </div>\n          </form>\n        </div>\n\n        {/* Footer - Fixed */}\n        <div className=\"px-6 py-4 border-t bg-muted/30\">\n          <div className=\"flex justify-end gap-3\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => {\n                reset();\n                onOpenChange(false);\n              }}\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button \n              type=\"submit\" \n              form=\"create-project-form\"\n              disabled={loading}\n            >\n              {loading ? 'Creating...' : 'Create Project'}\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","'use client';\n\nimport React, { useState } from 'react';\nimport { Plus, Filter, Search } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Badge } from '@/components/ui/badge';\nimport { useProjectTasks } from '@/hooks/useTasks.dynamic';\nimport TaskCard from './TaskCard';\nimport CreateTaskModal from './CreateTaskModal';\nimport TaskDetailModal from './TaskDetailModal';\n\ninterface TaskFeedProps {\n  projectId: string | null;\n}\n\nexport default function TaskFeed({ projectId }: TaskFeedProps) {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [statusFilter, setStatusFilter] = useState<'PENDING' | 'IN_PROGRESS' | 'COMPLETED' | 'CANCELLED' | null>(null);\n  const [selectedTaskId, setSelectedTaskId] = useState<string | null>(null);\n\n  const { data, loading, error } = useProjectTasks(projectId, {\n    search: searchQuery || undefined,\n    status: statusFilter || undefined,\n  });\n\n  if (!projectId) {\n    return (\n      <div className=\"h-full flex items-center justify-center bg-background\">\n        <div className=\"text-center max-w-md px-4\">\n          <div className=\"text-6xl mb-4\">ðŸ“‹</div>\n          <h3 className=\"text-lg font-semibold mb-2\">No Project Selected</h3>\n          <p className=\"text-sm text-muted-foreground\">\n            Select a project from the sidebar to view and manage tasks\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  const tasks = data?.projectTasks || [];\n\n  return (\n    <div className=\"h-full flex flex-col bg-background\">\n      {/* Header */}\n      <div className=\"p-4 border-b space-y-3\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-lg font-semibold\">Task Feed</h2>\n          <Button size=\"sm\" onClick={() => setIsCreateModalOpen(true)}>\n            <Plus className=\"h-4 w-4 mr-2\" />\n            New Task\n          </Button>\n        </div>\n\n        {/* Search & Filters */}\n        <div className=\"flex items-center gap-2\">\n          <div className=\"relative flex-1\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search tasks...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-9\"\n            />\n          </div>\n          <Button variant=\"outline\" size=\"sm\">\n            <Filter className=\"h-4 w-4 mr-2\" />\n            Filter\n          </Button>\n        </div>\n\n        {/* Filter Tags */}\n        <div className=\"flex items-center gap-2 flex-wrap\">\n          <Badge\n            variant={!statusFilter ? 'default' : 'outline'}\n            className=\"cursor-pointer\"\n            onClick={() => setStatusFilter(null)}\n          >\n            All Tasks\n          </Badge>\n          <Badge\n            variant={statusFilter === 'IN_PROGRESS' ? 'default' : 'outline'}\n            className=\"cursor-pointer\"\n            onClick={() => setStatusFilter('IN_PROGRESS')}\n          >\n            In Progress\n          </Badge>\n          <Badge\n            variant={statusFilter === 'PENDING' ? 'default' : 'outline'}\n            className=\"cursor-pointer\"\n            onClick={() => setStatusFilter('PENDING')}\n          >\n            Pending\n          </Badge>\n          <Badge\n            variant={statusFilter === 'COMPLETED' ? 'default' : 'outline'}\n            className=\"cursor-pointer\"\n            onClick={() => setStatusFilter('COMPLETED')}\n          >\n            Completed\n          </Badge>\n        </div>\n      </div>\n\n      {/* Task List */}\n      <ScrollArea className=\"flex-1\">\n        <div className=\"p-4 space-y-3\">\n          {loading && (\n            <div className=\"text-center py-12\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto\" />\n              <p className=\"text-sm text-muted-foreground mt-3\">Loading tasks...</p>\n            </div>\n          )}\n\n          {error && (\n            <div className=\"text-center py-12\">\n              <p className=\"text-sm text-destructive\">Failed to load tasks</p>\n            </div>\n          )}\n\n          {!loading && !error && tasks.length === 0 && (\n            <div className=\"text-center py-12\">\n              <div className=\"text-5xl mb-4\">âœ…</div>\n              <h3 className=\"text-lg font-semibold mb-2\">No Tasks Yet</h3>\n              <p className=\"text-sm text-muted-foreground mb-4\">\n                Create your first task to get started\n              </p>\n              <Button onClick={() => setIsCreateModalOpen(true)}>\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Create Task\n              </Button>\n            </div>\n          )}\n\n          {/* Task Cards */}\n          {!loading && !error && tasks.length > 0 && (\n            <>\n              {tasks.map((task: any) => (\n                <TaskCard \n                  key={task.id} \n                  task={task} \n                  onClick={() => setSelectedTaskId(task.id)} \n                />\n              ))}\n            </>\n          )}\n        </div>\n      </ScrollArea>\n\n      {/* Create Task Modal */}\n      <CreateTaskModal\n        open={isCreateModalOpen}\n        onOpenChange={setIsCreateModalOpen}\n        projectId={projectId}\n      />\n\n      {/* Task Detail Modal */}\n      <TaskDetailModal\n        taskId={selectedTaskId}\n        projectId={projectId!}\n        open={!!selectedTaskId}\n        onOpenChange={(open) => !open && setSelectedTaskId(null)}\n      />\n    </div>\n  );\n}\n","/**\n * ============================================================================\n * TASK MANAGEMENT HOOKS - DYNAMIC GRAPHQL VERSION\n * ============================================================================\n * \n * Migrated from Apollo Client to Dynamic GraphQL\n * Uses universal hooks for better performance and type safety\n * \n * @author Senior Full-Stack Engineer\n * @version 2.0.0 - Dynamic GraphQL Migration\n */\n\nimport { useMemo } from 'react';\nimport {\n  useFindMany,\n  useFindUnique,\n  useCreateOne,\n  useUpdateOne,\n  useDeleteOne,\n} from './useDynamicGraphQL';\n\n// ==================== TYPE DEFINITIONS ====================\n\nexport interface Task {\n  id: string;\n  title: string;\n  description?: string;\n  status: 'PENDING' | 'IN_PROGRESS' | 'COMPLETED' | 'CANCELLED';\n  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';\n  category: 'WORK' | 'PERSONAL' | 'SHOPPING' | 'HEALTH' | 'OTHER';\n  dueDate?: string;\n  completedAt?: string;\n  order: number;\n  assignedTo?: string[];\n  mentions?: string[];\n  tags?: string[];\n  projectId?: string;\n  userId: string;\n  createdAt: string;\n  updatedAt: string;\n  user?: {\n    id: string;\n    firstName?: string;\n    lastName?: string;\n    email: string;\n    avatar?: string;\n  };\n  _count?: {\n    comments: number;\n    subtasks: number;\n  };\n}\n\nexport interface TaskFilterInput {\n  status?: 'PENDING' | 'IN_PROGRESS' | 'COMPLETED' | 'CANCELLED';\n  priority?: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';\n  category?: 'WORK' | 'PERSONAL' | 'SHOPPING' | 'HEALTH' | 'OTHER';\n  search?: string;\n  dueDateFrom?: string;\n  dueDateTo?: string;\n  assignedTo?: string[];\n  tags?: string[];\n}\n\nexport interface CreateTaskInput {\n  title: string;\n  description?: string;\n  priority?: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';\n  category?: 'WORK' | 'PERSONAL' | 'SHOPPING' | 'HEALTH' | 'OTHER';\n  dueDate?: string;\n  assignedTo?: string[];\n  tags?: string[];\n  projectId?: string;\n  userId?: string; // Creator/owner user ID\n}\n\nexport interface UpdateTaskInput {\n  title?: string;\n  description?: string;\n  status?: 'PENDING' | 'IN_PROGRESS' | 'COMPLETED' | 'CANCELLED';\n  priority?: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';\n  category?: 'WORK' | 'PERSONAL' | 'SHOPPING' | 'HEALTH' | 'OTHER';\n  dueDate?: string;\n  completedAt?: string;\n  assignedTo?: string[];\n  tags?: string[];\n  order?: number;\n}\n\n// ==================== QUERY HOOKS ====================\n\n/**\n * Hook: Get tasks for a project (TaskFeed)\n * \n * @example\n * const { data: tasks, loading, refetch } = useProjectTasks(projectId, {\n *   status: 'IN_PROGRESS',\n *   priority: 'HIGH',\n *   search: 'design'\n * });\n */\nexport const useProjectTasks = (projectId: string | null, filters?: TaskFilterInput) => {\n  const where = useMemo(() => {\n    if (!projectId) return undefined;\n\n    const conditions: any = {\n      projectId: { equals: projectId },\n    };\n\n    // Apply filters\n    if (filters?.status) {\n      conditions.status = { equals: filters.status };\n    }\n\n    if (filters?.priority) {\n      conditions.priority = { equals: filters.priority };\n    }\n\n    if (filters?.category) {\n      conditions.category = { equals: filters.category };\n    }\n\n    if (filters?.search) {\n      conditions.OR = [\n        { title: { contains: filters.search, mode: 'insensitive' } },\n        { description: { contains: filters.search, mode: 'insensitive' } },\n      ];\n    }\n\n    if (filters?.dueDateFrom || filters?.dueDateTo) {\n      conditions.dueDate = {};\n      if (filters.dueDateFrom) {\n        conditions.dueDate.gte = filters.dueDateFrom;\n      }\n      if (filters.dueDateTo) {\n        conditions.dueDate.lte = filters.dueDateTo;\n      }\n    }\n\n    if (filters?.assignedTo && filters.assignedTo.length > 0) {\n      conditions.assignedTo = {\n        hasSome: filters.assignedTo,\n      };\n    }\n\n    if (filters?.tags && filters.tags.length > 0) {\n      conditions.tags = {\n        hasSome: filters.tags,\n      };\n    }\n\n    return conditions;\n  }, [projectId, filters]);\n\n  const { data, loading, error, refetch } = useFindMany<Task>('task', {\n    where,\n    orderBy: { createdAt: 'desc' }, // Latest first (single field for Dynamic GraphQL)\n    include: {\n      user: {\n        select: {\n          id: true,\n          firstName: true,\n          lastName: true,\n          email: true,\n          avatar: true,\n        },\n      },\n      _count: {\n        select: {\n          comments: true,\n          subtasks: true,\n        },\n      },\n    },\n  }, {\n    skip: !projectId,\n    fetchPolicy: 'cache-and-network',\n  });\n\n  return {\n    data: { projectTasks: data || [] },\n    loading,\n    error,\n    refetch,\n  };\n};\n\n/**\n * Hook: Get single task details\n * \n * @example\n * const { data: task, loading } = useTask(taskId);\n */\nexport const useTask = (taskId: string | null) => {\n  const { data, loading, error, refetch } = useFindUnique<Task>(\n    'task',\n    taskId || '',\n    {\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n        _count: {\n          select: {\n            comments: true,\n            subtasks: true,\n          },\n        },\n      },\n    },\n    { skip: !taskId }\n  );\n\n  return {\n    data: data ? { task: data } : undefined,\n    loading,\n    error,\n    refetch,\n  };\n};\n\n/**\n * Hook: Get user's personal tasks (no project)\n * \n * @example\n * const { data: tasks, loading } = useMyTasks({ status: 'PENDING' });\n */\nexport const useMyTasks = (filters?: TaskFilterInput) => {\n  const where = useMemo(() => {\n    const conditions: any = {\n      projectId: { equals: null }, // Personal tasks only\n    };\n\n    if (filters?.status) {\n      conditions.status = { equals: filters.status };\n    }\n\n    if (filters?.priority) {\n      conditions.priority = { equals: filters.priority };\n    }\n\n    if (filters?.category) {\n      conditions.category = { equals: filters.category };\n    }\n\n    if (filters?.search) {\n      conditions.OR = [\n        { title: { contains: filters.search, mode: 'insensitive' } },\n        { description: { contains: filters.search, mode: 'insensitive' } },\n      ];\n    }\n\n    return conditions;\n  }, [filters]);\n\n  const { data, loading, error, refetch } = useFindMany<Task>('task', {\n    where,\n    orderBy: { createdAt: 'desc' }, // Latest first (single field for Dynamic GraphQL)\n    include: {\n      user: {\n        select: {\n          id: true,\n          firstName: true,\n          lastName: true,\n          email: true,\n          avatar: true,\n        },\n      },\n      _count: {\n        select: {\n          comments: true,\n          subtasks: true,\n        },\n      },\n    },\n  });\n\n  return {\n    data: { myTasks: data || [] },\n    loading,\n    error,\n    refetch,\n  };\n};\n\n// ==================== MUTATION HOOKS ====================\n\n/**\n * Hook: Create task in project\n * \n * @example\n * const [createTask, { loading }] = useCreateProjectTask(projectId);\n * await createTask({\n *   variables: {\n *     projectId,\n *     input: {\n *       title: \"New task\",\n *       priority: \"HIGH\",\n *       dueDate: \"2024-11-01\",\n *       assignedTo: [\"user-id-1\"],\n *       tags: [\"urgent\"]\n *     }\n *   }\n * });\n */\nexport const useCreateProjectTask = (projectId: string) => {\n  const [createOne, { data, loading, error }] = useCreateOne<Task>('task');\n\n  const createTask = async (options: {\n    variables: {\n      projectId: string;\n      input: CreateTaskInput;\n    };\n  }) => {\n    // Extract userId from input, throw error if missing\n    const { userId, ...taskData } = options.variables.input;\n    \n    if (!userId) {\n      throw new Error('userId is required to create a task');\n    }\n\n    const result = await createOne({\n      data: {\n        ...taskData,\n        projectId: options.variables.projectId,\n        status: 'PENDING',\n        order: 0, // Will be set by backend\n        user: {\n          connect: { id: userId }\n        }\n      },\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n        _count: {\n          select: {\n            comments: true,\n            subtasks: true,\n          },\n        },\n      },\n    });\n\n    return { data: { createProjectTask: result } };\n  };\n\n  return [createTask, { loading, error }] as const;\n};\n\n/**\n * Hook: Update task\n * \n * @example\n * const [updateTask] = useUpdateTask();\n * await updateTask({\n *   variables: {\n *     id: \"task-uuid\",\n *     input: { status: \"COMPLETED\" }\n *   }\n * });\n */\nexport const useUpdateTask = () => {\n  const [updateOne, { data, loading, error }] = useUpdateOne<Task>('task');\n\n  const updateTask = async (options: {\n    variables: {\n      id: string;\n      input: UpdateTaskInput;\n    };\n  }) => {\n    const result = await updateOne({\n      where: options.variables.id,\n      data: options.variables.input,\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n        _count: {\n          select: {\n            comments: true,\n            subtasks: true,\n          },\n        },\n      },\n    });\n\n    return { data: { updateTask: result } };\n  };\n\n  return [updateTask, { loading, error }] as const;\n};\n\n/**\n * Hook: Delete task\n * \n * @example\n * const [deleteTask] = useDeleteTask(projectId);\n * await deleteTask({ variables: { id: \"task-uuid\" } });\n */\nexport const useDeleteTask = (projectId: string) => {\n  const [deleteOne, { data, loading, error }] = useDeleteOne<Task>('task');\n\n  const deleteTask = async (options: { variables: { id: string } }) => {\n    const result = await deleteOne({\n      where: options.variables.id,\n      select: {\n        id: true,\n      },\n    });\n\n    return { data: { deleteTask: result } };\n  };\n\n  return [deleteTask, { loading, error }] as const;\n};\n\n/**\n * Hook: Update task order (for drag & drop)\n * \n * @example\n * const [updateOrder] = useUpdateTaskOrder();\n * await updateOrder({ variables: { taskId: \"uuid\", newOrder: 5 } });\n */\nexport const useUpdateTaskOrder = () => {\n  const [updateOne, { data, loading, error }] = useUpdateOne<Task>('task');\n\n  const updateOrder = async (options: {\n    variables: {\n      taskId: string;\n      newOrder: number;\n    };\n  }) => {\n    const result = await updateOne({\n      where: options.variables.taskId,\n      data: { order: options.variables.newOrder },\n      select: {\n        id: true,\n        order: true,\n      },\n    });\n\n    return { data: { updateTaskOrder: result } };\n  };\n\n  return [updateOrder, { loading, error }] as const;\n};\n\n/**\n * Hook: Assign task to users\n * \n * @example\n * const [assignTask] = useAssignTask();\n * await assignTask({\n *   variables: {\n *     taskId: \"uuid\",\n *     userIds: [\"user-1\", \"user-2\"]\n *   }\n * });\n */\nexport const useAssignTask = () => {\n  const [updateOne, { data, loading, error }] = useUpdateOne<Task>('task');\n\n  const assignTask = async (options: {\n    variables: {\n      taskId: string;\n      userIds: string[];\n    };\n  }) => {\n    const result = await updateOne({\n      where: options.variables.taskId,\n      data: { assignedTo: options.variables.userIds },\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n      },\n    });\n\n    return { data: { assignTask: result } };\n  };\n\n  return [assignTask, { loading, error }] as const;\n};\n\n/**\n * Hook: Update task status (used by TaskCard checkbox)\n * \n * @example\n * const [updateStatus] = useUpdateTaskStatus();\n * await updateStatus({\n *   variables: {\n *     input: {\n *       id: \"task-uuid\",\n *       status: \"COMPLETED\"\n *     }\n *   }\n * });\n */\nexport const useUpdateTaskStatus = () => {\n  const [updateOne, { data, loading, error }] = useUpdateOne<Task>('task');\n\n  const updateStatus = async (options: {\n    variables: {\n      input: {\n        id: string;\n        status: 'PENDING' | 'IN_PROGRESS' | 'COMPLETED' | 'CANCELLED';\n      };\n    };\n  }) => {\n    const updateData: any = {\n      status: options.variables.input.status,\n    };\n\n    // Set completedAt when marking as completed\n    if (options.variables.input.status === 'COMPLETED') {\n      updateData.completedAt = new Date().toISOString();\n    } else {\n      updateData.completedAt = null;\n    }\n\n    const result = await updateOne({\n      where: options.variables.input.id,\n      data: updateData,\n      select: {\n        id: true,\n        status: true,\n        completedAt: true,\n      },\n    });\n\n    return { data: { updateTask: result } };\n  };\n\n  return [updateStatus, { loading, error }] as const;\n};\n\n// ==================== EXPORT ALL ====================\n\nexport default {\n  // Queries\n  useProjectTasks,\n  useTask,\n  useMyTasks,\n  // Mutations\n  useCreateProjectTask,\n  useUpdateTask,\n  useDeleteTask,\n  useUpdateTaskOrder,\n  useAssignTask,\n  useUpdateTaskStatus,\n};\n","'use client';\n\nimport React from 'react';\nimport { format } from 'date-fns';\nimport {\n  Calendar,\n  MessageSquare,\n  CheckSquare,\n  AlertCircle,\n  Clock,\n  User,\n  Tag,\n} from 'lucide-react';\nimport { Badge } from '@/components/ui/badge';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { useUpdateTaskStatus } from '@/hooks/useTasks.dynamic';\n\ninterface TaskCardProps {\n  task: any;\n  onClick?: () => void;\n}\n\nexport default function TaskCard({ task, onClick }: TaskCardProps) {\n  const [updateStatus] = useUpdateTaskStatus();\n\n  const handleStatusChange = async (checked: boolean) => {\n    const newStatus = checked ? 'COMPLETED' : 'IN_PROGRESS';\n    \n    try {\n      await updateStatus({\n        variables: {\n          input: {\n            id: task.id,\n            status: newStatus,\n          },\n        },\n      });\n    } catch (error) {\n      console.error('Failed to update task status:', error);\n    }\n  };\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'URGENT':\n        return 'bg-red-500 text-white';\n      case 'HIGH':\n        return 'bg-orange-500 text-white';\n      case 'MEDIUM':\n        return 'bg-yellow-500 text-white';\n      case 'LOW':\n        return 'bg-green-500 text-white';\n      default:\n        return 'bg-gray-500 text-white';\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'COMPLETED':\n        return 'border-green-500 bg-green-50';\n      case 'IN_PROGRESS':\n        return 'border-blue-500 bg-blue-50';\n      case 'PENDING':\n        return 'border-gray-300 bg-white';\n      case 'CANCELLED':\n        return 'border-red-300 bg-red-50';\n      default:\n        return 'border-gray-300 bg-white';\n    }\n  };\n\n  const isOverdue = task.dueDate && new Date(task.dueDate) < new Date() && task.status !== 'COMPLETED';\n\n  return (\n    <div\n      className={`\n        p-4 rounded-lg border-2 transition-all cursor-pointer\n        hover:shadow-md hover:border-primary/50\n        ${getStatusColor(task.status)}\n        ${task.status === 'COMPLETED' ? 'opacity-60' : ''}\n      `}\n      onClick={onClick}\n    >\n      {/* Header */}\n      <div className=\"flex items-start gap-3 mb-3\">\n        {/* Checkbox */}\n        <Checkbox\n          checked={task.status === 'COMPLETED'}\n          onCheckedChange={handleStatusChange}\n          onClick={(e) => e.stopPropagation()}\n          className=\"mt-1\"\n        />\n\n        {/* Content */}\n        <div className=\"flex-1 min-w-0\">\n          {/* Title */}\n          <h3\n            className={`font-medium mb-1 ${\n              task.status === 'COMPLETED' ? 'line-through text-muted-foreground' : ''\n            }`}\n          >\n            {task.title}\n          </h3>\n\n          {/* Description */}\n          {task.description && (\n            <p className=\"text-sm text-muted-foreground line-clamp-2 mb-2\">\n              {task.description}\n            </p>\n          )}\n\n          {/* Tags */}\n          {task.tags && task.tags.length > 0 && (\n            <div className=\"flex items-center gap-1 flex-wrap mb-2\">\n              {task.tags.map((tag: string, idx: number) => (\n                <Badge key={idx} variant=\"secondary\" className=\"text-xs\">\n                  <Tag className=\"h-3 w-3 mr-1\" />\n                  {tag}\n                </Badge>\n              ))}\n            </div>\n          )}\n\n          {/* Meta Info */}\n          <div className=\"flex items-center gap-3 flex-wrap text-xs text-muted-foreground\">\n            {/* Priority */}\n            <Badge className={`${getPriorityColor(task.priority)} text-xs`}>\n              {task.priority}\n            </Badge>\n\n            {/* Due Date */}\n            {task.dueDate && (\n              <div\n                className={`flex items-center gap-1 ${\n                  isOverdue ? 'text-red-600 font-medium' : ''\n                }`}\n              >\n                {isOverdue ? (\n                  <AlertCircle className=\"h-3 w-3\" />\n                ) : (\n                  <Calendar className=\"h-3 w-3\" />\n                )}\n                <span>{format(new Date(task.dueDate), 'MMM dd')}</span>\n              </div>\n            )}\n\n            {/* Comments Count */}\n            {task._count?.comments > 0 && (\n              <div className=\"flex items-center gap-1\">\n                <MessageSquare className=\"h-3 w-3\" />\n                <span>{task._count.comments}</span>\n              </div>\n            )}\n\n            {/* Subtasks Count */}\n            {task._count?.subtasks > 0 && (\n              <div className=\"flex items-center gap-1\">\n                <CheckSquare className=\"h-3 w-3\" />\n                <span>{task._count.subtasks}</span>\n              </div>\n            )}\n\n            {/* Created Time */}\n            <div className=\"flex items-center gap-1\">\n              <Clock className=\"h-3 w-3\" />\n              <span>{format(new Date(task.createdAt), 'MMM dd, HH:mm')}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Priority Indicator */}\n        <div className={`w-1 h-full rounded-full ${getPriorityColor(task.priority)}`} />\n      </div>\n\n      {/* Footer */}\n      <div className=\"flex items-center justify-between pt-3 border-t\">\n        {/* Assigned Users */}\n        <div className=\"flex items-center gap-2\">\n          {task.assignedTo && task.assignedTo.length > 0 ? (\n            <div className=\"flex items-center gap-1\">\n              <User className=\"h-3 w-3 text-muted-foreground\" />\n              <span className=\"text-xs text-muted-foreground\">\n                {task.assignedTo.length} assigned\n              </span>\n              {/* TODO: Show avatars */}\n            </div>\n          ) : (\n            <span className=\"text-xs text-muted-foreground\">No assignees</span>\n          )}\n        </div>\n\n        {/* Creator */}\n        <div className=\"flex items-center gap-2\">\n          <Avatar className=\"h-6 w-6\">\n            <AvatarImage src={task.user?.avatar} />\n            <AvatarFallback className=\"text-xs\">\n              {task.user?.firstName?.[0]}{task.user?.lastName?.[0]}\n            </AvatarFallback>\n          </Avatar>\n          <span className=\"text-xs text-muted-foreground\">\n            {task.user?.firstName} {task.user?.lastName}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useCreateProjectTask } from '@/hooks/useTasks.dynamic';\nimport { useProjectMembers } from '@/hooks/useProjects.dynamic';\nimport { useAuth } from '@/contexts/AuthContext';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Label } from '@/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Calendar } from '@/components/ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { cn } from '@/lib/utils';\nimport { format } from 'date-fns';\nimport { CalendarIcon, X } from 'lucide-react';\n\ninterface CreateTaskModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  projectId: string;\n}\n\ninterface CreateTaskForm {\n  title: string;\n  description?: string;\n  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';\n  category: 'WORK' | 'PERSONAL' | 'SHOPPING' | 'HEALTH' | 'OTHER';\n  dueDate?: Date;\n}\n\nexport default function CreateTaskModal({\n  open,\n  onOpenChange,\n  projectId,\n}: CreateTaskModalProps) {\n  const { user } = useAuth();\n  const [createTask, { loading }] = useCreateProjectTask(projectId);\n  const { data: membersData } = useProjectMembers(projectId);\n  \n  const { register, handleSubmit, reset, setValue, watch, formState: { errors } } = useForm<CreateTaskForm>({\n    defaultValues: {\n      priority: 'MEDIUM',\n      category: 'OTHER',\n    },\n  });\n\n  const [selectedDate, setSelectedDate] = useState<Date | undefined>();\n  const [selectedAssignees, setSelectedAssignees] = useState<string[]>([]);\n  const [tags, setTags] = useState<string[]>([]);\n  const [tagInput, setTagInput] = useState('');\n\n  const onSubmit = async (data: CreateTaskForm) => {\n    if (!user?.id) {\n      console.error('User not authenticated');\n      return;\n    }\n\n    try {\n      await createTask({\n        variables: {\n          projectId,\n          input: {\n            title: data.title,\n            description: data.description || '',\n            priority: data.priority,\n            category: data.category,\n            dueDate: selectedDate?.toISOString(),\n            assignedTo: selectedAssignees,\n            tags,\n            userId: user.id, // Current user is the creator\n          },\n        },\n      });\n\n      // Reset form\n      reset();\n      setSelectedDate(undefined);\n      setSelectedAssignees([]);\n      setTags([]);\n      onOpenChange(false);\n    } catch (error) {\n      console.error('Failed to create task:', error);\n    }\n  };\n\n  const addTag = () => {\n    if (tagInput.trim() && !tags.includes(tagInput.trim())) {\n      setTags([...tags, tagInput.trim()]);\n      setTagInput('');\n    }\n  };\n\n  const removeTag = (tag: string) => {\n    setTags(tags.filter((t) => t !== tag));\n  };\n\n  const members = membersData?.projectMembers || [];\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-[600px] flex flex-col max-h-[90vh] p-0\">\n        {/* Header - Fixed */}\n        <DialogHeader className=\"px-6 pt-6 pb-4 border-b\">\n          <DialogTitle>Create New Task</DialogTitle>\n          <DialogDescription>\n            Add a task to your project (like posting on Facebook)\n          </DialogDescription>\n        </DialogHeader>\n\n        {/* Content - Scrollable */}\n        <div className=\"flex-1 overflow-y-auto px-6 py-4\">\n          <form id=\"create-task-form\" onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n            {/* Title */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"title\">\n                Task Title <span className=\"text-destructive\">*</span>\n              </Label>\n              <Input\n                id=\"title\"\n                placeholder=\"e.g., Design homepage mockup\"\n                {...register('title', { required: 'Title is required' })}\n                className={errors.title ? 'border-destructive' : ''}\n              />\n              {errors.title && (\n                <p className=\"text-sm text-destructive mt-1\">{errors.title.message}</p>\n              )}\n            </div>\n\n            {/* Description */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"description\">Description</Label>\n              <Textarea\n                id=\"description\"\n                placeholder=\"Describe the task in detail...\"\n                rows={4}\n                {...register('description')}\n              />\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Use @username to mention team members\n              </p>\n            </div>\n\n            {/* Priority & Category */}\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"priority\">Priority</Label>\n                <Select\n                  defaultValue=\"MEDIUM\"\n                  onValueChange={(value) => setValue('priority', value as any)}\n                >\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"LOW\">ðŸŸ¢ Low</SelectItem>\n                    <SelectItem value=\"MEDIUM\">ðŸŸ¡ Medium</SelectItem>\n                    <SelectItem value=\"HIGH\">ðŸŸ  High</SelectItem>\n                    <SelectItem value=\"URGENT\">ðŸ”´ Urgent</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"category\">Category</Label>\n                <Select\n                  defaultValue=\"OTHER\"\n                  onValueChange={(value) => setValue('category', value as 'WORK' | 'PERSONAL' | 'SHOPPING' | 'HEALTH' | 'OTHER')}\n                >\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"WORK\">ðŸ’¼ Work</SelectItem>\n                    <SelectItem value=\"PERSONAL\">ðŸ‘¤ Personal</SelectItem>\n                    <SelectItem value=\"SHOPPING\">ðŸ›’ Shopping</SelectItem>\n                    <SelectItem value=\"HEALTH\">ðŸ¥ Health</SelectItem>\n                    <SelectItem value=\"OTHER\">ðŸ“Œ Other</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {/* Due Date */}\n            <div className=\"space-y-2\">\n              <Label>Due Date</Label>\n              <Popover>\n                <PopoverTrigger asChild>\n                  <Button\n                    variant=\"outline\"\n                    className={cn(\n                      'w-full justify-start text-left font-normal',\n                      !selectedDate && 'text-muted-foreground'\n                    )}\n                  >\n                    <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                    {selectedDate ? format(selectedDate, 'PPP') : 'Pick a date'}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent className=\"w-auto p-0\">\n                  <Calendar\n                    mode=\"single\"\n                    selected={selectedDate}\n                    onSelect={setSelectedDate}\n                    initialFocus\n                  />\n                </PopoverContent>\n              </Popover>\n            </div>\n\n            {/* Assign to */}\n            <div className=\"space-y-2\">\n              <Label>Assign to (optional)</Label>\n              <Select onValueChange={(userId) => {\n                if (!selectedAssignees.includes(userId)) {\n                  setSelectedAssignees([...selectedAssignees, userId]);\n                }\n              }}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Select team members\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {members.map((member: any) => (\n                    <SelectItem key={member.userId} value={member.userId}>\n                      {member.user.firstName} {member.user.lastName} ({member.role})\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n\n              {/* Selected Assignees */}\n              {selectedAssignees.length > 0 && (\n                <div className=\"flex flex-wrap gap-2 mt-2\">\n                  {selectedAssignees.map((userId) => {\n                    const member = members.find((m: any) => m.userId === userId);\n                    return (\n                      <div\n                        key={userId}\n                        className=\"flex items-center gap-1 bg-secondary px-2 py-1 rounded-md text-sm\"\n                      >\n                        <span>{member?.user.firstName}</span>\n                        <button\n                          type=\"button\"\n                          onClick={() =>\n                            setSelectedAssignees(selectedAssignees.filter((id) => id !== userId))\n                          }\n                          className=\"hover:text-destructive\"\n                        >\n                          <X className=\"h-3 w-3\" />\n                        </button>\n                      </div>\n                    );\n                  })}\n                </div>\n              )}\n            </div>\n\n            {/* Tags */}\n            <div className=\"space-y-2\">\n              <Label>Tags</Label>\n              <div className=\"flex gap-2\">\n                <Input\n                  placeholder=\"Add tag (e.g., urgent, backend)\"\n                  value={tagInput}\n                  onChange={(e) => setTagInput(e.target.value)}\n                  onKeyPress={(e) => {\n                    if (e.key === 'Enter') {\n                      e.preventDefault();\n                      addTag();\n                    }\n                  }}\n                />\n                <Button type=\"button\" variant=\"outline\" onClick={addTag}>\n                  Add\n                </Button>\n              </div>\n\n              {/* Tag List */}\n              {tags.length > 0 && (\n                <div className=\"flex flex-wrap gap-2 mt-2\">\n                  {tags.map((tag) => (\n                    <div\n                      key={tag}\n                      className=\"flex items-center gap-1 bg-primary/10 px-2 py-1 rounded-md text-sm\"\n                    >\n                      <span>{tag}</span>\n                      <button\n                        type=\"button\"\n                        onClick={() => removeTag(tag)}\n                        className=\"hover:text-destructive\"\n                      >\n                        <X className=\"h-3 w-3\" />\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </form>\n        </div>\n\n        {/* Footer - Fixed */}\n        <div className=\"px-6 py-4 border-t bg-muted/30\">\n          <div className=\"flex justify-end gap-3\">\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={() => {\n                reset();\n                setSelectedDate(undefined);\n                setSelectedAssignees([]);\n                setTags([]);\n                onOpenChange(false);\n              }}\n              disabled={loading}\n            >\n              Cancel\n            </Button>\n            <Button \n              type=\"submit\" \n              form=\"create-task-form\"\n              disabled={loading}\n            >\n              {loading ? 'Creating...' : 'Create Task'}\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { Button } from '@/components/ui/button';\nimport {\n  startOfMonth,\n  endOfMonth,\n  startOfWeek,\n  endOfWeek,\n  addDays,\n  addMonths,\n  subMonths,\n  isSameMonth,\n  isSameDay,\n  format,\n} from 'date-fns';\n\nexport interface CalendarProps {\n  mode?: 'single' | 'multiple';\n  selected?: Date;\n  onSelect?: (date: Date | undefined) => void;\n  initialFocus?: boolean;\n  className?: string;\n}\n\nexport function Calendar({\n  mode = 'single',\n  selected,\n  onSelect,\n  className,\n}: CalendarProps) {\n  const [currentMonth, setCurrentMonth] = React.useState(selected || new Date());\n\n  const renderHeader = () => {\n    return (\n      <div className=\"flex items-center justify-between px-2 py-2\">\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"h-7 w-7\"\n          onClick={() => setCurrentMonth(subMonths(currentMonth, 1))}\n        >\n          <ChevronLeft className=\"h-4 w-4\" />\n        </Button>\n        <div className=\"text-sm font-medium\">\n          {format(currentMonth, 'MMMM yyyy')}\n        </div>\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"h-7 w-7\"\n          onClick={() => setCurrentMonth(addMonths(currentMonth, 1))}\n        >\n          <ChevronRight className=\"h-4 w-4\" />\n        </Button>\n      </div>\n    );\n  };\n\n  const renderDays = () => {\n    const days = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\n    return (\n      <div className=\"grid grid-cols-7 gap-1 px-2\">\n        {days.map((day) => (\n          <div\n            key={day}\n            className=\"flex h-9 w-9 items-center justify-center text-xs font-medium text-muted-foreground\"\n          >\n            {day}\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  const renderCells = () => {\n    const monthStart = startOfMonth(currentMonth);\n    const monthEnd = endOfMonth(monthStart);\n    const startDate = startOfWeek(monthStart);\n    const endDate = endOfWeek(monthEnd);\n\n    const rows = [];\n    let days = [];\n    let day = startDate;\n\n    while (day <= endDate) {\n      for (let i = 0; i < 7; i++) {\n        const cloneDay = day;\n        days.push(\n          <button\n            key={day.toString()}\n            type=\"button\"\n            onClick={() => onSelect?.(cloneDay)}\n            className={cn(\n              'h-9 w-9 rounded-md text-sm transition-colors hover:bg-accent hover:text-accent-foreground',\n              !isSameMonth(day, monthStart) && 'text-muted-foreground opacity-50',\n              selected && isSameDay(day, selected) &&\n                'bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground',\n              isSameDay(day, new Date()) && 'border border-primary'\n            )}\n          >\n            {format(day, 'd')}\n          </button>\n        );\n        day = addDays(day, 1);\n      }\n      rows.push(\n        <div key={day.toString()} className=\"grid grid-cols-7 gap-1 px-2\">\n          {days}\n        </div>\n      );\n      days = [];\n    }\n\n    return <div className=\"space-y-1\">{rows}</div>;\n  };\n\n  return (\n    <div className={cn('p-3', className)}>\n      {renderHeader()}\n      {renderDays()}\n      {renderCells()}\n    </div>\n  );\n}\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfMonth} function options.\n */\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date. The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments.\n * Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed,\n * or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfWeek} function options.\n */\n\n/**\n * @name endOfWeek\n * @category Week Helpers\n * @summary Return the end of a week for the given date.\n *\n * @description\n * Return the end of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a week\n *\n * @example\n * // The end of a week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 23:59:59.999\n *\n * @example\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport function endOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date, options?.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\n\n  _date.setDate(_date.getDate() + diff);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfWeek;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addDays} function options.\n */\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n * @param options - An object with options\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n\n  // If 0 days, no-op to avoid changing times in the hour before end of DST\n  if (!amount) return _date;\n\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMonths} function options.\n */\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n * @param options - The options object\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(options?.in || date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n","import { addMonths } from \"./addMonths.js\";\n\n/**\n * The subMonths function options.\n */\n\n/**\n * @name subMonths\n * @category Month Helpers\n * @summary Subtract the specified number of months from the given date.\n *\n * @description\n * Subtract the specified number of months from the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be subtracted.\n * @param options - An object with options\n *\n * @returns The new date with the months subtracted\n *\n * @example\n * // Subtract 5 months from 1 February 2015:\n * const result = subMonths(new Date(2015, 1, 1), 5)\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function subMonths(date, amount, options) {\n  return addMonths(date, -amount, options);\n}\n\n// Fallback for modularized imports:\nexport default subMonths;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\n\n/**\n * The {@link isSameMonth} function options.\n */\n\n/**\n * @name isSameMonth\n * @category Month Helpers\n * @summary Are the given dates in the same month (and year)?\n *\n * @description\n * Are the given dates in the same month (and year)?\n *\n * @param laterDate - The first date to check\n * @param earlierDate - The second date to check\n * @param options - An object with options\n *\n * @returns The dates are in the same month (and year)\n *\n * @example\n * // Are 2 September 2014 and 25 September 2014 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2014, 8, 25))\n * //=> true\n *\n * @example\n * // Are 2 September 2014 and 25 September 2015 in the same month?\n * const result = isSameMonth(new Date(2014, 8, 2), new Date(2015, 8, 25))\n * //=> false\n */\nexport function isSameMonth(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n  return (\n    laterDate_.getFullYear() === earlierDate_.getFullYear() &&\n    laterDate_.getMonth() === earlierDate_.getMonth()\n  );\n}\n\n// Fallback for modularized imports:\nexport default isSameMonth;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { startOfDay } from \"./startOfDay.js\";\n\n/**\n * The {@link isSameDay} function options.\n */\n\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @param laterDate - The first date to check\n * @param earlierDate - The second date to check\n * @param options - An object with options\n *\n * @returns The dates are in the same day (and year and month)\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nexport function isSameDay(laterDate, earlierDate, options) {\n  const [dateLeft_, dateRight_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n  return +startOfDay(dateLeft_) === +startOfDay(dateRight_);\n}\n\n// Fallback for modularized imports:\nexport default isSameDay;\n","/**\n * ============================================================================\n * TASK COMMENTS HOOKS - MVP 3 DYNAMIC GRAPHQL\n * ============================================================================\n * \n * Real-time comments system using Dynamic GraphQL\n * Features:\n * - Create, read, update, delete comments\n * - Threaded replies support\n * - @Mention users\n * - Real-time updates (prepared)\n * \n * @author Senior Full-Stack Engineer  \n * @version 3.0.0 - MVP 3\n */\n\nimport { useMemo } from 'react';\nimport {\n  useFindMany,\n  useFindUnique,\n  useCreateOne,\n  useUpdateOne,\n  useDeleteOne,\n} from './useDynamicGraphQL';\n\n// ==================== TYPE DEFINITIONS ====================\n\nexport interface TaskComment {\n  id: string;\n  content: string;\n  createdAt: string;\n  updatedAt: string;\n  taskId: string;\n  userId: string;\n  parentId?: string;\n  user?: {\n    id: string;\n    firstName?: string;\n    lastName?: string;\n    email: string;\n    avatar?: string;\n  };\n  parent?: TaskComment;\n  replies?: TaskComment[];\n  _count?: {\n    replies: number;\n  };\n}\n\nexport interface CreateCommentInput {\n  content: string;\n  taskId: string;\n  parentId?: string; // For threaded replies\n}\n\nexport interface UpdateCommentInput {\n  content: string;\n}\n\n// ==================== QUERY HOOKS ====================\n\n/**\n * Hook: Get all comments for a task (with threaded structure)\n * \n * @example\n * const { data: comments, loading, refetch } = useTaskComments(taskId);\n */\nexport const useTaskComments = (taskId: string | null) => {\n  const where = useMemo(() => {\n    if (!taskId) return undefined;\n    \n    return {\n      taskId: { equals: taskId },\n      parentId: { equals: null }, // Only top-level comments\n    };\n  }, [taskId]);\n\n  const { data, loading, error, refetch } = useFindMany<TaskComment>('taskComment', {\n    where,\n    orderBy: { createdAt: 'asc' }, // Oldest first (like chat)\n    include: {\n      user: {\n        select: {\n          id: true,\n          firstName: true,\n          lastName: true,\n          email: true,\n          avatar: true,\n        },\n      },\n      replies: {\n        orderBy: { createdAt: 'asc' },\n        include: {\n          user: {\n            select: {\n              id: true,\n              firstName: true,\n              lastName: true,\n              email: true,\n              avatar: true,\n            },\n          },\n          _count: {\n            select: {\n              replies: true,\n            },\n          },\n        },\n      },\n      _count: {\n        select: {\n          replies: true,\n        },\n      },\n    },\n  }, {\n    skip: !taskId,\n    fetchPolicy: 'cache-and-network',\n  });\n\n  return {\n    data: data || [],\n    loading,\n    error,\n    refetch,\n  };\n};\n\n/**\n * Hook: Get single comment with all replies\n * \n * @example\n * const { data: comment } = useComment(commentId);\n */\nexport const useComment = (commentId: string | null) => {\n  const { data, loading, error, refetch } = useFindUnique<TaskComment>(\n    'taskComment',\n    commentId || '',\n    {\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n        replies: {\n          orderBy: { createdAt: 'asc' },\n          include: {\n            user: {\n              select: {\n                id: true,\n                firstName: true,\n                lastName: true,\n                email: true,\n                avatar: true,\n              },\n            },\n          },\n        },\n      },\n    },\n    { skip: !commentId }\n  );\n\n  return {\n    data,\n    loading,\n    error,\n    refetch,\n  };\n};\n\n/**\n * Hook: Get comment count for a task\n * \n * @example\n * const { count } = useCommentCount(taskId);\n */\nexport const useCommentCount = (taskId: string | null) => {\n  const { data, loading, error, refetch } = useFindMany<TaskComment>('taskComment', {\n    where: {\n      taskId: { equals: taskId },\n    },\n    select: {\n      id: true,\n    },\n  }, {\n    skip: !taskId,\n  });\n\n  return {\n    count: data?.length || 0,\n    loading,\n    error,\n    refetch,\n  };\n};\n\n// ==================== MUTATION HOOKS ====================\n\n/**\n * Hook: Create new comment\n * \n * @example\n * const [createComment, { loading }] = useCreateComment();\n * await createComment({\n *   variables: {\n *     input: {\n *       content: \"Great work!\",\n *       taskId: \"task-uuid\"\n *     }\n *   }\n * });\n */\nexport const useCreateComment = () => {\n  const [createOne, { data, loading, error }] = useCreateOne<TaskComment>('taskComment');\n\n  const createComment = async (options: { variables: { input: CreateCommentInput } }) => {\n    const result = await createOne({\n      data: options.variables.input,\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n        _count: {\n          select: {\n            replies: true,\n          },\n        },\n      },\n    });\n\n    return { data: { createComment: result } };\n  };\n\n  return [createComment, { loading, error }] as const;\n};\n\n/**\n * Hook: Update comment content\n * \n * @example\n * const [updateComment] = useUpdateComment();\n * await updateComment({\n *   variables: {\n *     id: \"comment-uuid\",\n *     input: { content: \"Updated content\" }\n *   }\n * });\n */\nexport const useUpdateComment = () => {\n  const [updateOne, { data, loading, error }] = useUpdateOne<TaskComment>('taskComment');\n\n  const updateComment = async (options: {\n    variables: {\n      id: string;\n      input: UpdateCommentInput;\n    };\n  }) => {\n    const result = await updateOne({\n      where: options.variables.id,\n      data: options.variables.input,\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n      },\n    });\n\n    return { data: { updateComment: result } };\n  };\n\n  return [updateComment, { loading, error }] as const;\n};\n\n/**\n * Hook: Delete comment\n * \n * @example\n * const [deleteComment] = useDeleteComment();\n * await deleteComment({ variables: { id: \"comment-uuid\" } });\n */\nexport const useDeleteComment = () => {\n  const [deleteOne, { data, loading, error }] = useDeleteOne<TaskComment>('taskComment');\n\n  const deleteComment = async (options: { variables: { id: string } }) => {\n    const result = await deleteOne({\n      where: options.variables.id,\n      select: {\n        id: true,\n      },\n    });\n\n    return { data: { deleteComment: result } };\n  };\n\n  return [deleteComment, { loading, error }] as const;\n};\n\n// ==================== EXPORT ALL ====================\n\nexport default {\n  // Queries\n  useTaskComments,\n  useComment,\n  useCommentCount,\n  // Mutations\n  useCreateComment,\n  useUpdateComment,\n  useDeleteComment,\n};\n","/**\n * ============================================================================\n * COMMENTS SECTION COMPONENT - MVP 3\n * ============================================================================\n * \n * Real-time comments with threaded replies\n * Features:\n * - Create, edit, delete comments\n * - Threaded replies support\n * - @Mention users (prepared)\n * - Real-time updates using Dynamic GraphQL\n * \n * @author Senior Full-Stack Engineer\n * @version 3.0.0 - MVP 3\n */\n\n'use client';\n\nimport React, { useState } from 'react';\nimport { format } from 'date-fns';\nimport {\n  useTaskComments,\n  useCreateComment,\n  useUpdateComment,\n  useDeleteComment,\n} from '@/hooks/useComments.dynamic';\nimport { Button } from '@/components/ui/button';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport {\n  MessageSquare,\n  Send,\n  Edit,\n  Trash2,\n  Reply,\n  MoreVertical,\n} from 'lucide-react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface CommentsSectionProps {\n  taskId: string;\n}\n\nexport default function CommentsSection({ taskId }: CommentsSectionProps) {\n  const { toast } = useToast();\n  const { data: comments, loading, refetch } = useTaskComments(taskId);\n  const [createComment, { loading: creating }] = useCreateComment();\n\n  const [newComment, setNewComment] = useState('');\n  const [replyToId, setReplyToId] = useState<string | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newComment.trim()) return;\n\n    try {\n      await createComment({\n        variables: {\n          input: {\n            content: newComment,\n            taskId,\n            parentId: replyToId || undefined,\n          },\n        },\n      });\n\n      toast({\n        title: 'Success',\n        description: 'Comment added',\n        type: 'success',\n      });\n\n      setNewComment('');\n      setReplyToId(null);\n      refetch();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to add comment',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Comments List */}\n      <ScrollArea className=\"h-[400px] pr-4\">\n        {comments.length === 0 ? (\n          <div className=\"text-center py-12 text-muted-foreground\">\n            <MessageSquare className=\"h-12 w-12 mx-auto mb-2 opacity-50\" />\n            <p>No comments yet</p>\n            <p className=\"text-sm\">Be the first to comment!</p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {comments.map((comment: any) => (\n              <CommentItem\n                key={comment.id}\n                comment={comment}\n                taskId={taskId}\n                onReply={(id) => setReplyToId(id)}\n                onUpdate={refetch}\n              />\n            ))}\n          </div>\n        )}\n      </ScrollArea>\n\n      {/* Reply Indicator */}\n      {replyToId && (\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 p-2 rounded\">\n          <Reply className=\"h-4 w-4\" />\n          <span>Replying to comment</span>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setReplyToId(null)}\n            className=\"h-6 ml-auto\"\n          >\n            Cancel\n          </Button>\n        </div>\n      )}\n\n      {/* New Comment Form */}\n      <form onSubmit={handleSubmit} className=\"space-y-2\">\n        <Textarea\n          value={newComment}\n          onChange={(e) => setNewComment(e.target.value)}\n          placeholder=\"Write a comment...\"\n          rows={3}\n          className=\"resize-none\"\n        />\n        <div className=\"flex justify-end\">\n          <Button type=\"submit\" disabled={creating || !newComment.trim()}>\n            <Send className=\"h-4 w-4 mr-2\" />\n            {replyToId ? 'Reply' : 'Comment'}\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\n// ==================== COMMENT ITEM COMPONENT ====================\n\ninterface CommentItemProps {\n  comment: any;\n  taskId: string;\n  onReply: (id: string) => void;\n  onUpdate: () => void;\n  depth?: number;\n}\n\nfunction CommentItem({\n  comment,\n  taskId,\n  onReply,\n  onUpdate,\n  depth = 0,\n}: CommentItemProps) {\n  const { toast } = useToast();\n  const [updateComment, { loading: updating }] = useUpdateComment();\n  const [deleteComment, { loading: deleting }] = useDeleteComment();\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedContent, setEditedContent] = useState(comment.content);\n\n  const handleEdit = async () => {\n    if (!editedContent.trim()) return;\n\n    try {\n      await updateComment({\n        variables: {\n          id: comment.id,\n          input: { content: editedContent },\n        },\n      });\n\n      toast({\n        title: 'Success',\n        description: 'Comment updated',\n        type: 'success',\n      });\n\n      setIsEditing(false);\n      onUpdate();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to update comment',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!confirm('Delete this comment?')) return;\n\n    try {\n      await deleteComment({\n        variables: { id: comment.id },\n      });\n\n      toast({\n        title: 'Success',\n        description: 'Comment deleted',\n        type: 'success',\n      });\n\n      onUpdate();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to delete comment',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  return (\n    <div className={`${depth > 0 ? 'ml-8 mt-2' : ''}`}>\n      <div className=\"flex items-start gap-3 group\">\n        {/* Avatar */}\n        <Avatar className=\"h-8 w-8 flex-shrink-0\">\n          <AvatarImage src={comment.user?.avatar} />\n          <AvatarFallback className=\"text-xs\">\n            {comment.user?.firstName?.[0]}\n            {comment.user?.lastName?.[0]}\n          </AvatarFallback>\n        </Avatar>\n\n        {/* Content */}\n        <div className=\"flex-1 min-w-0\">\n          {/* Header */}\n          <div className=\"flex items-center gap-2 mb-1\">\n            <span className=\"font-medium text-sm\">\n              {comment.user?.firstName} {comment.user?.lastName}\n            </span>\n            <span className=\"text-xs text-muted-foreground\">\n              {format(new Date(comment.createdAt), 'MMM dd, HH:mm')}\n            </span>\n            {comment.updatedAt !== comment.createdAt && (\n              <span className=\"text-xs text-muted-foreground\">(edited)</span>\n            )}\n          </div>\n\n          {/* Comment Body */}\n          {isEditing ? (\n            <div className=\"space-y-2\">\n              <Textarea\n                value={editedContent}\n                onChange={(e) => setEditedContent(e.target.value)}\n                rows={2}\n                className=\"text-sm\"\n              />\n              <div className=\"flex gap-2\">\n                <Button size=\"sm\" onClick={handleEdit} disabled={updating}>\n                  Save\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    setIsEditing(false);\n                    setEditedContent(comment.content);\n                  }}\n                >\n                  Cancel\n                </Button>\n              </div>\n            </div>\n          ) : (\n            <p className=\"text-sm whitespace-pre-wrap\">{comment.content}</p>\n          )}\n\n          {/* Actions */}\n          {!isEditing && (\n            <div className=\"flex items-center gap-2 mt-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => onReply(comment.id)}\n                className=\"h-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity\"\n              >\n                <Reply className=\"h-3 w-3 mr-1\" />\n                Reply\n              </Button>\n\n              {/* More Menu */}\n              <DropdownMenu>\n                <DropdownMenuTrigger asChild>\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity\"\n                  >\n                    <MoreVertical className=\"h-3 w-3\" />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"end\">\n                  <DropdownMenuItem onClick={() => setIsEditing(true)}>\n                    <Edit className=\"h-3 w-3 mr-2\" />\n                    Edit\n                  </DropdownMenuItem>\n                  <DropdownMenuItem\n                    onClick={handleDelete}\n                    className=\"text-destructive\"\n                  >\n                    <Trash2 className=\"h-3 w-3 mr-2\" />\n                    Delete\n                  </DropdownMenuItem>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Threaded Replies */}\n      {comment.replies && comment.replies.length > 0 && (\n        <div className=\"mt-2 space-y-2\">\n          {comment.replies.map((reply: any) => (\n            <CommentItem\n              key={reply.id}\n              comment={reply}\n              taskId={taskId}\n              onReply={onReply}\n              onUpdate={onUpdate}\n              depth={depth + 1}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * ============================================================================\n * TASK SUBTASKS HOOKS - MVP 3 DYNAMIC GRAPHQL\n * ============================================================================\n * \n * Subtasks management using hierarchical Task model\n * Features:\n * - Create, read, update, delete subtasks\n * - Progress tracking\n * - Completion status\n * - Nested subtasks support\n * \n * @author Senior Full-Stack Engineer\n * @version 3.0.0 - MVP 3\n */\n\nimport { useMemo } from 'react';\nimport {\n  useFindMany,\n  useCreateOne,\n  useUpdateOne,\n  useDeleteOne,\n} from './useDynamicGraphQL';\n\n// ==================== TYPE DEFINITIONS ====================\n\nexport interface Subtask {\n  id: string;\n  title: string;\n  description?: string;\n  status: 'PENDING' | 'IN_PROGRESS' | 'COMPLETED' | 'CANCELLED';\n  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';\n  order: number;\n  completedAt?: string;\n  createdAt: string;\n  updatedAt: string;\n  parentId: string;\n  userId: string;\n  user?: {\n    id: string;\n    firstName?: string;\n    lastName?: string;\n    email: string;\n    avatar?: string;\n  };\n  subtasks?: Subtask[]; // Nested subtasks\n  _count?: {\n    subtasks: number;\n  };\n}\n\nexport interface CreateSubtaskInput {\n  title: string;\n  description?: string;\n  priority?: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';\n  parentId: string; // Parent task ID\n  userId?: string; // Creator user ID\n}\n\nexport interface UpdateSubtaskInput {\n  title?: string;\n  description?: string;\n  status?: 'PENDING' | 'IN_PROGRESS' | 'COMPLETED' | 'CANCELLED';\n  priority?: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT';\n  order?: number;\n}\n\n// ==================== QUERY HOOKS ====================\n\n/**\n * Hook: Get all subtasks for a task\n * \n * @example\n * const { data: subtasks, loading, refetch } = useSubtasks(taskId);\n */\nexport const useSubtasks = (taskId: string | null) => {\n  const where = useMemo(() => {\n    if (!taskId) return undefined;\n    \n    return {\n      parentId: { equals: taskId },\n    };\n  }, [taskId]);\n\n  const { data, loading, error, refetch } = useFindMany<Subtask>('task', {\n    where,\n    orderBy: { createdAt: 'asc' }, // Oldest first (single field for Dynamic GraphQL)\n    include: {\n      user: {\n        select: {\n          id: true,\n          firstName: true,\n          lastName: true,\n          email: true,\n          avatar: true,\n        },\n      },\n      subtasks: {\n        // Nested subtasks (one level deep)\n        orderBy: { order: 'asc' },\n        include: {\n          user: {\n            select: {\n              id: true,\n              firstName: true,\n              lastName: true,\n              email: true,\n              avatar: true,\n            },\n          },\n        },\n      },\n      _count: {\n        select: {\n          subtasks: true,\n        },\n      },\n    },\n  }, {\n    skip: !taskId,\n    fetchPolicy: 'cache-and-network',\n  });\n\n  return {\n    data: data || [],\n    loading,\n    error,\n    refetch,\n  };\n};\n\n/**\n * Hook: Get subtask progress statistics\n * \n * @example\n * const { total, completed, percentage } = useSubtaskProgress(taskId);\n */\nexport const useSubtaskProgress = (taskId: string | null) => {\n  const { data: subtasks, loading, error } = useSubtasks(taskId);\n\n  const stats = useMemo(() => {\n    if (!subtasks) return { total: 0, completed: 0, percentage: 0 };\n\n    const total = subtasks.length;\n    const completed = subtasks.filter(s => s.status === 'COMPLETED').length;\n    const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;\n\n    return { total, completed, percentage };\n  }, [subtasks]);\n\n  return {\n    ...stats,\n    loading,\n    error,\n  };\n};\n\n// ==================== MUTATION HOOKS ====================\n\n/**\n * Hook: Create new subtask\n * \n * @example\n * const [createSubtask, { loading }] = useCreateSubtask();\n * await createSubtask({\n *   variables: {\n *     input: {\n *       title: \"Subtask 1\",\n *       description: \"Details...\",\n *       parentId: \"parent-task-uuid\"\n *     }\n *   }\n * });\n */\nexport const useCreateSubtask = () => {\n  const [createOne, { data, loading, error }] = useCreateOne<Subtask>('task');\n\n  const createSubtask = async (options: { variables: { input: CreateSubtaskInput } }) => {\n    const { userId, ...subtaskData } = options.variables.input;\n    \n    if (!userId) {\n      throw new Error('userId is required to create a subtask');\n    }\n\n    const result = await createOne({\n      data: {\n        ...subtaskData,\n        status: 'PENDING',\n        category: 'OTHER', // Default category for subtasks\n        order: 0, // Will be updated by backend\n        user: {\n          connect: { id: userId }\n        }\n      },\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n        _count: {\n          select: {\n            subtasks: true,\n          },\n        },\n      },\n    });\n\n    return { data: { createSubtask: result } };\n  };\n\n  return [createSubtask, { loading, error }] as const;\n};\n\n/**\n * Hook: Update subtask\n * \n * @example\n * const [updateSubtask] = useUpdateSubtask();\n * await updateSubtask({\n *   variables: {\n *     id: \"subtask-uuid\",\n *     input: { status: \"COMPLETED\" }\n *   }\n * });\n */\nexport const useUpdateSubtask = () => {\n  const [updateOne, { data, loading, error }] = useUpdateOne<Subtask>('task');\n\n  const updateSubtask = async (options: {\n    variables: {\n      id: string;\n      input: UpdateSubtaskInput;\n    };\n  }) => {\n    // Auto-set completedAt when marking as completed\n    const updateData: any = { ...options.variables.input };\n    if (updateData.status === 'COMPLETED') {\n      updateData.completedAt = new Date().toISOString();\n    } else if (updateData.status && updateData.status !== 'COMPLETED') {\n      updateData.completedAt = null;\n    }\n\n    const result = await updateOne({\n      where: options.variables.id,\n      data: updateData,\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n      },\n    });\n\n    return { data: { updateSubtask: result } };\n  };\n\n  return [updateSubtask, { loading, error }] as const;\n};\n\n/**\n * Hook: Delete subtask\n * \n * @example\n * const [deleteSubtask] = useDeleteSubtask();\n * await deleteSubtask({ variables: { id: \"subtask-uuid\" } });\n */\nexport const useDeleteSubtask = () => {\n  const [deleteOne, { data, loading, error }] = useDeleteOne<Subtask>('task');\n\n  const deleteSubtask = async (options: { variables: { id: string } }) => {\n    const result = await deleteOne({\n      where: options.variables.id,\n      select: {\n        id: true,\n      },\n    });\n\n    return { data: { deleteSubtask: result } };\n  };\n\n  return [deleteSubtask, { loading, error }] as const;\n};\n\n/**\n * Hook: Toggle subtask completion (quick action)\n * \n * @example\n * const [toggleSubtask] = useToggleSubtask();\n * await toggleSubtask({ \n *   variables: { \n *     id: \"subtask-uuid\", \n *     completed: true \n *   } \n * });\n */\nexport const useToggleSubtask = () => {\n  const [updateOne, { data, loading, error }] = useUpdateOne<Subtask>('task');\n\n  const toggleSubtask = async (options: {\n    variables: {\n      id: string;\n      completed: boolean;\n    };\n  }) => {\n    const result = await updateOne({\n      where: options.variables.id,\n      data: {\n        status: options.variables.completed ? 'COMPLETED' : 'PENDING',\n        completedAt: options.variables.completed ? new Date().toISOString() : null,\n      },\n      select: {\n        id: true,\n        status: true,\n        completedAt: true,\n      },\n    });\n\n    return { data: { toggleSubtask: result } };\n  };\n\n  return [toggleSubtask, { loading, error }] as const;\n};\n\n// ==================== EXPORT ALL ====================\n\nexport default {\n  // Queries\n  useSubtasks,\n  useSubtaskProgress,\n  // Mutations\n  useCreateSubtask,\n  useUpdateSubtask,\n  useDeleteSubtask,\n  useToggleSubtask,\n};\n","/**\n * ============================================================================\n * SUBTASKS SECTION COMPONENT - MVP 3\n * ============================================================================\n * \n * Subtask management with progress tracking\n * Features:\n * - Create, complete, delete subtasks\n * - Progress bar with percentage\n * - Nested subtasks support (one level deep)\n * - Quick toggle completion\n * \n * @author Senior Full-Stack Engineer\n * @version 3.0.0 - MVP 3\n */\n\n'use client';\n\nimport React, { useState } from 'react';\nimport { format } from 'date-fns';\nimport {\n  useSubtasks,\n  useSubtaskProgress,\n  useCreateSubtask,\n  useToggleSubtask,\n  useDeleteSubtask,\n} from '@/hooks/useSubtasks.dynamic';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Checkbox } from '@/components/ui/checkbox';\nimport { Progress } from '@/components/ui/progress';\nimport {\n  CheckCircle2,\n  Circle,\n  Plus,\n  Trash2,\n  ChevronRight,\n  ChevronDown,\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface SubtasksSectionProps {\n  taskId: string;\n}\n\nexport default function SubtasksSection({ taskId }: SubtasksSectionProps) {\n  const { toast } = useToast();\n  const { user } = useAuth();\n  const { data: subtasks, loading, refetch } = useSubtasks(taskId);\n  const progress = useSubtaskProgress(taskId);\n  const [createSubtask, { loading: creating }] = useCreateSubtask();\n\n  const [newSubtask, setNewSubtask] = useState('');\n  const [expandedIds, setExpandedIds] = useState<Set<string>>(new Set());\n\n  const handleCreate = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newSubtask.trim()) return;\n\n    if (!user?.id) {\n      toast({\n        title: 'Error',\n        description: 'User not authenticated',\n        variant: 'destructive',\n        type: 'error',\n      });\n      return;\n    }\n\n    try {\n      await createSubtask({\n        variables: {\n          input: {\n            title: newSubtask,\n            parentId: taskId,\n            userId: user.id,\n          },\n        },\n      });\n\n      toast({\n        title: 'Success',\n        description: 'Subtask created',\n        type: 'success',\n      });\n\n      setNewSubtask('');\n      refetch();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to create subtask',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  const toggleExpanded = (id: string) => {\n    setExpandedIds((prev) => {\n      const next = new Set(prev);\n      if (next.has(id)) {\n        next.delete(id);\n      } else {\n        next.add(id);\n      }\n      return next;\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Progress Bar */}\n      {progress && subtasks.length > 0 && (\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between text-sm\">\n            <span className=\"font-medium\">Progress</span>\n            <span className=\"text-muted-foreground\">\n              {progress.completed} / {progress.total} completed\n            </span>\n          </div>\n          <Progress value={progress.percentage} className=\"h-2\" />\n          <p className=\"text-xs text-muted-foreground text-right\">\n            {progress.percentage.toFixed(0)}% complete\n          </p>\n        </div>\n      )}\n\n      {/* Subtasks List */}\n      <div className=\"space-y-2\">\n        {subtasks.length === 0 ? (\n          <div className=\"text-center py-8 text-muted-foreground\">\n            <Circle className=\"h-10 w-10 mx-auto mb-2 opacity-50\" />\n            <p>No subtasks yet</p>\n            <p className=\"text-sm\">Break this task into smaller steps</p>\n          </div>\n        ) : (\n          subtasks.map((subtask: any) => (\n            <SubtaskItem\n              key={subtask.id}\n              subtask={subtask}\n              onUpdate={refetch}\n              isExpanded={expandedIds.has(subtask.id)}\n              onToggleExpanded={() => toggleExpanded(subtask.id)}\n            />\n          ))\n        )}\n      </div>\n\n      {/* Create Subtask Form */}\n      <form onSubmit={handleCreate} className=\"flex gap-2\">\n        <Input\n          value={newSubtask}\n          onChange={(e) => setNewSubtask(e.target.value)}\n          placeholder=\"Add a subtask...\"\n          className=\"flex-1\"\n        />\n        <Button type=\"submit\" disabled={creating || !newSubtask.trim()}>\n          <Plus className=\"h-4 w-4 mr-2\" />\n          Add\n        </Button>\n      </form>\n    </div>\n  );\n}\n\n// ==================== SUBTASK ITEM COMPONENT ====================\n\ninterface SubtaskItemProps {\n  subtask: any;\n  onUpdate: () => void;\n  depth?: number;\n  isExpanded?: boolean;\n  onToggleExpanded?: () => void;\n}\n\nfunction SubtaskItem({\n  subtask,\n  onUpdate,\n  depth = 0,\n  isExpanded = false,\n  onToggleExpanded,\n}: SubtaskItemProps) {\n  const { toast } = useToast();\n  const [toggleSubtask, { loading: toggling }] = useToggleSubtask();\n  const [deleteSubtask, { loading: deleting }] = useDeleteSubtask();\n\n  const handleToggle = async () => {\n    try {\n      const newCompleted = subtask.status !== 'COMPLETED';\n      await toggleSubtask({\n        variables: { \n          id: subtask.id,\n          completed: newCompleted \n        },\n      });\n\n      onUpdate();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to update subtask',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!confirm('Delete this subtask?')) return;\n\n    try {\n      await deleteSubtask({\n        variables: { id: subtask.id },\n      });\n\n      toast({\n        title: 'Success',\n        description: 'Subtask deleted',\n        type: 'success',\n      });\n\n      onUpdate();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to delete subtask',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  const isCompleted = subtask.status === 'COMPLETED';\n  const hasNestedSubtasks = subtask.subtasks && subtask.subtasks.length > 0;\n\n  return (\n    <div className={`${depth > 0 ? 'ml-6 mt-1' : ''}`}>\n      <div className=\"group flex items-center gap-2 p-2 rounded-lg hover:bg-muted/50 transition-colors\">\n        {/* Expand Toggle (if has nested subtasks) */}\n        {hasNestedSubtasks && (\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={onToggleExpanded}\n            className=\"h-6 w-6 p-0\"\n          >\n            {isExpanded ? (\n              <ChevronDown className=\"h-3 w-3\" />\n            ) : (\n              <ChevronRight className=\"h-3 w-3\" />\n            )}\n          </Button>\n        )}\n\n        {/* Checkbox */}\n        <Checkbox\n          checked={isCompleted}\n          onCheckedChange={handleToggle}\n          disabled={toggling}\n          className=\"flex-shrink-0\"\n        />\n\n        {/* Title */}\n        <div className=\"flex-1 min-w-0\">\n          <p\n            className={cn(\n              'text-sm truncate',\n              isCompleted && 'line-through text-muted-foreground'\n            )}\n          >\n            {subtask.title}\n          </p>\n          {subtask.dueDate && (\n            <p className=\"text-xs text-muted-foreground\">\n              Due: {format(new Date(subtask.dueDate), 'MMM dd')}\n            </p>\n          )}\n        </div>\n\n        {/* Completion Icon */}\n        {isCompleted ? (\n          <CheckCircle2 className=\"h-4 w-4 text-green-600 flex-shrink-0\" />\n        ) : (\n          <Circle className=\"h-4 w-4 text-muted-foreground flex-shrink-0\" />\n        )}\n\n        {/* Nested Subtasks Count */}\n        {hasNestedSubtasks && (\n          <span className=\"text-xs text-muted-foreground bg-muted px-2 py-0.5 rounded-full\">\n            {subtask.subtasks.length}\n          </span>\n        )}\n\n        {/* Delete Button */}\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={handleDelete}\n          disabled={deleting}\n          className=\"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity\"\n        >\n          <Trash2 className=\"h-3 w-3 text-destructive\" />\n        </Button>\n      </div>\n\n      {/* Nested Subtasks */}\n      {hasNestedSubtasks && isExpanded && (\n        <div className=\"mt-1 space-y-1\">\n          {subtask.subtasks.map((nested: any) => (\n            <SubtaskItem\n              key={nested.id}\n              subtask={nested}\n              onUpdate={onUpdate}\n              depth={depth + 1}\n            />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * ============================================================================\n * ACTIVITY TIMELINE COMPONENT - MVP 3\n * ============================================================================\n * \n * Activity history timeline with full change tracking\n * Features:\n * - Display all task activities chronologically\n * - Filter by activity type, user, date range\n * - Show old/new values for changes\n * - Activity icons and colors\n * - Real-time updates\n * \n * @author Senior Full-Stack Engineer\n * @version 3.0.0 - MVP 3\n */\n\n'use client';\n\nimport React, { useState } from 'react';\nimport { format, formatDistanceToNow } from 'date-fns';\nimport {\n  useTaskActivities,\n  useRecentActivities,\n  useActivityStats,\n  getActivityIcon,\n  getActivityColor,\n} from '@/hooks/useActivityLog.dynamic';\nimport { Button } from '@/components/ui/button';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Clock, Filter, TrendingUp } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface ActivityTimelineProps {\n  taskId: string;\n}\n\n// Activity Type Enum (matching backend)\nconst ACTIVITY_TYPES = [\n  'TASK_CREATED',\n  'TASK_UPDATED',\n  'TASK_DELETED',\n  'TASK_STATUS_CHANGED',\n  'TASK_PRIORITY_CHANGED',\n  'TASK_ASSIGNED',\n  'TASK_UNASSIGNED',\n  'COMMENT_ADDED',\n  'COMMENT_EDITED',\n  'COMMENT_DELETED',\n  'SUBTASK_ADDED',\n  'SUBTASK_COMPLETED',\n  'SUBTASK_DELETED',\n  'FILE_UPLOADED',\n  'FILE_DELETED',\n  'DUE_DATE_CHANGED',\n  'DESCRIPTION_CHANGED',\n  'TITLE_CHANGED',\n] as const;\n\ntype ActivityType = (typeof ACTIVITY_TYPES)[number];\n\nexport default function ActivityTimeline({ taskId }: ActivityTimelineProps) {\n  const [filterAction, setFilterAction] = useState<ActivityType | 'ALL'>('ALL');\n  const [showRecent, setShowRecent] = useState(false);\n\n  // Queries\n  const { data: allActivities, loading: loadingAll } = useTaskActivities(\n    taskId,\n    filterAction !== 'ALL' ? { action: filterAction } : undefined\n  );\n  const { data: recentActivities, loading: loadingRecent } =\n    useRecentActivities(taskId);\n  const { stats } = useActivityStats(taskId);\n\n  const activities = showRecent ? recentActivities : allActivities;\n  const loading = showRecent ? loadingRecent : loadingAll;\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-12\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Header with Filters */}\n      <div className=\"flex items-center justify-between gap-2\">\n        <div className=\"flex items-center gap-2\">\n          <Filter className=\"h-4 w-4 text-muted-foreground\" />\n          <Select\n            value={filterAction}\n            onValueChange={(value) =>\n              setFilterAction(value as ActivityType | 'ALL')\n            }\n          >\n            <SelectTrigger className=\"w-[200px]\">\n              <SelectValue placeholder=\"Filter by type\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"ALL\">All Activities</SelectItem>\n              {ACTIVITY_TYPES.map((type) => (\n                <SelectItem key={type} value={type}>\n                  {getActivityIcon(type)} {type.replace(/_/g, ' ')}\n                </SelectItem>\n              ))}\n            </SelectContent>\n          </Select>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <Button\n            variant={showRecent ? 'default' : 'outline'}\n            size=\"sm\"\n            onClick={() => setShowRecent(!showRecent)}\n          >\n            <Clock className=\"h-4 w-4 mr-2\" />\n            Last 24h\n          </Button>\n        </div>\n      </div>\n\n      {/* Activity Stats */}\n      {stats && Object.keys(stats).length > 0 && (\n        <div className=\"grid grid-cols-3 gap-2 p-3 bg-muted/50 rounded-lg\">\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold\">\n              {Object.values(stats).reduce((a: number, b: number) => a + b, 0)}\n            </div>\n            <div className=\"text-xs text-muted-foreground\">Total</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-blue-600\">\n              {stats['TASK_STATUS_CHANGED'] || 0}\n            </div>\n            <div className=\"text-xs text-muted-foreground\">Status Changes</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-green-600\">\n              {stats['COMMENT_ADDED'] || 0}\n            </div>\n            <div className=\"text-xs text-muted-foreground\">Comments</div>\n          </div>\n        </div>\n      )}\n\n      {/* Timeline */}\n      <ScrollArea className=\"h-[400px] pr-4\">\n        {activities.length === 0 ? (\n          <div className=\"text-center py-12 text-muted-foreground\">\n            <TrendingUp className=\"h-12 w-12 mx-auto mb-2 opacity-50\" />\n            <p>No activity yet</p>\n            <p className=\"text-sm\">\n              {showRecent\n                ? 'No activity in the last 24 hours'\n                : 'Activity will appear here'}\n            </p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {activities.map((activity: any) => (\n              <ActivityItem key={activity.id} activity={activity} />\n            ))}\n          </div>\n        )}\n      </ScrollArea>\n    </div>\n  );\n}\n\n// ==================== ACTIVITY ITEM COMPONENT ====================\n\ninterface ActivityItemProps {\n  activity: any;\n}\n\nfunction ActivityItem({ activity }: ActivityItemProps) {\n  const icon = getActivityIcon(activity.action);\n  const colorClass = getActivityColor(activity.action);\n\n  // Parse old/new values if they exist\n  const oldValue = activity.oldValue\n    ? typeof activity.oldValue === 'string'\n      ? activity.oldValue\n      : JSON.stringify(activity.oldValue)\n    : null;\n\n  const newValue = activity.newValue\n    ? typeof activity.newValue === 'string'\n      ? activity.newValue\n      : JSON.stringify(activity.newValue)\n    : null;\n\n  return (\n    <div className=\"flex items-start gap-3 group\">\n      {/* Timeline Dot */}\n      <div className=\"relative flex-shrink-0\">\n        <div\n          className={cn(\n            'w-8 h-8 rounded-full flex items-center justify-center text-sm',\n            colorClass\n          )}\n        >\n          {icon}\n        </div>\n        {/* Timeline Line */}\n        <div className=\"absolute top-8 left-1/2 -translate-x-1/2 w-0.5 h-full bg-border\" />\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0 pb-4\">\n        {/* Header */}\n        <div className=\"flex items-start gap-2 mb-1\">\n          <Avatar className=\"h-6 w-6 flex-shrink-0\">\n            <AvatarImage src={activity.user?.avatar} />\n            <AvatarFallback className=\"text-xs\">\n              {activity.user?.firstName?.[0]}\n              {activity.user?.lastName?.[0]}\n            </AvatarFallback>\n          </Avatar>\n\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2 flex-wrap\">\n              <span className=\"font-medium text-sm\">\n                {activity.user?.firstName} {activity.user?.lastName}\n              </span>\n              <Badge variant=\"outline\" className=\"text-xs\">\n                {activity.action.replace(/_/g, ' ')}\n              </Badge>\n            </div>\n\n            {/* Description */}\n            <p className=\"text-sm text-muted-foreground mt-0.5\">\n              {activity.description}\n            </p>\n\n            {/* Old/New Values */}\n            {(oldValue || newValue) && (\n              <div className=\"mt-2 p-2 bg-muted/50 rounded text-xs space-y-1\">\n                {oldValue && (\n                  <div>\n                    <span className=\"text-muted-foreground\">From:</span>{' '}\n                    <span className=\"font-mono text-red-600\">{oldValue}</span>\n                  </div>\n                )}\n                {newValue && (\n                  <div>\n                    <span className=\"text-muted-foreground\">To:</span>{' '}\n                    <span className=\"font-mono text-green-600\">{newValue}</span>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Timestamp */}\n            <p className=\"text-xs text-muted-foreground mt-1\">\n              {formatDistanceToNow(new Date(activity.createdAt), {\n                addSuffix: true,\n              })}{' '}\n              Â· {format(new Date(activity.createdAt), 'MMM dd, HH:mm')}\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","/**\n * ============================================================================\n * TASK ACTIVITY LOG HOOKS - MVP 3 DYNAMIC GRAPHQL\n * ============================================================================\n * \n * Activity history tracking using Dynamic GraphQL\n * Features:\n * - Automatic activity logging\n * - Timeline view\n * - Filter by action type\n * - Full change history\n * \n * @author Senior Full-Stack Engineer\n * @version 3.0.0 - MVP 3\n */\n\nimport { useMemo } from 'react';\nimport {\n  useFindMany,\n  useCreateOne,\n} from './useDynamicGraphQL';\n\n// ==================== TYPE DEFINITIONS ====================\n\nexport type ActivityType =\n  | 'TASK_CREATED'\n  | 'TASK_UPDATED'\n  | 'TASK_DELETED'\n  | 'TASK_STATUS_CHANGED'\n  | 'TASK_PRIORITY_CHANGED'\n  | 'TASK_ASSIGNED'\n  | 'TASK_UNASSIGNED'\n  | 'COMMENT_ADDED'\n  | 'COMMENT_EDITED'\n  | 'COMMENT_DELETED'\n  | 'SUBTASK_ADDED'\n  | 'SUBTASK_COMPLETED'\n  | 'SUBTASK_DELETED'\n  | 'FILE_UPLOADED'\n  | 'FILE_DELETED'\n  | 'DUE_DATE_CHANGED'\n  | 'DESCRIPTION_CHANGED'\n  | 'TITLE_CHANGED';\n\nexport interface TaskActivityLog {\n  id: string;\n  action: ActivityType;\n  description: string;\n  oldValue?: any;\n  newValue?: any;\n  createdAt: string;\n  taskId: string;\n  userId: string;\n  user?: {\n    id: string;\n    firstName?: string;\n    lastName?: string;\n    email: string;\n    avatar?: string;\n  };\n}\n\nexport interface CreateActivityInput {\n  action: ActivityType;\n  description: string;\n  oldValue?: any;\n  newValue?: any;\n  taskId: string;\n}\n\nexport interface ActivityFilter {\n  action?: ActivityType;\n  userId?: string;\n  fromDate?: string;\n  toDate?: string;\n}\n\n// ==================== QUERY HOOKS ====================\n\n/**\n * Hook: Get activity timeline for a task\n * \n * @example\n * const { data: activities, loading, refetch } = useTaskActivities(taskId);\n */\nexport const useTaskActivities = (\n  taskId: string | null,\n  filters?: ActivityFilter\n) => {\n  const where = useMemo(() => {\n    if (!taskId) return undefined;\n\n    const conditions: any = {\n      taskId: { equals: taskId },\n    };\n\n    // Apply filters\n    if (filters?.action) {\n      conditions.action = { equals: filters.action };\n    }\n\n    if (filters?.userId) {\n      conditions.userId = { equals: filters.userId };\n    }\n\n    if (filters?.fromDate || filters?.toDate) {\n      conditions.createdAt = {};\n      if (filters.fromDate) {\n        conditions.createdAt.gte = filters.fromDate;\n      }\n      if (filters.toDate) {\n        conditions.createdAt.lte = filters.toDate;\n      }\n    }\n\n    return conditions;\n  }, [taskId, filters]);\n\n  const { data, loading, error, refetch } = useFindMany<TaskActivityLog>(\n    'taskActivityLog',\n    {\n      where,\n      orderBy: { createdAt: 'desc' }, // Newest first\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n      },\n    },\n    {\n      skip: !taskId,\n      fetchPolicy: 'cache-and-network',\n    }\n  );\n\n  return {\n    data: data || [],\n    loading,\n    error,\n    refetch,\n  };\n};\n\n/**\n * Hook: Get recent activities (last 24 hours)\n * \n * @example\n * const { data: recentActivities } = useRecentActivities(taskId);\n */\nexport const useRecentActivities = (taskId: string | null) => {\n  const yesterday = useMemo(() => {\n    const date = new Date();\n    date.setHours(date.getHours() - 24);\n    return date.toISOString();\n  }, []);\n\n  return useTaskActivities(taskId, {\n    fromDate: yesterday,\n  });\n};\n\n/**\n * Hook: Get activity count by type\n * \n * @example\n * const { stats } = useActivityStats(taskId);\n * // stats = { COMMENT_ADDED: 5, STATUS_CHANGED: 3, ... }\n */\nexport const useActivityStats = (taskId: string | null) => {\n  const { data: activities, loading, error } = useTaskActivities(taskId);\n\n  const stats = useMemo(() => {\n    if (!activities) return {};\n\n    const statsByType: Record<string, number> = {};\n    activities.forEach(activity => {\n      statsByType[activity.action] = (statsByType[activity.action] || 0) + 1;\n    });\n\n    return statsByType;\n  }, [activities]);\n\n  return {\n    stats,\n    loading,\n    error,\n  };\n};\n\n// ==================== MUTATION HOOKS ====================\n\n/**\n * Hook: Create activity log entry\n * \n * Note: In production, this would be called automatically by backend\n * when task changes occur. For MVP 3, we can manually log activities.\n * \n * @example\n * const [logActivity] = useLogActivity();\n * await logActivity({\n *   variables: {\n *     input: {\n *       action: \"TASK_STATUS_CHANGED\",\n *       description: \"changed status from PENDING to IN_PROGRESS\",\n *       oldValue: { status: \"PENDING\" },\n *       newValue: { status: \"IN_PROGRESS\" },\n *       taskId: \"task-uuid\"\n *     }\n *   }\n * });\n */\nexport const useLogActivity = () => {\n  const [createOne, { data, loading, error }] = useCreateOne<TaskActivityLog>(\n    'taskActivityLog'\n  );\n\n  const logActivity = async (options: {\n    variables: {\n      input: CreateActivityInput;\n    };\n  }) => {\n    const result = await createOne({\n      data: options.variables.input,\n      include: {\n        user: {\n          select: {\n            id: true,\n            firstName: true,\n            lastName: true,\n            email: true,\n            avatar: true,\n          },\n        },\n      },\n    });\n\n    return { data: { logActivity: result } };\n  };\n\n  return [logActivity, { loading, error }] as const;\n};\n\n// ==================== HELPER FUNCTIONS ====================\n\n/**\n * Helper: Get icon for activity type\n */\nexport const getActivityIcon = (action: ActivityType): string => {\n  switch (action) {\n    case 'TASK_CREATED':\n      return 'âœ¨';\n    case 'TASK_UPDATED':\n      return 'âœï¸';\n    case 'TASK_DELETED':\n      return 'ðŸ—‘ï¸';\n    case 'TASK_STATUS_CHANGED':\n      return 'ðŸ“‹';\n    case 'TASK_PRIORITY_CHANGED':\n      return 'ðŸ”¥';\n    case 'TASK_ASSIGNED':\n      return 'ðŸ‘¤';\n    case 'TASK_UNASSIGNED':\n      return 'ðŸ‘‹';\n    case 'COMMENT_ADDED':\n      return 'ðŸ’¬';\n    case 'COMMENT_EDITED':\n      return 'âœï¸';\n    case 'COMMENT_DELETED':\n      return 'ðŸ—‘ï¸';\n    case 'SUBTASK_ADDED':\n      return 'âž•';\n    case 'SUBTASK_COMPLETED':\n      return 'âœ…';\n    case 'SUBTASK_DELETED':\n      return 'âŒ';\n    case 'FILE_UPLOADED':\n      return 'ðŸ“Ž';\n    case 'FILE_DELETED':\n      return 'ðŸ—‘ï¸';\n    case 'DUE_DATE_CHANGED':\n      return 'ðŸ“…';\n    case 'DESCRIPTION_CHANGED':\n      return 'ðŸ“';\n    case 'TITLE_CHANGED':\n      return 'âœï¸';\n    default:\n      return 'ðŸ“Œ';\n  }\n};\n\n/**\n * Helper: Get color for activity type\n */\nexport const getActivityColor = (action: ActivityType): string => {\n  switch (action) {\n    case 'TASK_CREATED':\n      return 'text-green-600';\n    case 'TASK_DELETED':\n    case 'COMMENT_DELETED':\n    case 'SUBTASK_DELETED':\n    case 'FILE_DELETED':\n      return 'text-red-600';\n    case 'TASK_STATUS_CHANGED':\n      return 'text-blue-600';\n    case 'TASK_PRIORITY_CHANGED':\n      return 'text-orange-600';\n    case 'COMMENT_ADDED':\n      return 'text-purple-600';\n    case 'SUBTASK_ADDED':\n    case 'SUBTASK_COMPLETED':\n      return 'text-green-600';\n    case 'FILE_UPLOADED':\n      return 'text-indigo-600';\n    default:\n      return 'text-gray-600';\n  }\n};\n\n// ==================== EXPORT ALL ====================\n\nexport default {\n  // Queries\n  useTaskActivities,\n  useRecentActivities,\n  useActivityStats,\n  // Mutations\n  useLogActivity,\n  // Helpers\n  getActivityIcon,\n  getActivityColor,\n};\n","import * as React from \"react\"\nimport * as VisuallyHiddenPrimitive from \"@radix-ui/react-visually-hidden\"\n\nconst VisuallyHidden = VisuallyHiddenPrimitive.Root\n\nexport { VisuallyHidden }\n","/**\n * ============================================================================\n * TASK DETAIL MODAL - MVP 3 COMPLETE\n * ============================================================================\n * \n * Full task view with:\n * - Task details with inline editing\n * - Real-time Comments with threaded replies\n * - Subtasks with progress tracking\n * - Activity history timeline\n * - Assignee management\n * - All using Dynamic GraphQL\n * \n * @author Senior Full-Stack Engineer\n * @version 3.0.0 - MVP 3 Complete\n */\n\n'use client';\n\nimport React, { useState } from 'react';\nimport { format } from 'date-fns';\nimport { \n  useTask, \n  useUpdateTask, \n  useDeleteTask \n} from '@/hooks/useTasks.dynamic';\nimport CommentsSection from './CommentsSection';\nimport SubtasksSection from './SubtasksSection';\nimport ActivityTimeline from './ActivityTimeline';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from '@/components/ui/dialog';\nimport { VisuallyHidden } from '@/components/ui/visually-hidden';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Separator } from '@/components/ui/separator';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from '@/components/ui/tabs';\nimport {\n  Calendar,\n  MessageSquare,\n  CheckSquare,\n  Clock,\n  User,\n  Tag,\n  Edit,\n  Trash2,\n  Save,\n  X,\n  AlertCircle,\n} from 'lucide-react';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface TaskDetailModalProps {\n  taskId: string | null;\n  projectId: string;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport default function TaskDetailModal({\n  taskId,\n  projectId,\n  open,\n  onOpenChange,\n}: TaskDetailModalProps) {\n  const { toast } = useToast();\n  const { data, loading, error, refetch } = useTask(taskId);\n  const [updateTask, { loading: updating }] = useUpdateTask();\n  const [deleteTask, { loading: deleting }] = useDeleteTask(projectId);\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedTitle, setEditedTitle] = useState('');\n  const [editedDescription, setEditedDescription] = useState('');\n\n  const task = data?.task;\n\n  // Initialize edit fields when task loads\n  React.useEffect(() => {\n    if (task) {\n      setEditedTitle(task.title);\n      setEditedDescription(task.description || '');\n    }\n  }, [task]);\n\n  if (!open || !taskId) return null;\n\n  if (loading) {\n    return (\n      <Dialog open={open} onOpenChange={onOpenChange}>\n        <DialogContent className=\"max-w-4xl flex flex-col max-h-[90vh] p-0\">\n          <VisuallyHidden>\n            <DialogTitle>Loading task details</DialogTitle>\n          </VisuallyHidden>\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n          </div>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  if (error || !task) {\n    return (\n      <Dialog open={open} onOpenChange={onOpenChange}>\n        <DialogContent className=\"max-w-4xl flex flex-col max-h-[90vh] p-0\">\n          <VisuallyHidden>\n            <DialogTitle>Error loading task</DialogTitle>\n          </VisuallyHidden>\n          <div className=\"text-center py-12\">\n            <p className=\"text-destructive\">Failed to load task details</p>\n          </div>\n        </DialogContent>\n      </Dialog>\n    );\n  }\n\n  const handleSave = async () => {\n    try {\n      await updateTask({\n        variables: {\n          id: taskId,\n          input: {\n            title: editedTitle,\n            description: editedDescription,\n          },\n        },\n      });\n\n      toast({\n        title: 'Success',\n        description: 'Task updated successfully',\n        type: 'success',\n      });\n\n      setIsEditing(false);\n      refetch();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to update task',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!confirm('Are you sure you want to delete this task?')) return;\n\n    try {\n      await deleteTask({\n        variables: { id: taskId },\n      });\n\n      toast({\n        title: 'Success',\n        description: 'Task deleted successfully',\n        type: 'success',\n      });\n\n      onOpenChange(false);\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to delete task',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  const handleStatusChange = async (newStatus: string) => {\n    try {\n      await updateTask({\n        variables: {\n          id: taskId,\n          input: {\n            status: newStatus as any,\n          },\n        },\n      });\n\n      toast({\n        title: 'Success',\n        description: 'Status updated',\n        type: 'success',\n      });\n\n      refetch();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to update status',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  const handlePriorityChange = async (newPriority: string) => {\n    try {\n      await updateTask({\n        variables: {\n          id: taskId,\n          input: {\n            priority: newPriority as any,\n          },\n        },\n      });\n\n      toast({\n        title: 'Success',\n        description: 'Priority updated',\n        type: 'success',\n      });\n\n      refetch();\n    } catch (error) {\n      toast({\n        title: 'Error',\n        description: 'Failed to update priority',\n        variant: 'destructive',\n        type: 'error',\n      });\n    }\n  };\n\n  const getPriorityColor = (priority: string) => {\n    switch (priority) {\n      case 'URGENT': return 'bg-red-500 text-white';\n      case 'HIGH': return 'bg-orange-500 text-white';\n      case 'MEDIUM': return 'bg-yellow-500 text-white';\n      case 'LOW': return 'bg-green-500 text-white';\n      default: return 'bg-gray-500 text-white';\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'COMPLETED': return 'bg-green-100 text-green-800 border-green-300';\n      case 'IN_PROGRESS': return 'bg-blue-100 text-blue-800 border-blue-300';\n      case 'PENDING': return 'bg-gray-100 text-gray-800 border-gray-300';\n      case 'CANCELLED': return 'bg-red-100 text-red-800 border-red-300';\n      default: return 'bg-gray-100 text-gray-800 border-gray-300';\n    }\n  };\n\n  const isOverdue = task.dueDate && new Date(task.dueDate) < new Date() && task.status !== 'COMPLETED';\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-4xl flex flex-col max-h-[90vh] p-0\">\n        {/* Header - Fixed */}\n        <DialogHeader className=\"px-6 pt-6 pb-4 border-b\">\n          <div className=\"flex items-start justify-between gap-4\">\n            <div className=\"flex-1\">\n              {isEditing ? (\n                <Input\n                  value={editedTitle}\n                  onChange={(e) => setEditedTitle(e.target.value)}\n                  className=\"text-lg font-semibold\"\n                  placeholder=\"Task title\"\n                />\n              ) : (\n                <DialogTitle className=\"text-xl\">{task.title}</DialogTitle>\n              )}\n            </div>\n            <div className=\"flex items-center gap-2\">\n              {isEditing ? (\n                <>\n                  <Button size=\"sm\" onClick={handleSave} disabled={updating}>\n                    <Save className=\"h-4 w-4 mr-2\" />\n                    Save\n                  </Button>\n                  <Button size=\"sm\" variant=\"outline\" onClick={() => setIsEditing(false)}>\n                    <X className=\"h-4 w-4 mr-2\" />\n                    Cancel\n                  </Button>\n                </>\n              ) : (\n                <>\n                  <Button size=\"sm\" variant=\"outline\" onClick={() => setIsEditing(true)}>\n                    <Edit className=\"h-4 w-4 mr-2\" />\n                    Edit\n                  </Button>\n                  <Button \n                    size=\"sm\" \n                    variant=\"destructive\" \n                    onClick={handleDelete}\n                    disabled={deleting}\n                  >\n                    <Trash2 className=\"h-4 w-4 mr-2\" />\n                    Delete\n                  </Button>\n                </>\n              )}\n            </div>\n          </div>\n        </DialogHeader>\n\n        {/* Content - Scrollable */}\n        <div className=\"flex-1 overflow-y-auto px-6 py-4\">\n          <div className=\"space-y-6\">\n            {/* Task Info */}\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n              {/* Status */}\n              <div className=\"space-y-2\">\n                <Label>Status</Label>\n                <Select value={task.status} onValueChange={handleStatusChange}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"PENDING\">ðŸ“‹ Pending</SelectItem>\n                    <SelectItem value=\"IN_PROGRESS\">âš¡ In Progress</SelectItem>\n                    <SelectItem value=\"COMPLETED\">âœ… Completed</SelectItem>\n                    <SelectItem value=\"CANCELLED\">âŒ Cancelled</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              {/* Priority */}\n              <div className=\"space-y-2\">\n                <Label>Priority</Label>\n                <Select value={task.priority} onValueChange={handlePriorityChange}>\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"LOW\">ðŸŸ¢ Low</SelectItem>\n                    <SelectItem value=\"MEDIUM\">ðŸŸ¡ Medium</SelectItem>\n                    <SelectItem value=\"HIGH\">ðŸŸ  High</SelectItem>\n                    <SelectItem value=\"URGENT\">ðŸ”´ Urgent</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n            </div>\n\n            {/* Description */}\n            <div className=\"space-y-2\">\n              <Label>Description</Label>\n              {isEditing ? (\n                <Textarea\n                  value={editedDescription}\n                  onChange={(e) => setEditedDescription(e.target.value)}\n                  rows={5}\n                  placeholder=\"Task description...\"\n                />\n              ) : (\n                <div className=\"p-3 bg-muted/50 rounded-md min-h-[100px]\">\n                  {task.description || (\n                    <span className=\"text-muted-foreground italic\">No description</span>\n                  )}\n                </div>\n              )}\n            </div>\n\n            {/* Meta Information */}\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 p-4 bg-muted/30 rounded-lg\">\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-2\">\n                  <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n                  <div>\n                    <div className=\"text-xs text-muted-foreground\">Due Date</div>\n                    <div className={`text-sm font-medium ${isOverdue ? 'text-red-600' : ''}`}>\n                      {task.dueDate ? (\n                        <>\n                          {format(new Date(task.dueDate), 'PPP')}\n                          {isOverdue && (\n                            <AlertCircle className=\"inline h-3 w-3 ml-1\" />\n                          )}\n                        </>\n                      ) : (\n                        'No due date'\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center gap-2\">\n                  <User className=\"h-4 w-4 text-muted-foreground\" />\n                  <div>\n                    <div className=\"text-xs text-muted-foreground\">Created By</div>\n                    <div className=\"text-sm font-medium flex items-center gap-2\">\n                      <Avatar className=\"h-5 w-5\">\n                        <AvatarImage src={task.user?.avatar} />\n                        <AvatarFallback className=\"text-xs\">\n                          {task.user?.firstName?.[0]}{task.user?.lastName?.[0]}\n                        </AvatarFallback>\n                      </Avatar>\n                      {task.user?.firstName} {task.user?.lastName}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-2\">\n                  <Clock className=\"h-4 w-4 text-muted-foreground\" />\n                  <div>\n                    <div className=\"text-xs text-muted-foreground\">Created</div>\n                    <div className=\"text-sm font-medium\">\n                      {format(new Date(task.createdAt), 'PPp')}\n                    </div>\n                  </div>\n                </div>\n\n                {task.completedAt && (\n                  <div className=\"flex items-center gap-2\">\n                    <CheckSquare className=\"h-4 w-4 text-muted-foreground\" />\n                    <div>\n                      <div className=\"text-xs text-muted-foreground\">Completed</div>\n                      <div className=\"text-sm font-medium\">\n                        {format(new Date(task.completedAt), 'PPp')}\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Tags */}\n            {task.tags && task.tags.length > 0 && (\n              <div className=\"space-y-2\">\n                <Label>Tags</Label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {task.tags.map((tag: string, idx: number) => (\n                    <Badge key={idx} variant=\"secondary\">\n                      <Tag className=\"h-3 w-3 mr-1\" />\n                      {tag}\n                    </Badge>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Assignees */}\n            {task.assignedTo && task.assignedTo.length > 0 && (\n              <div className=\"space-y-2\">\n                <Label>Assigned To</Label>\n                <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                  <User className=\"h-4 w-4\" />\n                  {task.assignedTo.length} member(s) assigned\n                </div>\n              </div>\n            )}\n\n            <Separator />\n\n            {/* Tabs: Comments, Subtasks, Activity */}\n            <Tabs defaultValue=\"comments\" className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-3\">\n                <TabsTrigger value=\"comments\">\n                  <MessageSquare className=\"h-4 w-4 mr-2\" />\n                  <span className=\"hidden sm:inline\">Comments</span>\n                  <span className=\"sm:hidden\">ðŸ’¬</span>\n                  <span className=\"ml-1\">({task._count?.comments || 0})</span>\n                </TabsTrigger>\n                <TabsTrigger value=\"subtasks\">\n                  <CheckSquare className=\"h-4 w-4 mr-2\" />\n                  <span className=\"hidden sm:inline\">Subtasks</span>\n                  <span className=\"sm:hidden\">âœ“</span>\n                  <span className=\"ml-1\">({task._count?.subtasks || 0})</span>\n                </TabsTrigger>\n                <TabsTrigger value=\"activity\">\n                  <Clock className=\"h-4 w-4 mr-2\" />\n                  <span className=\"hidden sm:inline\">Activity</span>\n                  <span className=\"sm:hidden\">â±</span>\n                </TabsTrigger>\n              </TabsList>\n\n              <TabsContent value=\"comments\" className=\"space-y-4 pt-4\">\n                <CommentsSection taskId={taskId} />\n              </TabsContent>\n\n              <TabsContent value=\"subtasks\" className=\"space-y-4 pt-4\">\n                <SubtasksSection taskId={taskId} />\n              </TabsContent>\n\n              <TabsContent value=\"activity\" className=\"space-y-4 pt-4\">\n                <ActivityTimeline taskId={taskId} />\n              </TabsContent>\n            </Tabs>\n          </div>\n        </div>\n\n        {/* Footer - Fixed */}\n        <div className=\"px-6 py-4 border-t bg-muted/30\">\n          <div className=\"flex flex-col sm:flex-row items-center justify-between gap-3\">\n            <div className=\"text-xs text-muted-foreground text-center sm:text-left\">\n              Last updated {format(new Date(task.updatedAt), 'PPp')}\n            </div>\n            <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n              Close\n            </Button>\n          </div>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","'use client';\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { io, Socket } from 'socket.io-client';\nimport { MessageSquare, Send, Smile, Paperclip, MoreVertical, Loader } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { useToast } from '@/hooks/use-toast';\n\ninterface ChatPanelProps {\n  projectId: string | null;\n  userToken?: string;\n}\n\ninterface ChatMessage {\n  id: string;\n  userId: string;\n  userName: string;\n  userAvatar?: string;\n  content: string;\n  createdAt: Date;\n  isEdited?: boolean;\n  reactions?: Record<string, string[]>;\n}\n\ninterface TypingUser {\n  userId: string;\n  userName: string;\n}\n\nexport default function ChatPanel({ projectId, userToken }: ChatPanelProps) {\n  const [socket, setSocket] = useState<Socket | null>(null);\n  const [messages, setMessages] = useState<ChatMessage[]>([]);\n  const [messageInput, setMessageInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [onlineUsers, setOnlineUsers] = useState<string[]>([]);\n  const [typingUsers, setTypingUsers] = useState<TypingUser[]>([]);\n  const [isConnected, setIsConnected] = useState(false);\n  const scrollRef = useRef<HTMLDivElement>(null);\n  const { toast } = useToast();\n  const typingTimeoutRef = useRef<NodeJS.Timeout | undefined>(undefined);\n\n  // Initialize Socket.IO connection\n  useEffect(() => {\n    // Get token from props or localStorage\n    const token = userToken || (typeof window !== 'undefined' ? localStorage.getItem('accessToken') : null);\n    \n    // Silent return if no project selected (normal state)\n    if (!projectId) {\n      return;\n    }\n\n    // Log error only if missing token (actual error)\n    if (!token) {\n      console.error('[ChatPanel] Missing authentication token');\n      return;\n    }\n\n    const socketUrl = process.env.NEXT_PUBLIC_SOCKET_URL || process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:12001';\n    console.log('[ChatPanel] Connecting to:', `${socketUrl}/project-chat`);\n    \n    const newSocket = io(`${socketUrl}/project-chat`, {\n      auth: {\n        token: token.startsWith('Bearer ') ? token : `Bearer ${token}`,\n      },\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 5000,\n      reconnectionAttempts: 5,\n    });\n\n    // Connection events\n    newSocket.on('connect', () => {\n      setIsConnected(true);\n      console.log('âœ… Connected to chat');\n      newSocket.emit('join_project', { projectId });\n      \n      // Request to load messages after joining\n      newSocket.emit('load_messages', {\n        projectId,\n        take: 50,\n        skip: 0,\n      });\n    });\n\n    newSocket.on('disconnect', () => {\n      setIsConnected(false);\n      console.log('âŒ Disconnected from chat');\n    });\n\n    // Chat events\n    newSocket.on('new_message', (message: ChatMessage) => {\n      setMessages((prev) => [...prev, { ...message, createdAt: new Date(message.createdAt) }]);\n    });\n\n    newSocket.on('messages_loaded', (loadedMessages: ChatMessage[]) => {\n      setMessages(\n        loadedMessages.map((m) => ({\n          ...m,\n          createdAt: new Date(m.createdAt),\n        }))\n      );\n    });\n\n    newSocket.on('message_edited', (data: { messageId: string; content: string }) => {\n      setMessages((prev) =>\n        prev.map((m) =>\n          m.id === data.messageId ? { ...m, content: data.content, isEdited: true } : m\n        )\n      );\n    });\n\n    newSocket.on('message_deleted', (data: { messageId: string }) => {\n      setMessages((prev) => prev.filter((m) => m.id !== data.messageId));\n    });\n\n    newSocket.on('reaction_added', (data: { messageId: string; userId: string; emoji: string }) => {\n      setMessages((prev) =>\n        prev.map((m) => {\n          if (m.id === data.messageId) {\n            const reactions = m.reactions || {};\n            reactions[data.emoji] = reactions[data.emoji] || [];\n            if (!reactions[data.emoji].includes(data.userId)) {\n              reactions[data.emoji].push(data.userId);\n            }\n            return { ...m, reactions };\n          }\n          return m;\n        })\n      );\n    });\n\n    newSocket.on('user_typing', (data: { userId: string; userName: string }) => {\n      setTypingUsers((prev) => {\n        if (!prev.find((u) => u.userId === data.userId)) {\n          return [...prev, data];\n        }\n        return prev;\n      });\n    });\n\n    newSocket.on('user_stopped_typing', (data: { userId: string }) => {\n      setTypingUsers((prev) => prev.filter((u) => u.userId !== data.userId));\n    });\n\n    newSocket.on('online_users', (users: string[]) => {\n      setOnlineUsers(users);\n    });\n\n    newSocket.on('user_joined', (data: { userId: string; userName: string }) => {\n      toast({\n        title: 'User Joined',\n        description: `${data.userName} joined the chat`,\n        type: 'info',\n      });\n    });\n\n    newSocket.on('user_left', (data: { userId: string; userName: string }) => {\n      toast({\n        title: 'User Left',\n        description: `${data.userName} left the chat`,\n        type: 'info',\n      });\n    });\n\n    newSocket.on('error', (error: { message: string }) => {\n      toast({\n        title: 'Error',\n        description: `Chat error: ${error.message}`,\n        type: 'error',\n      });\n    });\n\n    setSocket(newSocket);\n\n    return () => {\n      newSocket.emit('leave_project', { projectId });\n      newSocket.close();\n    };\n  }, [projectId, userToken, toast]);\n\n  // Auto-scroll to latest message\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  const handleSendMessage = () => {\n    if (!messageInput.trim() || !socket || !isConnected) return;\n\n    socket.emit('send_message', {\n      projectId,\n      content: messageInput,\n      attachments: [],\n    });\n\n    setMessageInput('');\n    socket.emit('typing_stop', { projectId });\n  };\n\n  const handleTyping = () => {\n    if (!socket || !isConnected) return;\n\n    socket.emit('typing_start', { projectId });\n\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current);\n    }\n\n    typingTimeoutRef.current = setTimeout(() => {\n      socket.emit('typing_stop', { projectId });\n    }, 3000);\n  };\n\n  const handleMessageReaction = (messageId: string, emoji: string) => {\n    if (!socket || !isConnected) return;\n\n    socket.emit('message_reaction', {\n      messageId,\n      emoji,\n    });\n  };\n\n  const handleDeleteMessage = (messageId: string) => {\n    if (!socket || !isConnected) return;\n\n    socket.emit('delete_message', { messageId });\n  };\n\n  const handleLoadMore = () => {\n    if (!socket || !isConnected) return;\n\n    socket.emit('load_messages', {\n      projectId,\n      take: 50,\n      skip: messages.length,\n    });\n  };\n\n  if (!projectId) {\n    return (\n      <div className=\"h-full flex items-center justify-center bg-muted/30\">\n        <div className=\"text-center max-w-xs px-4\">\n          <MessageSquare className=\"h-12 w-12 mx-auto mb-3 text-muted-foreground\" />\n          <p className=\"text-sm text-muted-foreground\">\n            Select a project to view chat\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full flex flex-col bg-background\">\n      {/* Header */}\n      <div className=\"p-4 border-b bg-white sticky top-0\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <MessageSquare className=\"h-4 w-4\" />\n            <h3 className=\"font-semibold\">Project Chat</h3>\n            {isConnected ? (\n              <span className=\"inline-flex items-center gap-1 text-xs text-green-600\">\n                <span className=\"h-2 w-2 rounded-full bg-green-600\" />\n                Connected\n              </span>\n            ) : (\n              <span className=\"inline-flex items-center gap-1 text-xs text-gray-500\">\n                <Loader className=\"h-3 w-3 animate-spin\" />\n                Connecting...\n              </span>\n            )}\n          </div>\n          <div className=\"text-xs text-gray-500\">\n            {onlineUsers.length} online\n          </div>\n        </div>\n      </div>\n\n      {/* Messages Area */}\n      <ScrollArea className=\"flex-1 p-4\" ref={scrollRef}>\n        <div className=\"space-y-4\">\n          {messages.length === 0 ? (\n            <div className=\"flex items-center justify-center h-full\">\n              <p className=\"text-sm text-muted-foreground\">No messages yet. Start the conversation!</p>\n            </div>\n          ) : (\n            messages.map((message) => (\n              <div key={message.id} className=\"flex gap-3 group\">\n                <Avatar className=\"h-8 w-8 flex-shrink-0\">\n                  <AvatarImage src={message.userAvatar} />\n                  <AvatarFallback>{message.userName.charAt(0)}</AvatarFallback>\n                </Avatar>\n\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center gap-2\">\n                    <span className=\"text-sm font-semibold\">{message.userName}</span>\n                    <span className=\"text-xs text-gray-500\">\n                      {message.createdAt.toLocaleTimeString('vi-VN', {\n                        hour: '2-digit',\n                        minute: '2-digit',\n                      })}\n                    </span>\n                    {message.isEdited && (\n                      <span className=\"text-xs text-gray-400\">(edited)</span>\n                    )}\n                  </div>\n\n                  <p className=\"text-sm text-foreground break-words\">{message.content}</p>\n\n                  {/* Reactions */}\n                  {message.reactions && Object.keys(message.reactions).length > 0 && (\n                    <div className=\"flex gap-1 mt-1 flex-wrap\">\n                      {Object.entries(message.reactions).map(([emoji, users]) => (\n                        <div\n                          key={emoji}\n                          className=\"flex items-center gap-1 px-2 py-0.5 bg-gray-100 rounded-full text-xs cursor-pointer hover:bg-gray-200\"\n                          onClick={() => handleMessageReaction(message.id, emoji)}\n                        >\n                          <span>{emoji}</span>\n                          <span className=\"text-gray-600\">{users.length}</span>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n\n                  {/* Message Actions */}\n                  <div className=\"opacity-0 group-hover:opacity-100 transition-opacity flex gap-1 mt-1\">\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      className=\"h-6 w-6 p-0\"\n                      onClick={() => handleMessageReaction(message.id, 'ðŸ‘')}\n                    >\n                      ðŸ‘\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant=\"ghost\"\n                      className=\"h-6 w-6 p-0\"\n                      onClick={() => handleMessageReaction(message.id, 'â¤ï¸')}\n                    >\n                      â¤ï¸\n                    </Button>\n                    <DropdownMenu>\n                      <DropdownMenuTrigger asChild>\n                        <Button size=\"sm\" variant=\"ghost\" className=\"h-6 w-6 p-0\">\n                          <MoreVertical className=\"h-3 w-3\" />\n                        </Button>\n                      </DropdownMenuTrigger>\n                      <DropdownMenuContent align=\"end\">\n                        <DropdownMenuItem onClick={() => handleDeleteMessage(message.id)}>\n                          Delete\n                        </DropdownMenuItem>\n                      </DropdownMenuContent>\n                    </DropdownMenu>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n\n          {/* Typing Indicator */}\n          {typingUsers.length > 0 && (\n            <div className=\"flex gap-2 text-xs text-gray-500\">\n              <span>{typingUsers.map((u) => u.userName).join(', ')} is typing...</span>\n              <span className=\"animate-pulse\">â—â—â—</span>\n            </div>\n          )}\n        </div>\n      </ScrollArea>\n\n      {/* Input Area */}\n      <div className=\"p-4 border-t bg-white\">\n        <div className=\"flex gap-2\">\n          <Button size=\"sm\" variant=\"ghost\" className=\"h-10 w-10 p-0\">\n            <Paperclip className=\"h-4 w-4\" />\n          </Button>\n\n          <Input\n            placeholder=\"Type a message...\"\n            value={messageInput}\n            onChange={(e) => {\n              setMessageInput(e.target.value);\n              handleTyping();\n            }}\n            onKeyPress={(e) => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                handleSendMessage();\n              }\n            }}\n            disabled={!isConnected}\n            className=\"flex-1\"\n          />\n\n          <Button\n            size=\"sm\"\n            variant=\"ghost\"\n            className=\"h-10 w-10 p-0\"\n            onClick={() => handleMessageReaction(messages[messages.length - 1]?.id || '', 'ðŸ˜Š')}\n          >\n            <Smile className=\"h-4 w-4\" />\n          </Button>\n\n          <Button\n            size=\"sm\"\n            onClick={handleSendMessage}\n            disabled={!isConnected || isLoading}\n            className=\"h-10 w-10 p-0\"\n          >\n            {isLoading ? (\n              <Loader className=\"h-4 w-4 animate-spin\" />\n            ) : (\n              <Send className=\"h-4 w-4\" />\n            )}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[8,9,10,11,12,13,14]}