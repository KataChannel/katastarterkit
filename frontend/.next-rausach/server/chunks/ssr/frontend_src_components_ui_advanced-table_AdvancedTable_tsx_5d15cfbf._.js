module.exports=[788758,949900,115201,64474,760483,632524,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(202979),e=a.i(755820),f=a.i(928624),g=a.i(293470);class h{static applySorting(a,b){return 0===b.length?a:[...a].sort((a,c)=>{for(let d of b.sort((a,b)=>a.priority-b.priority)){let b=a[d.field],e=c[d.field],f=0;if(0!==(f=null==b&&null==e?0:null==b?-1:null==e?1:"string"==typeof b&&"string"==typeof e?b.localeCompare(e):"number"==typeof b&&"number"==typeof e?b-e:b instanceof Date&&e instanceof Date?b.getTime()-e.getTime():String(b).localeCompare(String(e))))return"desc"===d.direction?-f:f}return 0})}static applyFiltering(a,b){return 0===b.length?a:a.filter(a=>b.every(b=>{let c=a[b.field],d=b.value;switch(b.operator){case"equals":return c===d;case"contains":return String(c).toLowerCase().includes(String(d).toLowerCase());case"startsWith":return String(c).toLowerCase().startsWith(String(d).toLowerCase());case"endsWith":return String(c).toLowerCase().endsWith(String(d).toLowerCase());case"greaterThan":return Number(c)>Number(d);case"lessThan":return Number(c)<Number(d);case"between":return Number(c)>=Number(d)&&Number(c)<=Number(b.value2);case"in":return Array.isArray(d)&&d.includes(c);default:return!0}}))}static getVisibleColumns(a){return a.filter(a=>!a.hide)}static getPinnedColumns(a,b){return a.filter(a=>a.pinned===b&&!a.hide)}static getCenterColumns(a){return a.filter(a=>!a.pinned&&!a.hide)}static generateId(){return Math.random().toString(36).substr(2,9)}static validateCellValue(a,b){if(b.validation)return b.validation(a);switch(b.type){case"number":if(null!=a&&""!==a&&isNaN(Number(a)))return"Must be a valid number";break;case"date":if(a&&!(a instanceof Date)&&isNaN(Date.parse(a)))return"Must be a valid date"}return null}static globalSearch(a,b,c){if(!b.trim())return a;let d=b.toLowerCase();return a.filter(a=>c.some(b=>String(a[b.field]).toLowerCase().includes(d)))}static exportToCsv(a,b,c="export.csv"){let d=this.getVisibleColumns(b),e=new Blob([[d.map(a=>a.headerName).join(","),...a.map(a=>d.map(b=>{let c=String(a[b.field]||"");return c.includes(",")||c.includes('"')?`"${c.replace(/"/g,'""')}"`:c}).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),f=document.createElement("a");if(void 0!==f.download){let a=URL.createObjectURL(e);f.setAttribute("href",a),f.setAttribute("download",c),f.style.visibility="hidden",document.body.appendChild(f),f.click(),document.body.removeChild(f)}}}a.s(["TableUtils",()=>h],949900);var i=a.i(478184),j=a.i(144932),k=a.i(794155),l=a.i(363615),m=a.i(681768),n=a.i(723593);let o={text:[{value:"contains",label:"Contains"},{value:"equals",label:"Equals"},{value:"startsWith",label:"Starts with"},{value:"endsWith",label:"Ends with"}],number:[{value:"equals",label:"Equals"},{value:"greaterThan",label:"Greater than"},{value:"lessThan",label:"Less than"},{value:"between",label:"Between"}],date:[{value:"equals",label:"Equals"},{value:"greaterThan",label:"After"},{value:"lessThan",label:"Before"},{value:"between",label:"Between"}],select:[{value:"equals",label:"Equals"},{value:"in",label:"In"}],boolean:[{value:"equals",label:"Equals"}]};function p({columns:a,filters:e,onFiltersChange:f,globalSearch:h,onGlobalSearchChange:p}){let[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)({}),u=(0,c.useMemo)(()=>a.filter(a=>!1!==a.filterable),[a]),v=(0,c.useCallback)(a=>{r(a),a||t({})},[]),w=(0,c.useCallback)(()=>{s.field&&s.operator&&void 0!==s.value&&""!==s.value&&(f([...e,{field:s.field,operator:s.operator,value:s.value,value2:s.value2}]),t({}),r(!1))},[s,e,f]),x=(0,c.useCallback)(a=>{f(e.filter((b,c)=>c!==a))},[e,f]);(0,c.useCallback)((a,b)=>{f(e.map((c,d)=>d===a?{...c,...b}:c))},[e,f]);let y=(0,c.useCallback)(b=>{let c=a.find(a=>a.field===b);return c?.type||"text"},[a]),z=(0,c.useCallback)(a=>o[a]||o.text,[]);return(0,b.jsxs)("div",{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 border-b bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4",children:[(0,b.jsx)(i.Input,{placeholder:"Global search...",value:h,onChange:a=>p(a.target.value),className:"flex-1 sm:max-w-md text-sm"}),(0,b.jsxs)(k.Popover,{open:q,onOpenChange:v,children:[(0,b.jsx)(k.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",className:"w-full sm:w-auto text-xs sm:text-sm",children:[(0,b.jsx)(n.Plus,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Add Filter"]})}),(0,b.jsx)(k.PopoverContent,{className:"w-[95vw] sm:w-96 max-w-md",children:(0,b.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,b.jsx)("h4",{className:"font-medium text-sm sm:text-base",children:"Add Filter"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,b.jsxs)(j.Select,{value:s.field,onValueChange:a=>t({...s,field:a,operator:void 0,value:void 0}),children:[(0,b.jsx)(j.SelectTrigger,{className:"text-xs sm:text-sm",children:(0,b.jsx)(j.SelectValue,{placeholder:"Column"})}),(0,b.jsx)(j.SelectContent,{children:u.map(a=>(0,b.jsx)(j.SelectItem,{value:String(a.field),className:"text-xs sm:text-sm",children:a.headerName},String(a.field)))})]}),s.field&&(0,b.jsxs)(j.Select,{value:s.operator,onValueChange:a=>t({...s,operator:a,value:void 0}),children:[(0,b.jsx)(j.SelectTrigger,{className:"text-xs sm:text-sm",children:(0,b.jsx)(j.SelectValue,{placeholder:"Operator"})}),(0,b.jsx)(j.SelectContent,{children:z(y(s.field)).map(a=>(0,b.jsx)(j.SelectItem,{value:a.value,className:"text-xs sm:text-sm",children:a.label},a.value))})]})]}),s.field&&s.operator&&(0,b.jsx)("div",{children:(()=>{if(!s.field)return null;let c=a.find(a=>a.field===s.field),d=y(s.field);return"select"===d&&c?.filterOptions?(0,b.jsxs)(j.Select,{value:s.value,onValueChange:a=>t({...s,value:a}),children:[(0,b.jsx)(j.SelectTrigger,{className:"w-full text-xs sm:text-sm",children:(0,b.jsx)(j.SelectValue,{placeholder:"Select value"})}),(0,b.jsx)(j.SelectContent,{children:c.filterOptions.map(a=>(0,b.jsx)(j.SelectItem,{value:a,className:"text-xs sm:text-sm",children:a},a))})]}):"boolean"===d?(0,b.jsxs)(j.Select,{value:void 0!==s.value?String(s.value):void 0,onValueChange:a=>t({...s,value:"true"===a}),children:[(0,b.jsx)(j.SelectTrigger,{className:"w-full text-xs sm:text-sm",children:(0,b.jsx)(j.SelectValue,{placeholder:"Select value"})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"true",className:"text-xs sm:text-sm",children:"True"}),(0,b.jsx)(j.SelectItem,{value:"false",className:"text-xs sm:text-sm",children:"False"})]})]}):(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,b.jsx)(i.Input,{type:"number"===d?"number":"date"===d?"date":"text",value:s.value||"",onChange:a=>t({...s,value:a.target.value}),className:"w-full text-xs sm:text-sm",placeholder:"Value"}),"between"===s.operator&&(0,b.jsx)(i.Input,{type:"number"===d?"number":"date"===d?"date":"text",value:s.value2||"",onChange:a=>t({...s,value2:a.target.value}),className:"w-full text-xs sm:text-sm",placeholder:"To"})]})})()}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>r(!1),className:"w-full sm:w-auto text-xs sm:text-sm",children:"Cancel"}),(0,b.jsx)(d.Button,{size:"sm",onClick:w,disabled:!s.field||!s.operator||void 0===s.value||""===s.value,className:"w-full sm:w-auto text-xs sm:text-sm",children:"Add"})]})]})})]})]}),e.length>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 items-center",children:[(0,b.jsxs)("span",{className:"text-xs sm:text-sm text-gray-600 flex items-center flex-shrink-0",children:[(0,b.jsx)(m.Filter,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Filters:"]}),e.map((c,d)=>{let e=a.find(a=>a.field===c.field);return(0,b.jsxs)(g.Badge,{variant:"secondary",className:"flex items-center gap-1 text-[10px] sm:text-xs",children:[(0,b.jsx)("span",{className:"font-medium",children:e?.headerName}),(0,b.jsx)("span",{className:"opacity-75 hidden sm:inline",children:o[y(c.field)]?.find(a=>a.value===c.operator)?.label}),(0,b.jsx)("span",{className:"truncate max-w-[80px] sm:max-w-none",children:String(c.value)}),c.value2&&(0,b.jsxs)("span",{className:"hidden sm:inline",children:["- ",String(c.value2)]}),(0,b.jsx)("button",{onClick:()=>x(d),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:(0,b.jsx)(l.X,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})]},d)}),e.length>0&&(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",onClick:()=>f([]),className:"h-5 sm:h-6 px-1.5 sm:px-2 text-[10px] sm:text-xs",children:"Clear All"})]})]})}a.s(["FilterBar",()=>p],115201);var q=a.i(751075),r=a.i(616191),s=a.i(669055),t=a.i(649316),u=a.i(841230),v=(a.i(499970),a.i(174110)),w=a.i(786269),x=a.i(422171);function y({column:a,sortDirection:e,sortPriority:f,onSort:g,onPin:h,onHide:i,onAutoSize:j,onResize:k,width:l,isResizing:m}){let[n,o]=(0,c.useState)(!1),p=(0,c.useRef)(null),y=(0,c.useRef)(0),z=(0,c.useRef)(0);return(0,c.useEffect)(()=>{let a=a=>{if(!n)return;let b=a.clientX-y.current,c=Math.max(50,z.current+b);k?.(c)},b=()=>{o(!1)};return n&&(document.addEventListener("mousemove",a),document.addEventListener("mouseup",b)),()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",b)}},[n,k]),(0,b.jsxs)("div",{className:(0,x.cn)("group relative flex items-center h-full px-3 border-r border-gray-200 bg-gray-50 select-none",a.headerClass,a.sortable&&"cursor-pointer hover:bg-gray-100","left"===a.pinned&&"border-r-2 border-blue-200 bg-blue-50","right"===a.pinned&&"border-l-2 border-blue-200 bg-blue-50"),style:{width:l},onClick:()=>{let b;a.sortable&&(b="asc"===e?"desc":"desc"===e?null:"asc",g?.(b))},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between w-full min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,b.jsx)("span",{className:"font-medium text-sm truncate",children:a.headerName}),void 0!==f&&f>0&&(0,b.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-1 rounded",children:f+1})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[a.sortable?"asc"===e?(0,b.jsx)(r.ChevronUp,{className:"w-4 h-4"}):"desc"===e?(0,b.jsx)(s.ChevronDown,{className:"w-4 h-4"}):(0,b.jsxs)("div",{className:"flex flex-col opacity-50",children:[(0,b.jsx)(r.ChevronUp,{className:"w-3 h-3 -mb-1"}),(0,b.jsx)(s.ChevronDown,{className:"w-3 h-3"})]}):null,(0,b.jsxs)(q.DropdownMenu,{children:[(0,b.jsx)(q.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",onClick:a=>a.stopPropagation(),children:(0,b.jsx)(t.MoreHorizontal,{className:"w-4 h-4"})})}),(0,b.jsxs)(q.DropdownMenuContent,{align:"end",children:[a.sortable&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(q.DropdownMenuItem,{onClick:()=>g?.("asc"),children:[(0,b.jsx)(r.ChevronUp,{className:"w-4 h-4 mr-2"}),"Sort Ascending"]}),(0,b.jsxs)(q.DropdownMenuItem,{onClick:()=>g?.("desc"),children:[(0,b.jsx)(s.ChevronDown,{className:"w-4 h-4 mr-2"}),"Sort Descending"]}),e&&(0,b.jsx)(q.DropdownMenuItem,{onClick:()=>g?.(null),children:"Clear Sort"}),(0,b.jsx)(q.DropdownMenuSeparator,{})]}),(0,b.jsxs)(q.DropdownMenuItem,{onClick:()=>h?.("left"===a.pinned?null:"left"),children:[(0,b.jsx)(u.Pin,{className:"w-4 h-4 mr-2 rotate-45"}),"left"===a.pinned?"Unpin":"Pin Left"]}),(0,b.jsxs)(q.DropdownMenuItem,{onClick:()=>h?.("right"===a.pinned?null:"right"),children:[(0,b.jsx)(u.Pin,{className:"w-4 h-4 mr-2 -rotate-45"}),"right"===a.pinned?"Unpin":"Pin Right"]}),(0,b.jsx)(q.DropdownMenuSeparator,{}),a.resizable&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(q.DropdownMenuItem,{onClick:j,children:[(0,b.jsx)(w.Maximize2,{className:"w-4 h-4 mr-2"}),"Auto Size Column"]}),(0,b.jsx)(q.DropdownMenuSeparator,{})]}),(0,b.jsxs)(q.DropdownMenuItem,{onClick:i,children:[(0,b.jsx)(v.EyeOff,{className:"w-4 h-4 mr-2"}),"Hide Column"]})]})]})]})]}),a.resizable&&(0,b.jsx)("div",{ref:p,className:(0,x.cn)("absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-400 z-10",n&&"bg-blue-500"),onMouseDown:b=>{a.resizable&&(o(!0),y.current=b.clientX,z.current=l,b.preventDefault())},onClick:a=>a.stopPropagation()})]})}a.s(["ColumnHeader",()=>y],64474);var z=a.i(919403);function A({column:a,data:e,value:g,rowIndex:k,isEditing:m,onStartEdit:n,onSave:o,onCancel:p,isSelected:q,className:r}){let[s,t]=(0,c.useState)(g),[u,v]=(0,c.useState)(null),w=(0,c.useRef)(null);(0,c.useEffect)(()=>{m&&w.current&&(w.current.focus(),w.current.select())},[m]),(0,c.useEffect)(()=>{t(g)},[g]);let y=()=>{let b=h.validateCellValue(s,a);b?v(b):(v(null),o(s))},A=()=>{t(g),v(null),p()},B=a=>{"Enter"===a.key?y():"Escape"===a.key&&A()},C=c=>{if(null==c)return(0,b.jsx)("span",{className:"text-gray-400",children:"â€”"});switch(a.type){case"boolean":return(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)(f.Checkbox,{checked:!!c,disabled:!0})});case"date":if(c instanceof Date)return c.toLocaleDateString();if("string"==typeof c){let a=new Date(c);return isNaN(a.getTime())?c:a.toLocaleDateString()}return String(c);case"number":return"number"==typeof c?c.toLocaleString():c;default:return String(c)}},D="function"==typeof a.cellClass?a.cellClass(e):a.cellClass;return m?(0,b.jsxs)("div",{className:(0,x.cn)("h-full px-3 py-2 border-r border-gray-200 bg-white relative flex items-center",q&&"bg-blue-50",D,r),children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 w-full",children:[(0,b.jsx)("div",{className:"flex-1 min-w-0",children:(()=>{if(a.cellEditor){let b={value:s,data:e,field:a.field,rowIndex:k,colDef:a,onValueChange:t,onCancel:A,onSave:y};return a.cellEditor(b)}switch(a.type){case"boolean":return(0,b.jsx)("div",{className:"flex items-center justify-center",children:(0,b.jsx)(f.Checkbox,{checked:!!s,onCheckedChange:a=>t(a),autoFocus:!0})});case"select":if(a.filterOptions)return(0,b.jsxs)(j.Select,{value:s,onValueChange:t,children:[(0,b.jsx)(j.SelectTrigger,{className:"h-8",children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsx)(j.SelectContent,{children:a.filterOptions.map(a=>(0,b.jsx)(j.SelectItem,{value:a,children:a},a))})]});break;case"number":return(0,b.jsx)(i.Input,{ref:w,type:"number",value:s||"",onChange:a=>t(a.target.value),onKeyDown:B,className:"h-8"});case"date":return(0,b.jsx)(i.Input,{ref:w,type:"date",value:s instanceof Date?s.toISOString().split("T")[0]:s||"",onChange:a=>t(a.target.value),onKeyDown:B,className:"h-8"});default:return(0,b.jsx)(i.Input,{ref:w,type:"text",value:s||"",onChange:a=>t(a.target.value),onKeyDown:B,className:"h-8"})}return(0,b.jsx)(i.Input,{ref:w,type:"text",value:s||"",onChange:a=>t(a.target.value),onKeyDown:B,className:"h-8"})})()}),(0,b.jsxs)("div",{className:"flex gap-1 ml-2 flex-shrink-0",children:[(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-green-600 hover:bg-green-100",onClick:y,children:(0,b.jsx)(z.Check,{className:"w-3 h-3"})}),(0,b.jsx)(d.Button,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-red-600 hover:bg-red-100",onClick:A,children:(0,b.jsx)(l.X,{className:"w-3 h-3"})})]})]}),u&&(0,b.jsx)("div",{className:"absolute top-full left-0 z-10 mt-1 text-xs text-red-600 bg-red-50 border border-red-200 rounded px-2 py-1",children:u})]}):(0,b.jsx)("div",{className:(0,x.cn)("h-full px-3 py-2 border-r border-gray-200 bg-white cursor-default flex items-center overflow-hidden",a.editable&&"hover:bg-gray-50 cursor-pointer",q&&"bg-blue-50",D,r),onClick:a.editable?n:void 0,onDoubleClick:a.editable?n:void 0,title:(()=>{if(null==g)return"";if(a.valueGetter){let b=a.valueGetter(e);if(null==b)return"";switch(a.type){case"boolean":return b?"True":"False";case"date":if(b instanceof Date)return b.toLocaleDateString();if("string"==typeof b){let a=new Date(b);return isNaN(a.getTime())?b:a.toLocaleDateString()}return String(b);case"number":return"number"==typeof b?b.toLocaleString():String(b);default:return String(b)}}switch(a.type){case"boolean":return g?"True":"False";case"date":if(g instanceof Date)return g.toLocaleDateString();if("string"==typeof g){let a=new Date(g);return isNaN(a.getTime())?g:a.toLocaleDateString()}return String(g);case"number":return"number"==typeof g?g.toLocaleString():String(g);default:return String(g)}})(),children:(0,b.jsx)("div",{className:"truncate w-full min-w-0",children:(()=>{if(a.cellRenderer){let c=a.cellRenderer({value:g,data:e,field:a.field,rowIndex:k,colDef:a});return"string"==typeof c||"number"==typeof c?(0,b.jsx)("span",{className:"truncate block",children:c}):c}return a.valueGetter?C(a.valueGetter(e)):C(g)})()})})}a.s(["TableCell",()=>A],760483);var B=a.i(515678),C=a.i(558767),D=a.i(325521),E=a.i(306202);a.s(["RotateCcw",()=>E.default],632524);var E=E,F=a.i(785903);function G({columns:a,data:i,config:j={},loading:k=!1,onRowSelect:l,onRowEdit:m,onRowCreate:o,onRowDelete:q,onSort:r,onFilter:s,className:t,height:u=600}){let[z,G]=(0,c.useState)(a),[H,I]=(0,c.useState)([]),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(new Set),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(!1),[V,W]=(0,c.useState)({}),{enableSorting:X=!0,enableFiltering:Y=!0,enableColumnPinning:Z=!0,enableColumnResizing:$=!0,enableColumnHiding:_=!0,enableRowSelection:aa=!0,enableInlineEditing:ab=!0,enableDialogEditing:ac=!1,enableRowDeletion:ad=!0,rowHeight:ae=40,headerHeight:af=40,showToolbar:ag=!0,showPagination:ah=!1,pageSize:ai=50,virtualScrolling:aj=!1}=j;(0,c.useEffect)(()=>{let a={};z.forEach(b=>{a[String(b.field)]=b.width||150}),W(a)},[z]);let ak=(0,c.useMemo)(()=>{let a=[...i];return L&&(a=h.globalSearch(a,L,z)),J.length>0&&(a=h.applyFiltering(a,J)),H.length>0&&(a=h.applySorting(a,H)),a},[i,L,J,H,z]);(0,c.useEffect)(()=>{if(l){let a=setTimeout(()=>{l(ak.filter(a=>N.has(a.id)))},0);return()=>clearTimeout(a)}},[N,ak,l]),(0,c.useEffect)(()=>{if(r&&H.length>=0){let a=setTimeout(()=>{r(H)},0);return()=>clearTimeout(a)}},[H,r]),(0,c.useEffect)(()=>{if(s){let a=setTimeout(()=>{s(J)},0);return()=>clearTimeout(a)}},[J,s]);let al=(0,c.useMemo)(()=>h.getVisibleColumns(z),[z]),am=(0,c.useMemo)(()=>h.getPinnedColumns(z,"left"),[z]),an=(0,c.useMemo)(()=>h.getPinnedColumns(z,"right"),[z]),ao=(0,c.useMemo)(()=>h.getCenterColumns(z),[z]),ap=(0,c.useCallback)((a,b)=>{I(c=>{let d;if(null===b)d=c.filter(b=>b.field!==a);else{let e=c.findIndex(b=>b.field===a);e>=0?(d=[...c])[e]={...d[e],direction:b}:d=[...c,{field:String(a),direction:b,priority:c.length}]}return d})},[]),aq=(0,c.useCallback)((a,b)=>{G(c=>c.map(c=>c.field===a?{...c,pinned:b}:c))},[]),ar=(0,c.useCallback)(a=>{G(b=>b.map(b=>b.field===a?{...b,hide:!0}:b))},[]),as=(0,c.useCallback)((a,b)=>{W(c=>({...c,[String(a)]:b}))},[]),at=(0,c.useCallback)(a=>{let b=Math.max(100,Math.min(300,10*String(a).length+80));as(a,b)},[as]),au=(0,c.useCallback)(()=>{al.forEach(a=>{at(a.field)})},[al,at]),av=(0,c.useCallback)((a,b)=>{O(c=>{let d=new Set(c);return b?d.add(a):d.delete(a),d})},[]),aw=(0,c.useCallback)(a=>{a?O(new Set(ak.map(a=>a.id))):O(new Set)},[ak]),ax=(0,c.useCallback)(async(a,b,c)=>{let d=ak.find(b=>b.id===a);if(!d)return!1;let e=await m?.(d,b,c);return e&&Q(null),e||!1},[ak,m]),ay=(0,c.useCallback)(async()=>{let a=ak.filter(a=>N.has(a.id));await q?.(a)&&(O(new Set),U(!1))},[ak,N,q]),az=(0,c.useCallback)(()=>{h.exportToCsv(ak,al,"export.csv")},[ak,al]),aA=(0,c.useCallback)(a=>{K(a)},[]),aB=(0,c.useCallback)(a=>H.find(b=>b.field===a),[H]),aC=(0,c.useCallback)((a,c=!1)=>a.map(a=>{let c=aB(a.field),d=V[String(a.field)]||a.width||150;return(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("div",{style:{height:af},children:(0,b.jsx)(y,{column:a,sortDirection:c?.direction,sortPriority:c?.priority,onSort:b=>ap(a.field,b),onPin:b=>aq(a.field,b),onHide:()=>ar(a.field),onAutoSize:()=>at(a.field),onResize:b=>as(a.field,b),width:d})}),ak.map((c,d)=>{let e=a.valueGetter?a.valueGetter(c):c[a.field],f=P?.rowId===c.id&&P?.field===a.field,g=N.has(c.id);return(0,b.jsx)("div",{style:{height:ae},children:(0,b.jsx)(A,{column:a,data:c,value:e,rowIndex:d,isEditing:f,isSelected:g,onStartEdit:()=>Q({rowId:c.id,field:a.field}),onSave:b=>ax(c.id,a.field,b),onCancel:()=>Q(null)})},`${c.id}-${String(a.field)}`)})]},String(a.field))}),[ak,H,V,af,ae,P,N,aB,ap,aq,ar,at,as,ax]);return k?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,b.jsxs)("div",{className:(0,x.cn)("border rounded-lg overflow-hidden bg-white",t),children:[ag&&(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-3 sm:p-4 border-b bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[aa&&N.size>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(g.Badge,{variant:"secondary",className:"text-xs sm:text-sm",children:[N.size," selected"]}),ad&&(0,b.jsxs)(d.Button,{variant:"destructive",size:"sm",onClick:()=>U(!0),className:"text-xs sm:text-sm",children:[(0,b.jsx)(C.Trash2,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Delete"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Del"})]})]}),o&&(0,b.jsxs)(d.Button,{size:"sm",onClick:()=>o({}),className:"text-xs sm:text-sm",children:[(0,b.jsx)(n.Plus,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Add Row"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Add"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap w-full sm:w-auto",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:az,className:"text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,b.jsx)(B.Download,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Export"}),(0,b.jsx)("span",{className:"sm:hidden",children:"CSV"})]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:au,className:"text-xs sm:text-sm hidden md:flex",children:[(0,b.jsx)(w.Maximize2,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Auto Size All"]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>S(!0),className:"text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,b.jsx)(D.Settings,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Columns"]})]})]}),Y&&(0,b.jsx)(p,{columns:z,filters:J,onFiltersChange:aA,globalSearch:L,onGlobalSearchChange:M}),(0,b.jsx)("div",{className:"overflow-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",style:{height:u-60*!!ag-80*!!Y},children:(0,b.jsxs)("div",{className:"flex min-w-full",children:[aa&&(0,b.jsxs)("div",{className:"flex flex-col flex-shrink-0",children:[(0,b.jsx)("div",{className:"flex items-center justify-center px-3 border-r border-gray-200 bg-gray-50",style:{height:af},children:(0,b.jsx)(f.Checkbox,{checked:N.size===ak.length&&ak.length>0,indeterminate:N.size>0&&N.size<ak.length,onCheckedChange:aw})}),ak.map(a=>(0,b.jsx)("div",{className:"flex items-center justify-center px-3 border-r border-b border-gray-200 bg-white",style:{height:ae},children:(0,b.jsx)(f.Checkbox,{checked:N.has(a.id),onCheckedChange:b=>av(a.id,b)})},a.id))]}),am.length>0&&(0,b.jsx)("div",{className:"flex flex-shrink-0 border-r-2 border-blue-200",children:aC(am,!0)}),(0,b.jsx)("div",{className:"flex flex-1 min-w-0",children:aC(ao)}),an.length>0&&(0,b.jsx)("div",{className:"flex flex-shrink-0 border-l-2 border-blue-200",children:aC(an,!0)})]})}),(0,b.jsx)(e.Dialog,{open:T,onOpenChange:U,children:(0,b.jsxs)(e.DialogContent,{children:[(0,b.jsx)(e.DialogHeader,{children:(0,b.jsx)(e.DialogTitle,{children:"Confirm Delete"})}),(0,b.jsxs)("p",{children:["Are you sure you want to delete ",N.size," row(s)? This action cannot be undone."]}),(0,b.jsxs)(e.DialogFooter,{children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),(0,b.jsx)(d.Button,{variant:"destructive",onClick:ay,children:"Delete"})]})]})}),(0,b.jsx)(e.Dialog,{open:R,onOpenChange:S,children:(0,b.jsxs)(e.DialogContent,{className:"max-w-md w-[95vw] sm:w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,b.jsx)(e.DialogHeader,{children:(0,b.jsx)(e.DialogTitle,{className:"text-base sm:text-lg",children:"Column Settings"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b flex-wrap",children:[(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{G(a=>a.map(a=>({...a,hide:!1})))},className:"text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,b.jsx)(F.Eye,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Show All"}),(0,b.jsx)("span",{className:"sm:hidden",children:"All"})]}),(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{G(a=>a.map(a=>({...a,hide:!0})))},className:"text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,b.jsx)(v.EyeOff,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Hide All"}),(0,b.jsx)("span",{className:"sm:hidden",children:"None"})]})]}),(0,b.jsx)("div",{className:"space-y-2 overflow-auto flex-1 pr-2",children:z.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,b.jsx)(f.Checkbox,{checked:!a.hide,onCheckedChange:b=>{G(c=>c.map(c=>c.field===a.field?{...c,hide:!b}:c))}}),(0,b.jsx)("span",{className:"text-xs sm:text-sm truncate",children:a.headerName})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 ml-2",children:["left"===a.pinned&&(0,b.jsx)(g.Badge,{variant:"outline",className:"text-[10px] sm:text-xs",children:"Left"}),"right"===a.pinned&&(0,b.jsx)(g.Badge,{variant:"outline",className:"text-[10px] sm:text-xs",children:"Right"})]})]},String(a.field)))}),(0,b.jsxs)(e.DialogFooter,{className:"flex-shrink-0 flex-col sm:flex-row gap-2",children:[(0,b.jsxs)(d.Button,{variant:"outline",onClick:()=>{G(a),S(!1)},className:"w-full sm:w-auto text-xs sm:text-sm",children:[(0,b.jsx)(E.default,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Reset"]}),(0,b.jsx)(d.Button,{onClick:()=>S(!1),className:"w-full sm:w-auto text-xs sm:text-sm",children:"Done"})]})]})})]})}a.s(["AdvancedTable",()=>G],788758)}];

//# sourceMappingURL=frontend_src_components_ui_advanced-table_AdvancedTable_tsx_5d15cfbf._.js.map