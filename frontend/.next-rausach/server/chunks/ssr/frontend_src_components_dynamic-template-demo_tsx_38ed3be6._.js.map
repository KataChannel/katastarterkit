{"version":3,"sources":["turbopack:///[project]/frontend/src/components/dynamic-template-demo.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from 'react';\n\n// Simple standalone demo component - kh√¥ng ph·ª• thu·ªôc v√†o DynamicBlock\nexport const DynamicTemplateDemoSimple: React.FC = () => {\n  const [selectedTemplate, setSelectedTemplate] = useState<string>('product-grid');\n\n  // Enhanced template processor\n  const processTemplate = (template: string, data: any): string => {\n    let result = template;\n\n    // 1. Process repeat helper FIRST\n    const repeatRegex = /{{#repeat\\s+(\\w+)}}([\\s\\S]*?){{\\/repeat}}/g;\n    result = result.replace(repeatRegex, (match: string, countVar: string, repeatTemplate: string) => {\n      const count = data[countVar] || 0;\n      return Array(count).fill(repeatTemplate).join('');\n    });\n\n    // 2. Process conditionals SECOND\n    const ifRegex = /{{#if\\s+(\\w+)}}([\\s\\S]*?){{\\/if}}/g;\n    result = result.replace(ifRegex, (match: string, condition: string, ifTemplate: string) => {\n      return data[condition] ? ifTemplate : '';\n    });\n\n    // 3. Process loops THIRD\n    const loopRegex = /{{#each\\s+(\\w+)}}([\\s\\S]*?){{\\/each}}/g;\n    result = result.replace(loopRegex, (match: string, arrayName: string, loopTemplate: string) => {\n      const array = data[arrayName];\n      if (Array.isArray(array)) {\n        return array.map(item => {\n          let itemResult = loopTemplate;\n          \n          // Replace item properties\n          Object.entries(item).forEach(([key, value]) => {\n            const regex = new RegExp(`{{\\\\s*${key}\\\\s*}}`, 'g');\n            itemResult = itemResult.replace(regex, String(value));\n          });\n          \n          return itemResult;\n        }).join('');\n      }\n      return '';\n    });\n\n    // 4. Replace simple variables LAST (outside loops)\n    Object.entries(data).forEach(([key, value]) => {\n      // Skip arrays and objects\n      if (Array.isArray(value) || (typeof value === 'object' && value !== null)) {\n        return;\n      }\n      const regex = new RegExp(`{{\\\\s*${key}\\\\s*}}`, 'g');\n      result = result.replace(regex, String(value));\n    });\n\n    return result;\n  };\n\n  const templates: Record<string, { template: string; data: any }> = {\n    'product-grid': {\n      data: {\n        title: 'Featured Products üõçÔ∏è',\n        subtitle: 'Check out our amazing collection',\n        products: [\n          { id: 1, name: 'MacBook Pro', price: '$1,999', rating: 5 },\n          { id: 2, name: 'iPhone 15', price: '$1,099', rating: 5 },\n          { id: 3, name: 'AirPods Pro', price: '$249', rating: 4 },\n        ],\n      },\n      template: `\n<style>\n  .container { font-family: system-ui; padding: 20px; max-width: 800px; }\n  .header { text-align: center; margin-bottom: 30px; }\n  .header h1 { font-size: 32px; color: #222; margin: 0; }\n  .header p { font-size: 16px; color: #666; margin: 10px 0 0 0; }\n  .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }\n  .card { border: 1px solid #ddd; border-radius: 8px; padding: 15px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }\n  .card h3 { margin: 0 0 8px 0; font-size: 18px; }\n  .card p { margin: 0; color: #666; }\n  .price { font-size: 20px; font-weight: bold; color: #007bff; margin: 10px 0; }\n  .stars { color: #ffc107; font-size: 14px; }\n</style>\n\n<div class=\"container\">\n  <div class=\"header\">\n    <h1>{{title}}</h1>\n    <p>{{subtitle}}</p>\n  </div>\n  \n  <div class=\"grid\">\n    {{#each products}}\n    <div class=\"card\">\n      <h3>{{name}}</h3>\n      <p class=\"price\">{{price}}</p>\n      <div class=\"stars\">{{#repeat rating}}‚≠ê{{/repeat}}</div>\n    </div>\n    {{/each}}\n  </div>\n</div>\n      `,\n    },\n    'testimonials': {\n      data: {\n        title: 'What Our Clients Say',\n        testimonials: [\n          {\n            name: 'John Doe',\n            role: 'CEO, Tech Corp',\n            text: 'Amazing service! Highly recommended.',\n            rating: 5,\n          },\n          {\n            name: 'Jane Smith',\n            role: 'Marketing Manager',\n            text: 'Professional team, great results!',\n            rating: 5,\n          },\n          {\n            name: 'Mike Johnson',\n            role: 'Founder, StartupXYZ',\n            text: 'Best decision we made this year.',\n            rating: 4,\n          },\n        ],\n      },\n      template: `\n<style>\n  .testimonials-container { font-family: system-ui; padding: 40px; background: #f9f9f9; border-radius: 10px; }\n  .testimonials-title { font-size: 28px; font-weight: bold; margin-bottom: 30px; text-align: center; }\n  .testimonials-grid { display: grid; gap: 20px; }\n  .testimonial { background: white; padding: 20px; border-radius: 8px; border-left: 4px solid #007bff; }\n  .testimonial-text { font-style: italic; color: #333; margin-bottom: 15px; }\n  .testimonial-author { font-weight: bold; color: #222; }\n  .testimonial-role { font-size: 14px; color: #666; }\n  .testimonial-rating { color: #ffc107; font-size: 16px; margin-top: 10px; }\n</style>\n\n<div class=\"testimonials-container\">\n  <h2 class=\"testimonials-title\">{{title}}</h2>\n  <div class=\"testimonials-grid\">\n    {{#each testimonials}}\n    <div class=\"testimonial\">\n      <p class=\"testimonial-text\">\"{{text}}\"</p>\n      <div class=\"testimonial-author\">{{name}}</div>\n      <div class=\"testimonial-role\">{{role}}</div>\n      <div class=\"testimonial-rating\">{{#repeat rating}}‚≠ê{{/repeat}}</div>\n    </div>\n    {{/each}}\n  </div>\n</div>\n      `,\n    },\n    'hero-banner': {\n      data: {\n        heading: 'Build Your Dream Website',\n        subheading: 'With our powerful platform in just minutes',\n        cta: 'Get Started Now',\n        isPromo: true,\n        promoText: '50% OFF for First Month!',\n      },\n      template: `\n<style>\n  .hero { \n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    padding: 60px 40px;\n    text-align: center;\n    border-radius: 10px;\n  }\n  .hero h1 { font-size: 40px; margin: 0 0 15px 0; }\n  .hero p { font-size: 18px; margin: 0 0 20px 0; opacity: 0.95; }\n  .hero button {\n    background: white;\n    color: #667eea;\n    border: none;\n    padding: 12px 30px;\n    font-size: 16px;\n    font-weight: bold;\n    border-radius: 5px;\n    cursor: pointer;\n  }\n  .promo {\n    background: rgba(255, 255, 255, 0.2);\n    padding: 10px 20px;\n    border-radius: 5px;\n    margin: 15px 0;\n    font-size: 14px;\n    font-weight: bold;\n  }\n</style>\n\n<div class=\"hero\">\n  <h1>{{heading}}</h1>\n  <p>{{subheading}}</p>\n  {{#if isPromo}}\n  <div class=\"promo\">{{promoText}}</div>\n  {{/if}}\n  <button>{{cta}}</button>\n</div>\n      `,\n    },\n    'faq': {\n      data: {\n        title: 'Frequently Asked Questions',\n        faqs: [\n          {\n            question: 'Do I need coding knowledge?',\n            answer: 'No! Our platform is completely visual. Just drag and drop.',\n            answered: true,\n          },\n          {\n            question: 'Is it mobile responsive?',\n            answer: 'Yes! All templates are fully responsive across all devices.',\n            answered: true,\n          },\n          {\n            question: 'Can I use my own domain?',\n            answer: 'Absolutely! Connect any domain in seconds.',\n            answered: true,\n          },\n        ],\n      },\n      template: `\n<style>\n  .faq-container { font-family: system-ui; padding: 40px; max-width: 600px; }\n  .faq-title { font-size: 28px; font-weight: bold; margin-bottom: 30px; }\n  .faq-item { margin-bottom: 20px; }\n  .faq-question { \n    background: #f0f0f0; \n    padding: 15px;\n    border-radius: 5px;\n    font-weight: bold;\n    cursor: pointer;\n  }\n  .faq-answer { \n    background: #fafafa;\n    padding: 15px;\n    border-left: 3px solid #007bff;\n    margin-top: 5px;\n    color: #333;\n  }\n</style>\n\n<div class=\"faq-container\">\n  <h2 class=\"faq-title\">{{title}}</h2>\n  {{#each faqs}}\n  <div class=\"faq-item\">\n    <div class=\"faq-question\">‚ùì {{question}}</div>\n    {{#if answered}}\n    <div class=\"faq-answer\">{{answer}}</div>\n    {{/if}}\n  </div>\n  {{/each}}\n</div>\n      `,\n    },\n  };\n\n  const currentConfig = templates[selectedTemplate];\n  const processedHTML = processTemplate(currentConfig.template, currentConfig.data);\n\n  return (\n    <div style={{ padding: '20px', backgroundColor: '#f5f5f5', minHeight: '100vh' }}>\n      <h1>Dynamic Template Demo</h1>\n      \n      <div style={{ marginBottom: '20px' }}>\n        <label style={{ marginRight: '10px', fontWeight: 'bold' }}>Select Template:</label>\n        <select\n          value={selectedTemplate}\n          onChange={(e) => setSelectedTemplate(e.target.value)}\n          style={{\n            padding: '8px 12px',\n            borderRadius: '5px',\n            border: '1px solid #ccc',\n            fontSize: '14px',\n          }}\n        >\n          <option value=\"product-grid\">Product Grid</option>\n          <option value=\"testimonials\">Testimonials</option>\n          <option value=\"hero-banner\">Hero Banner</option>\n          <option value=\"faq\">FAQ Section</option>\n        </select>\n      </div>\n\n      <div\n        style={{\n          backgroundColor: 'white',\n          borderRadius: '8px',\n          padding: '20px',\n          boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n        }}\n      >\n        <div dangerouslySetInnerHTML={{ __html: processedHTML }} />\n      </div>\n\n      <div style={{ marginTop: '20px', backgroundColor: 'white', padding: '20px', borderRadius: '8px' }}>\n        <h3>Template HTML:</h3>\n        <pre\n          style={{\n            backgroundColor: '#f5f5f5',\n            padding: '10px',\n            borderRadius: '5px',\n            overflow: 'auto',\n            fontSize: '12px',\n            maxHeight: '300px',\n          }}\n        >\n          {currentConfig.template}\n        </pre>\n\n        <h3>Data:</h3>\n        <pre\n          style={{\n            backgroundColor: '#f5f5f5',\n            padding: '10px',\n            borderRadius: '5px',\n            overflow: 'auto',\n            fontSize: '12px',\n            maxHeight: '300px',\n          }}\n        >\n          {JSON.stringify(currentConfig.data, null, 2)}\n        </pre>\n      </div>\n    </div>\n  );\n};\n\nexport default DynamicTemplateDemoSimple;\n"],"names":[],"mappings":"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"}