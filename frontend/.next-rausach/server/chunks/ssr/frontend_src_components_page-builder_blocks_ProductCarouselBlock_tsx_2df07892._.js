module.exports=[213965,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(510071),e=a.i(300827),f=a.i(543220),g=a.i(785903),h=a.i(325521),i=a.i(558767),j=a.i(202979),k=a.i(624461),l=a.i(755820),m=a.i(441405),n=a.i(144932),o=a.i(650661),p=a.i(478184),q=a.i(951369),r=a.i(79028),s=a.i(681768),t=a.i(769251),u=a.i(321279),v=a.i(323577);function w({open:a,onOpenChange:d,settings:e,onSave:f}){let[g,h]=(0,c.useState)(e),i=a=>{h(b=>({...b,...a}))},k=(a,b)=>{h(c=>({...c,responsive:{...c.responsive,[a]:b}}))};return(0,b.jsx)(l.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(l.DialogContent,{className:"max-w-3xl max-h-[85vh] overflow-y-auto",children:[(0,b.jsxs)(l.DialogHeader,{children:[(0,b.jsxs)(l.DialogTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Package,{className:"w-5 h-5 text-primary"}),"Product Carousel Settings"]}),(0,b.jsx)(l.DialogDescription,{children:"Customize your product carousel behavior, filters, and appearance"})]}),(0,b.jsxs)(q.Tabs,{defaultValue:"content",className:"w-full",children:[(0,b.jsxs)(q.TabsList,{className:"grid w-full grid-cols-5",children:[(0,b.jsxs)(q.TabsTrigger,{value:"content",className:"flex items-center gap-1.5",children:[(0,b.jsx)(r.Package,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Content"})]}),(0,b.jsxs)(q.TabsTrigger,{value:"filter",className:"flex items-center gap-1.5",children:[(0,b.jsx)(s.Filter,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Filter"})]}),(0,b.jsxs)(q.TabsTrigger,{value:"layout",className:"flex items-center gap-1.5",children:[(0,b.jsx)(t.Layout,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Layout"})]}),(0,b.jsxs)(q.TabsTrigger,{value:"behavior",className:"flex items-center gap-1.5",children:[(0,b.jsx)(u.Play,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Behavior"})]}),(0,b.jsxs)(q.TabsTrigger,{value:"controls",className:"flex items-center gap-1.5",children:[(0,b.jsx)(v.MousePointer,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Controls"})]})]}),(0,b.jsx)(q.TabsContent,{value:"content",className:"space-y-6 mt-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"title",className:"text-sm font-medium",children:"Carousel Title"}),(0,b.jsx)(p.Input,{id:"title",type:"text",placeholder:"e.g., Featured Products",value:g.title||"",onChange:a=>i({title:a.target.value}),className:"w-full"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Displayed at the top of the carousel"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(m.Label,{htmlFor:"itemsToShow",className:"text-sm font-medium",children:"Number of Products"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-primary",children:g.itemsToShow||8})]}),(0,b.jsx)(p.Input,{id:"itemsToShow",type:"range",min:3,max:20,step:1,value:g.itemsToShow||8,onChange:a=>i({itemsToShow:parseInt(a.target.value)}),className:"w-full"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total products to display in carousel (3-20 items)"})]}),(0,b.jsxs)("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(m.Label,{htmlFor:"showViewAllButton",className:"text-sm font-medium",children:'Show "View All" Button'}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Link to full product listing page"})]}),(0,b.jsx)(o.Switch,{id:"showViewAllButton",checked:g.showViewAllButton,onCheckedChange:a=>i({showViewAllButton:a})})]}),g.showViewAllButton&&(0,b.jsxs)("div",{className:"space-y-2 pt-2 border-t",children:[(0,b.jsx)(m.Label,{htmlFor:"viewAllLink",className:"text-sm font-medium",children:"View All Link URL"}),(0,b.jsx)(p.Input,{id:"viewAllLink",type:"text",placeholder:"/san-pham",value:g.viewAllLink||"",onChange:a=>i({viewAllLink:a.target.value})})]})]})]})}),(0,b.jsx)(q.TabsContent,{value:"filter",className:"space-y-6 mt-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{htmlFor:"filterType",className:"text-sm font-medium",children:"Product Filter Type"}),(0,b.jsxs)(n.Select,{value:g.filterType||"all",onValueChange:a=>i({filterType:a}),children:[(0,b.jsx)(n.SelectTrigger,{id:"filterType",children:(0,b.jsx)(n.SelectValue,{placeholder:"Select filter type"})}),(0,b.jsxs)(n.SelectContent,{children:[(0,b.jsx)(n.SelectItem,{value:"all",children:"All Products"}),(0,b.jsx)(n.SelectItem,{value:"featured",children:"Featured Products"}),(0,b.jsx)(n.SelectItem,{value:"bestseller",children:"Best Sellers"}),(0,b.jsx)(n.SelectItem,{value:"category",children:"By Category"}),(0,b.jsx)(n.SelectItem,{value:"custom",children:"Custom Query"})]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Choose which products to display"})]}),"category"===g.filterType&&(0,b.jsxs)("div",{className:"space-y-2 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,b.jsx)(m.Label,{htmlFor:"category",className:"text-sm font-medium text-blue-900",children:"Category Slug"}),(0,b.jsx)(p.Input,{id:"category",type:"text",placeholder:"e.g., dien-thoai-smartphone",value:g.category||"",onChange:a=>i({category:a.target.value})}),(0,b.jsx)("p",{className:"text-xs text-blue-700",children:"Enter the category slug to filter products"})]}),"custom"===g.filterType&&(0,b.jsxs)("div",{className:"space-y-2 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[(0,b.jsx)(m.Label,{htmlFor:"customQuery",className:"text-sm font-medium text-purple-900",children:"Custom GraphQL Query"}),(0,b.jsx)("textarea",{id:"customQuery",rows:6,placeholder:"Enter GraphQL query...",value:g.customQuery||"",onChange:a=>i({customQuery:a.target.value}),className:"w-full px-3 py-2 text-sm border rounded-md font-mono"}),(0,b.jsx)("p",{className:"text-xs text-purple-700",children:"Advanced: Define custom GraphQL query for products"})]}),(0,b.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,b.jsxs)("p",{className:"text-sm text-green-800",children:[(0,b.jsx)("strong",{children:"‚úÖ Data Source:"})," Products are loaded from table"," ",(0,b.jsx)("code",{className:"px-1.5 py-0.5 bg-green-100 rounded text-xs",children:"ext_sanphamhoadon"})," ","using dynamic GraphQL queries."]})})]})}),(0,b.jsx)(q.TabsContent,{value:"layout",className:"space-y-6 mt-6",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-900",children:"Responsive Items Per View"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(m.Label,{htmlFor:"desktopItems",className:"text-sm font-medium",children:"üñ•Ô∏è Desktop (> 1024px)"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-primary",children:g.responsive?.desktop||4})]}),(0,b.jsx)(p.Input,{id:"desktopItems",type:"range",min:2,max:6,step:1,value:g.responsive?.desktop||4,onChange:a=>k("desktop",parseInt(a.target.value)),className:"w-full"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Items displayed on large screens"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(m.Label,{htmlFor:"tabletItems",className:"text-sm font-medium",children:"üì± Tablet (640px - 1024px)"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-primary",children:g.responsive?.tablet||3})]}),(0,b.jsx)(p.Input,{id:"tabletItems",type:"range",min:2,max:4,step:1,value:g.responsive?.tablet||3,onChange:a=>k("tablet",parseInt(a.target.value)),className:"w-full"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Items displayed on medium screens"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(m.Label,{htmlFor:"mobileItems",className:"text-sm font-medium",children:"üì± Mobile (< 640px)"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-primary",children:g.responsive?.mobile||2})]}),(0,b.jsx)(p.Input,{id:"mobileItems",type:"range",min:1,max:3,step:1,value:g.responsive?.mobile||2,onChange:a=>k("mobile",parseInt(a.target.value)),className:"w-full"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Items displayed on small screens"})]})]}),(0,b.jsx)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,b.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,b.jsx)("strong",{children:"üí° Responsive Design:"})," Carousel automatically adjusts based on screen size. Mobile-first approach ensures optimal viewing on all devices."]})})]})}),(0,b.jsx)(q.TabsContent,{value:"behavior",className:"space-y-6 mt-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg border",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(m.Label,{htmlFor:"autoplay",className:"text-sm font-medium",children:"Autoplay"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Automatically scroll through products"})]}),(0,b.jsx)(o.Switch,{id:"autoplay",checked:g.autoplay,onCheckedChange:a=>i({autoplay:a})})]}),g.autoplay&&(0,b.jsxs)("div",{className:"space-y-2 p-4 bg-muted/50 rounded-lg border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(m.Label,{htmlFor:"autoplayDelay",className:"text-sm font-medium",children:"Autoplay Speed"}),(0,b.jsxs)("span",{className:"text-sm font-semibold text-primary",children:[(g.autoplayDelay||3e3)/1e3,"s"]})]}),(0,b.jsx)(p.Input,{id:"autoplayDelay",type:"range",min:2e3,max:1e4,step:500,value:g.autoplayDelay||3e3,onChange:a=>i({autoplayDelay:parseInt(a.target.value)}),className:"w-full"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Time between slides (2-10 seconds)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg border",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(m.Label,{htmlFor:"loop",className:"text-sm font-medium",children:"Loop Carousel"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Return to first item after reaching the end"})]}),(0,b.jsx)(o.Switch,{id:"loop",checked:g.loop,onCheckedChange:a=>i({loop:a})})]})]})}),(0,b.jsx)(q.TabsContent,{value:"controls",className:"space-y-6 mt-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg border",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(m.Label,{htmlFor:"showNavigation",className:"text-sm font-medium",children:"Navigation Arrows"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Show previous/next buttons"})]}),(0,b.jsx)(o.Switch,{id:"showNavigation",checked:g.showNavigation,onCheckedChange:a=>i({showNavigation:a})})]}),(0,b.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"üé® Control Preview"}),(0,b.jsx)("div",{className:"flex items-center gap-3 justify-center py-6",children:g.showNavigation&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-white shadow-md flex items-center justify-center text-gray-700 border-2 border-gray-200",children:"‚Äπ"}),(0,b.jsx)("div",{className:"px-4 py-2 bg-white rounded-lg shadow-sm border text-sm text-gray-600",children:"Product Cards"}),(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-white shadow-md flex items-center justify-center text-gray-700 border-2 border-gray-200",children:"‚Ä∫"})]})}),(0,b.jsx)("p",{className:"text-xs text-gray-600 text-center",children:g.showNavigation?"‚úì Navigation arrows enabled":"‚úó Navigation arrows hidden"})]})}),(0,b.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,b.jsxs)("p",{className:"text-sm text-green-800",children:[(0,b.jsx)("strong",{children:"üëÜ Touch Support:"})," Carousel supports touch/swipe gestures on mobile devices automatically."]})})]})})]}),(0,b.jsxs)(l.DialogFooter,{className:"gap-2",children:[(0,b.jsx)(j.Button,{variant:"outline",onClick:()=>d(!1),className:"min-w-[100px]",children:"Cancel"}),(0,b.jsx)(j.Button,{onClick:()=>{f(g),d(!1)},className:"min-w-[100px]",children:"Save Settings"})]})]})})}var x=a.i(734639),y=a.i(439889);let z=({block:a,isEditable:l=!0,onUpdate:m,onDelete:n})=>{let o=a.content,[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(o||{title:"S·∫£n ph·∫©m n·ªïi b·∫≠t",filterType:"all",itemsToShow:8,showViewAllButton:!0,viewAllLink:"/san-pham",autoplay:!1,autoplayDelay:3e3,loop:!0,showNavigation:!0,responsive:{mobile:2,tablet:3,desktop:4}}),[t,u]=(0,c.useState)(0),v=(0,c.useRef)(null),{data:z,loading:A}=(0,k.useDynamicQuery)("GET_ALL","ext_sanphamhoadon",{fetchPolicy:"cache-first"}),B=z?.getext_sanphamhoadons||[],C=c.default.useMemo(()=>{let a=[...B];switch(r.filterType){case"featured":a=a.filter(a=>!0===a.noibat);break;case"bestseller":a=a.filter(a=>!0===a.banchay);break;case"category":r.category&&(a=a.filter(a=>a.danhmuc===r.category))}return a.slice(0,r.itemsToShow||8)},[B,r.filterType,r.category,r.itemsToShow]),D=()=>r.responsive?.desktop||4,[E,F]=(0,c.useState)(D());(0,c.useEffect)(()=>{let a=()=>{F(D())};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[r.responsive]),(0,c.useEffect)(()=>{if(!r.autoplay||p)return;let a=setInterval(()=>{H()},r.autoplayDelay||3e3);return()=>clearInterval(a)},[r.autoplay,r.autoplayDelay,t,p]);let G=Math.max(0,C.length-E),H=()=>{u(a=>a>=G?r.loop?0:G:a+1)},I=a=>a.ten||a.tensanpham||"S·∫£n ph·∫©m";return l?(0,b.jsxs)("div",{className:"relative border-2 border-dashed border-blue-300 rounded-lg p-4 bg-blue-50/20 group",children:[(0,b.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[(0,b.jsxs)(j.Button,{size:"sm",variant:"outline",onClick:()=>q(!0),className:"bg-white shadow-sm hover:bg-blue-50",children:[(0,b.jsx)(h.Settings,{className:"w-4 h-4 mr-1"}),"Settings"]}),(0,b.jsx)(j.Button,{size:"sm",variant:"destructive",onClick:n,className:"shadow-sm",children:(0,b.jsx)(i.Trash2,{className:"w-4 h-4"})})]}),(0,b.jsx)(w,{open:p,onOpenChange:q,settings:r,onSave:a=>{s(a),m(a)}}),(0,b.jsxs)("div",{className:"pointer-events-none",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-gray-700",children:[r.title||"S·∫£n ph·∫©m"," (Preview)"]}),r.showNavigation&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(j.Button,{variant:"outline",size:"icon",disabled:!0,children:(0,b.jsx)(d.ChevronLeft,{className:"w-4 h-4"})}),(0,b.jsx)(j.Button,{variant:"outline",size:"icon",disabled:!0,children:(0,b.jsx)(e.ChevronRight,{className:"w-4 h-4"})})]})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded border",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["üì¶ ",C.length," s·∫£n ph·∫©m ‚Ä¢","all"===r.filterType&&" T·∫•t c·∫£","featured"===r.filterType&&" N·ªïi b·∫≠t","bestseller"===r.filterType&&" B√°n ch·∫°y","category"===r.filterType&&` Danh m·ª•c: ${r.category||"Ch∆∞a ch·ªçn"}`]}),A&&(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"ƒêang t·∫£i..."})]})]})]}):(0,b.jsx)("div",{className:"product-carousel-block py-8 px-4 bg-gray-50",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:r.title||"S·∫£n ph·∫©m"}),r.showNavigation&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(j.Button,{variant:"outline",size:"icon",onClick:()=>{u(a=>a<=0?r.loop?G:0:a-1)},disabled:0===t&&!r.loop,className:"rounded-full",children:(0,b.jsx)(d.ChevronLeft,{className:"w-5 h-5"})}),(0,b.jsx)(j.Button,{variant:"outline",size:"icon",onClick:H,disabled:t>=G&&!r.loop,className:"rounded-full",children:(0,b.jsx)(e.ChevronRight,{className:"w-5 h-5"})})]})]}),(0,b.jsx)("div",{className:"relative overflow-hidden",children:(0,b.jsx)("div",{ref:v,className:"flex transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${100/E*t}%)`},children:C.map(a=>{var c;return(0,b.jsx)("div",{className:"flex-shrink-0 px-2",style:{width:`${100/E}%`},children:(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 group",children:[(0,b.jsxs)("div",{className:"relative aspect-square bg-gray-200",children:[a.hinhanh?(0,b.jsx)(x.default,{src:a.hinhanh,alt:I(a),fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}):(0,b.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:(0,b.jsx)(f.ShoppingCart,{className:"w-12 h-12"})}),(0,b.jsx)("button",{className:"absolute top-2 right-2 bg-white rounded-full p-2 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:(0,b.jsx)(g.Eye,{className:"w-4 h-4 text-gray-700"})})]}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 min-h-[3rem]",children:I(a)}),(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-lg font-bold text-primary",children:(c=a.gia||a.dongia||0)?new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(c):"0 ƒë"}),a.donvitinh&&(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["/",a.donvitinh]})]})}),(0,b.jsxs)(j.Button,{className:"w-full",size:"sm",children:[(0,b.jsx)(f.ShoppingCart,{className:"w-4 h-4 mr-2"}),"Mua ngay"]})]})]})},a.id)})})}),r.showViewAllButton&&r.viewAllLink&&(0,b.jsx)("div",{className:"text-center mt-6",children:(0,b.jsx)(y.default,{href:r.viewAllLink,children:(0,b.jsxs)(j.Button,{variant:"outline",size:"lg",children:["Xem t·∫•t c·∫£",(0,b.jsx)(e.ChevronRight,{className:"w-4 h-4 ml-2"})]})})}),A&&(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"ƒêang t·∫£i s·∫£n ph·∫©m..."}),!A&&0===C.length&&(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o"})]})})};a.s(["ProductCarouselBlock",0,z,"default",0,z],213965)}];

//# sourceMappingURL=frontend_src_components_page-builder_blocks_ProductCarouselBlock_tsx_2df07892._.js.map