{"version":3,"sources":["turbopack:///[project]/frontend/src/components/page-builder/blocks/ContactInfoBlock.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Edit3, Trash2, Plus, X, MapPin, Phone, Mail, Clock } from 'lucide-react';\nimport { PageBlock, ContactInfoBlockContent } from '@/types/page-builder';\n\ninterface ContactInfoBlockProps {\n  block: PageBlock;\n  isEditable?: boolean;\n  onUpdate?: (content: any, style?: any) => void;\n  onDelete?: () => void;\n}\n\nconst DEFAULT_ICONS = {\n  address: MapPin,\n  phone: Phone,\n  email: Mail,\n  hours: Clock,\n};\n\nexport const ContactInfoBlock: React.FC<ContactInfoBlockProps> = ({\n  block,\n  isEditable = false,\n  onUpdate,\n  onDelete,\n}) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [content, setContent] = useState<ContactInfoBlockContent>(block.content);\n\n  const handleSave = () => {\n    onUpdate?.(content, block.style);\n    setIsEditing(false);\n  };\n\n  const handleCancel = () => {\n    setContent(block.content);\n    setIsEditing(false);\n  };\n\n  const addContact = () => {\n    setContent(prev => ({\n      ...prev,\n      contacts: [\n        ...(prev.contacts || []),\n        {\n          type: 'address',\n          label: 'Address',\n          value: '123 Main St, City, Country',\n          icon: 'address'\n        }\n      ]\n    }));\n  };\n\n  const removeContact = (index: number) => {\n    setContent(prev => ({\n      ...prev,\n      contacts: prev.contacts?.filter((_, i) => i !== index) || []\n    }));\n  };\n\n  const updateContact = (index: number, field: string, value: any) => {\n    setContent(prev => ({\n      ...prev,\n      contacts: prev.contacts?.map((contact, i) => \n        i === index ? { ...contact, [field]: value } : contact\n      ) || []\n    }));\n  };\n\n  if (isEditing && isEditable) {\n    return (\n      <div className=\"relative border-2 border-blue-500 rounded-lg p-6\">\n        <div className=\"space-y-6\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Section Title</label>\n              <input\n                type=\"text\"\n                value={content.title || ''}\n                onChange={(e) => setContent(prev => ({ ...prev, title: e.target.value }))}\n                className=\"w-full p-2 border rounded\"\n                placeholder=\"Contact Us\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Subtitle</label>\n              <input\n                type=\"text\"\n                value={content.subtitle || ''}\n                onChange={(e) => setContent(prev => ({ ...prev, subtitle: e.target.value }))}\n                className=\"w-full p-2 border rounded\"\n                placeholder=\"Get in touch with us\"\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={content.showMap || false}\n                  onChange={(e) => setContent(prev => ({ ...prev, showMap: e.target.checked }))}\n                  className=\"mr-2\"\n                />\n                Show Map\n              </label>\n            </div>\n            {content.showMap && (\n              <div>\n                <label className=\"block text-sm font-medium mb-1\">Map Embed URL</label>\n                <input\n                  type=\"url\"\n                  value={content.mapEmbedUrl || ''}\n                  onChange={(e) => setContent(prev => ({ ...prev, mapEmbedUrl: e.target.value }))}\n                  className=\"w-full p-2 border rounded text-sm\"\n                  placeholder=\"Google Maps embed URL\"\n                />\n              </div>\n            )}\n          </div>\n\n          <div>\n            <div className=\"flex items-center justify-between mb-4\">\n              <label className=\"block text-sm font-medium\">Contact Information</label>\n              <button\n                onClick={addContact}\n                className=\"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 flex items-center gap-1\"\n              >\n                <Plus size={14} />\n                Add Contact\n              </button>\n            </div>\n\n            <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n              {content.contacts?.map((contact, index) => (\n                <div key={index} className=\"border border-gray-200 rounded p-4\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"font-medium\">Contact #{index + 1}</h4>\n                    <button\n                      onClick={() => removeContact(index)}\n                      className=\"p-1 bg-red-500 text-white rounded hover:bg-red-600\"\n                    >\n                      <X size={14} />\n                    </button>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-3 mb-3\">\n                    <div>\n                      <label className=\"block text-xs text-gray-600 mb-1\">Type</label>\n                      <select\n                        value={contact.type}\n                        onChange={(e) => updateContact(index, 'type', e.target.value)}\n                        className=\"w-full p-2 border rounded text-sm\"\n                      >\n                        <option value=\"address\">Address</option>\n                        <option value=\"phone\">Phone</option>\n                        <option value=\"email\">Email</option>\n                        <option value=\"hours\">Hours</option>\n                      </select>\n                    </div>\n                    <div>\n                      <label className=\"block text-xs text-gray-600 mb-1\">Label</label>\n                      <input\n                        type=\"text\"\n                        value={contact.label}\n                        onChange={(e) => updateContact(index, 'label', e.target.value)}\n                        className=\"w-full p-2 border rounded text-sm\"\n                        placeholder=\"Label\"\n                      />\n                    </div>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-xs text-gray-600 mb-1\">Value</label>\n                    <input\n                      type=\"text\"\n                      value={contact.value}\n                      onChange={(e) => updateContact(index, 'value', e.target.value)}\n                      className=\"w-full p-2 border rounded text-sm\"\n                      placeholder=\"Contact information\"\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"flex gap-2\">\n            <button\n              onClick={handleSave}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n            >\n              Save\n            </button>\n            <button\n              onClick={handleCancel}\n              className=\"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      className={`relative group py-16 ${isEditable ? 'hover:ring-2 hover:ring-blue-300' : ''}`}\n      style={block.style}\n    >\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {(content.title || content.subtitle) && (\n          <div className=\"text-center mb-12\">\n            {content.title && (\n              <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\">\n                {content.title}\n              </h2>\n            )}\n            {content.subtitle && (\n              <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\n                {content.subtitle}\n              </p>\n            )}\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12\">\n          {/* Contact Information */}\n          <div className=\"space-y-8\">\n            {content.contacts?.map((contact, index) => {\n              const IconComponent = DEFAULT_ICONS[contact.type] || MapPin;\n              \n              return (\n                <div key={index} className=\"flex items-start space-x-4\">\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"p-3 bg-blue-100 rounded-full\">\n                      <IconComponent className=\"w-6 h-6 text-blue-600\" />\n                    </div>\n                  </div>\n                  <div>\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">\n                      {contact.label}\n                    </h3>\n                    <p className=\"text-gray-600\">\n                      {contact.value}\n                    </p>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          {/* Map */}\n          {content.showMap && content.mapEmbedUrl && (\n            <div className=\"h-96 bg-gray-200 rounded-lg overflow-hidden\">\n              <iframe\n                src={content.mapEmbedUrl}\n                width=\"100%\"\n                height=\"100%\"\n                style={{ border: 0 }}\n                allowFullScreen\n                loading=\"lazy\"\n                referrerPolicy=\"no-referrer-when-downgrade\"\n                title=\"Location Map\"\n              />\n            </div>\n          )}\n        </div>\n      </div>\n\n      {isEditable && (\n        <div className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity\">\n          <div className=\"flex gap-1\">\n            <button\n              onClick={() => setIsEditing(true)}\n              className=\"p-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n              title=\"Edit\"\n            >\n              <Edit3 size={16} />\n            </button>\n            <button\n              onClick={onDelete}\n              className=\"p-2 bg-red-500 text-white rounded hover:bg-red-600\"\n              title=\"Delete\"\n            >\n              <Trash2 size={16} />\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};"],"names":[],"mappings":"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"}