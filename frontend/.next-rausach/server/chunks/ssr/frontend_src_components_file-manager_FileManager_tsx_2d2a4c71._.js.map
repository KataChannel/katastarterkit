{"version":3,"sources":["turbopack:///[project]/frontend/src/components/file-manager/FileManager.tsx","turbopack:///[project]/frontend/src/hooks/useFiles.ts","turbopack:///[project]/frontend/src/graphql/queries/files.ts","turbopack:///[project]/frontend/src/types/file.ts","turbopack:///[project]/frontend/src/components/file-manager/UploadDialog.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useCallback } from 'react';\nimport { useFiles, useFileUpload, useDeleteFile, useBulkDeleteFiles } from '@/hooks/useFiles';\nimport type { File } from '@/types/file';\nimport { FileType, GetFilesInput } from '@/types/file';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { UploadDialog } from '@/components/file-manager/UploadDialog';\nimport {\n  Upload,\n  Grid3x3,\n  List,\n  Search,\n  Folder,\n  File as FileIcon,\n  Image as ImageIcon,\n  Video,\n  Music,\n  FileText,\n  Archive,\n  Trash2,\n  Download,\n  Eye,\n  MoreVertical,\n  FolderPlus,\n  RefreshCw,\n} from 'lucide-react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport { useToast } from '@/hooks/use-toast';\n\ntype ViewMode = 'grid' | 'list';\n\ninterface SortOption {\n  field: 'name' | 'date' | 'size' | 'type';\n  order: 'asc' | 'desc';\n}\n\ninterface FilterOption {\n  type?: FileType;\n}\n\ninterface FileManagerProps {\n  onSelect?: (file: File) => void;\n  allowMultiple?: boolean;\n  folderId?: string;\n  fileTypes?: FileType[];\n  // New props for enhanced version\n  viewMode?: ViewMode;\n  sortBy?: SortOption;\n  searchQuery?: string;\n  filter?: FilterOption;\n  limit?: number;\n}\n\nexport function FileManager({\n  onSelect,\n  allowMultiple = false,\n  folderId,\n  fileTypes,\n  viewMode: externalViewMode,\n  sortBy: externalSortBy,\n  searchQuery: externalSearchQuery,\n  filter,\n  limit = 20,\n}: FileManagerProps) {\n  const [internalViewMode, setInternalViewMode] = useState<ViewMode>('grid');\n  const [internalSearchQuery, setInternalSearchQuery] = useState('');\n  const [selectedFiles, setSelectedFiles] = useState<Set<string>>(new Set());\n  const [page, setPage] = useState(1);\n  const [uploadDialogOpen, setUploadDialogOpen] = useState(false);\n  const { toast } = useToast();\n\n  // Use external props if provided, otherwise use internal state\n  const viewMode = externalViewMode || internalViewMode;\n  const searchQuery = externalSearchQuery !== undefined ? externalSearchQuery : internalSearchQuery;\n  const sortBy = externalSortBy || { field: 'date' as const, order: 'desc' as const };\n\n  // Build query input\n  const queryInput: GetFilesInput = {\n    page,\n    limit,\n    filters: {\n      ...(folderId && { folderId }),\n      ...(searchQuery && { search: searchQuery }),\n      ...(filter?.type && { fileType: filter.type }),\n      ...(fileTypes && fileTypes.length > 0 && !filter?.type && { fileType: fileTypes[0] }),\n    },\n    sortBy: sortBy.field === 'name' ? 'filename' : sortBy.field === 'date' ? 'createdAt' : 'size',\n    sortOrder: sortBy.order,\n  };\n\n  const { files, loading, refetch } = useFiles(queryInput);\n  const { uploadFile, uploadFiles, uploading } = useFileUpload();\n  const { deleteFile } = useDeleteFile();\n  const { bulkDeleteFiles } = useBulkDeleteFiles();\n\n  // File upload handler\n  const handleFileUpload = useCallback(\n    async (uploadedFiles: FileList | globalThis.File[]) => {\n      try {\n        const fileArray = Array.from(uploadedFiles);\n        \n        if (fileArray.length === 1) {\n          await uploadFile(fileArray[0] as any, folderId);\n        } else {\n          await uploadFiles(fileArray as any, folderId);\n        }\n\n        toast({\n          type: 'success',\n          title: 'Success',\n          description: `${fileArray.length} file(s) uploaded successfully`,\n        });\n        \n        refetch();\n        setUploadDialogOpen(false);\n      } catch (error: any) {\n        toast({\n          type: 'error',\n          title: 'Error',\n          description: error.message || 'Failed to upload files',\n          variant: 'destructive',\n        });\n      }\n    },\n    [uploadFile, uploadFiles, folderId, refetch, toast],\n  );\n\n  // Drag and drop handler\n  const handleDrop = useCallback(\n    (e: React.DragEvent) => {\n      e.preventDefault();\n      const droppedFiles = e.dataTransfer.files;\n      if (droppedFiles.length > 0) {\n        handleFileUpload(droppedFiles);\n      }\n    },\n    [handleFileUpload],\n  );\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n  }, []);\n\n  // File selection\n  const toggleFileSelection = (fileId: string) => {\n    const newSelection = new Set(selectedFiles);\n    if (newSelection.has(fileId)) {\n      newSelection.delete(fileId);\n    } else {\n      if (!allowMultiple) {\n        newSelection.clear();\n      }\n      newSelection.add(fileId);\n    }\n    setSelectedFiles(newSelection);\n  };\n\n  // Delete file\n  const handleDeleteFile = async (fileId: string) => {\n    if (confirm('Are you sure you want to delete this file?')) {\n      try {\n        await deleteFile(fileId);\n        toast({\n          type: 'success',\n          title: 'Success',\n          description: 'File deleted successfully',\n        });\n        refetch();\n      } catch (error: any) {\n        toast({\n          type: 'error',\n          title: 'Error',\n          description: error.message || 'Failed to delete file',\n          variant: 'destructive',\n        });\n      }\n    }\n  };\n\n  // Bulk delete\n  const handleBulkDelete = async () => {\n    if (selectedFiles.size === 0) return;\n    \n    if (confirm(`Delete ${selectedFiles.size} selected file(s)?`)) {\n      try {\n        await bulkDeleteFiles({ fileIds: Array.from(selectedFiles) });\n        toast({\n          type: 'success',\n          title: 'Success',\n          description: `${selectedFiles.size} file(s) deleted successfully`,\n        });\n        setSelectedFiles(new Set());\n        refetch();\n      } catch (error: any) {\n        toast({\n          type: 'error',\n          title: 'Error',\n          description: error.message || 'Failed to delete files',\n          variant: 'destructive',\n        });\n      }\n    }\n  };\n\n  // Get file icon\n  const getFileIcon = (fileType: FileType) => {\n    switch (fileType) {\n      case FileType.IMAGE:\n        return <ImageIcon className=\"w-5 h-5\" />;\n      case FileType.VIDEO:\n        return <Video className=\"w-5 h-5\" />;\n      case FileType.AUDIO:\n        return <Music className=\"w-5 h-5\" />;\n      case FileType.DOCUMENT:\n        return <FileText className=\"w-5 h-5\" />;\n      case FileType.ARCHIVE:\n        return <Archive className=\"w-5 h-5\" />;\n      default:\n        return <FileIcon className=\"w-5 h-5\" />;\n    }\n  };\n\n  // Format file size\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];\n  };\n\n  return (\n    <div className=\"w-full h-full flex flex-col\">\n      {/* Toolbar - only show if not controlled externally */}\n      {externalViewMode === undefined && externalSearchQuery === undefined && (\n        <Card className=\"mb-4\">\n          <CardContent className=\"p-4\">\n            <div className=\"flex items-center justify-between gap-4\">\n              {/* Search */}\n              <div className=\"flex-1 max-w-md\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                  <Input\n                    placeholder=\"Search files...\"\n                    value={internalSearchQuery}\n                    onChange={(e) => setInternalSearchQuery(e.target.value)}\n                    className=\"pl-10\"\n                  />\n                </div>\n              </div>\n\n              {/* Actions */}\n              <div className=\"flex items-center gap-2\">\n                {/* Upload */}\n                <Button variant=\"default\" size=\"sm\" disabled={uploading} onClick={() => setUploadDialogOpen(true)}>\n                  <Upload className=\"w-4 h-4 mr-2\" />\n                  Upload\n                </Button>\n                {/* Bulk Delete */}\n                {selectedFiles.size > 0 && (\n                  <Button\n                    variant=\"destructive\"\n                    size=\"sm\"\n                    onClick={handleBulkDelete}\n                  >\n                    <Trash2 className=\"w-4 h-4 mr-2\" />\n                    Delete ({selectedFiles.size})\n                  </Button>\n                )}\n                {/* Refresh */}\n                <Button variant=\"outline\" size=\"sm\" onClick={() => refetch()}>\n                  <RefreshCw className=\"w-4 h-4\" />\n                </Button>\n                {/* View Mode */}\n                <div className=\"flex border rounded-md\">\n                  <Button\n                    variant={viewMode === 'grid' ? 'default' : 'ghost'}\n                    size=\"sm\"\n                    onClick={() => setInternalViewMode('grid')}\n                    className=\"rounded-r-none\"\n                  >\n                    <Grid3x3 className=\"w-4 h-4\" />\n                  </Button>\n                  <Button\n                    variant={viewMode === 'list' ? 'default' : 'ghost'}\n                    size=\"sm\"\n                    onClick={() => setInternalViewMode('list')}\n                    className=\"rounded-l-none\"\n                  >\n                    <List className=\"w-4 h-4\" />\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Upload Dialog */}\n      <UploadDialog\n        open={uploadDialogOpen}\n        onOpenChange={setUploadDialogOpen}\n        onUpload={handleFileUpload}\n        onUploadSuccess={() => { refetch(); setUploadDialogOpen(false); }}\n        folderId={folderId}\n      />\n      {/* Drop Zone */}\n      <div\n        onDrop={handleDrop}\n        onDragOver={handleDragOver}\n        className=\"flex-1 border-2 border-dashed border-gray-300 rounded-lg p-4 bg-gray-50 dark:bg-gray-900\"\n      >\n        {loading ? (\n          <div className=\"flex items-center justify-center h-full\">\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n          </div>\n        ) : files && files.items.length > 0 ? (\n          <>\n            {/* Grid View */}\n            {viewMode === 'grid' && (\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\n                {files.items.map((file) => (\n                  <Card\n                    key={file.id}\n                    className={`cursor-pointer hover:shadow-lg transition-shadow ${\n                      selectedFiles.has(file.id) ? 'ring-2 ring-blue-500' : ''\n                    }`}\n                    onClick={() => toggleFileSelection(file.id)}\n                  >\n                    <CardContent className=\"p-4\">\n                      {/* Thumbnail */}\n                      <div className=\"aspect-square bg-gray-100 dark:bg-gray-800 rounded-md mb-3 flex items-center justify-center overflow-hidden\">\n                        {file.fileType === FileType.IMAGE ? (\n                          <img\n                            src={file.url}\n                            alt={file.originalName}\n                            className=\"w-full h-full object-cover\"\n                          />\n                        ) : (\n                          <div className=\"text-gray-400\">\n                            {getFileIcon(file.fileType)}\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Info */}\n                      <div className=\"space-y-1\">\n                        <p className=\"text-sm font-medium truncate\" title={file.originalName}>\n                          {file.originalName}\n                        </p>\n                        <p className=\"text-xs text-gray-500\">\n                          {formatFileSize(file.size)}\n                        </p>\n                      </div>\n\n                      {/* Actions */}\n                      <div className=\"flex items-center justify-between mt-3\">\n                        <Badge variant=\"secondary\" className=\"text-xs\">\n                          {file.fileType}\n                        </Badge>\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild onClick={(e) => e.stopPropagation()}>\n                            <Button variant=\"ghost\" size=\"sm\" className=\"h-6 w-6 p-0\">\n                              <MoreVertical className=\"w-4 h-4\" />\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\">\n                            <DropdownMenuItem onClick={(e) => {\n                              e.stopPropagation();\n                              window.open(file.url, '_blank');\n                            }}>\n                              <Eye className=\"w-4 h-4 mr-2\" />\n                              View\n                            </DropdownMenuItem>\n                            <DropdownMenuItem onClick={(e) => {\n                              e.stopPropagation();\n                              window.open(file.url, '_blank');\n                            }}>\n                              <Download className=\"w-4 h-4 mr-2\" />\n                              Download\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                handleDeleteFile(file.id);\n                              }}\n                              className=\"text-red-600\"\n                            >\n                              <Trash2 className=\"w-4 h-4 mr-2\" />\n                              Delete\n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            )}\n\n            {/* List View */}\n            {viewMode === 'list' && (\n              <div className=\"space-y-2\">\n                {files.items.map((file) => (\n                  <Card\n                    key={file.id}\n                    className={`cursor-pointer hover:shadow-md transition-shadow ${\n                      selectedFiles.has(file.id) ? 'ring-2 ring-blue-500' : ''\n                    }`}\n                    onClick={() => toggleFileSelection(file.id)}\n                  >\n                    <CardContent className=\"p-4\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex items-center gap-4 flex-1\">\n                          {/* Icon */}\n                          <div className=\"text-gray-400\">\n                            {getFileIcon(file.fileType)}\n                          </div>\n\n                          {/* Info */}\n                          <div className=\"flex-1 min-w-0\">\n                            <p className=\"font-medium truncate\">{file.originalName}</p>\n                            <div className=\"flex items-center gap-4 text-sm text-gray-500\">\n                              <span>{formatFileSize(file.size)}</span>\n                              <span>{new Date(file.createdAt).toLocaleDateString()}</span>\n                              <Badge variant=\"secondary\">{file.fileType}</Badge>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Actions */}\n                        <DropdownMenu>\n                          <DropdownMenuTrigger asChild onClick={(e) => e.stopPropagation()}>\n                            <Button variant=\"ghost\" size=\"sm\">\n                              <MoreVertical className=\"w-4 h-4\" />\n                            </Button>\n                          </DropdownMenuTrigger>\n                          <DropdownMenuContent align=\"end\">\n                            <DropdownMenuItem onClick={(e) => {\n                              e.stopPropagation();\n                              window.open(file.url, '_blank');\n                            }}>\n                              <Eye className=\"w-4 h-4 mr-2\" />\n                              View\n                            </DropdownMenuItem>\n                            <DropdownMenuItem onClick={(e) => {\n                              e.stopPropagation();\n                              window.open(file.url, '_blank');\n                            }}>\n                              <Download className=\"w-4 h-4 mr-2\" />\n                              Download\n                            </DropdownMenuItem>\n                            <DropdownMenuSeparator />\n                            <DropdownMenuItem\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                handleDeleteFile(file.id);\n                              }}\n                              className=\"text-red-600\"\n                            >\n                              <Trash2 className=\"w-4 h-4 mr-2\" />\n                              Delete\n                            </DropdownMenuItem>\n                          </DropdownMenuContent>\n                        </DropdownMenu>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            )}\n\n            {/* Pagination */}\n            {files.totalPages > 1 && (\n              <div className=\"flex items-center justify-center gap-2 mt-6\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  disabled={!files.hasPreviousPage}\n                  onClick={() => setPage(page - 1)}\n                >\n                  Previous\n                </Button>\n                <span className=\"text-sm text-gray-600\">\n                  Page {files.page} of {files.totalPages}\n                </span>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  disabled={!files.hasNextPage}\n                  onClick={() => setPage(page + 1)}\n                >\n                  Next\n                </Button>\n              </div>\n            )}\n          </>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center h-full text-gray-400\">\n            <Upload className=\"w-16 h-16 mb-4\" />\n            <p className=\"text-lg font-medium mb-2\">No files yet</p>\n            <p className=\"text-sm mb-4\">Drop files here or click upload button</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useMutation, useQuery } from '@apollo/client';\nimport { useState } from 'react';\nimport {\n  GET_FILES,\n  GET_FILE,\n  GET_FOLDERS,\n  GET_FOLDER,\n  GET_STORAGE_STATS,\n  UPDATE_FILE,\n  DELETE_FILE,\n  MOVE_FILES,\n  BULK_DELETE_FILES,\n  BULK_UPDATE_FILES,\n  CREATE_FOLDER,\n  UPDATE_FOLDER,\n  DELETE_FOLDER,\n  CREATE_FILE_SHARE,\n} from '@/graphql/queries/files';\nimport {\n  File,\n  FileFolder,\n  GetFilesInput,\n  UpdateFileInput,\n  CreateFolderInput,\n  UpdateFolderInput,\n  MoveFilesInput,\n  BulkDeleteFilesInput,\n  BulkUpdateFilesInput,\n  CreateFileShareInput,\n  PaginatedFiles,\n  FileStorageStats,\n  UploadResponse,\n  BulkUploadResponse,\n} from '@/types/file';\n\n/**\n * Hook to get files with pagination and filters\n */\nexport function useFiles(input?: GetFilesInput) {\n  const { data, loading, error, refetch } = useQuery(GET_FILES, {\n    variables: { input },\n    fetchPolicy: 'cache-and-network',\n  });\n\n  return {\n    files: data?.files as PaginatedFiles | undefined,\n    loading,\n    error,\n    refetch,\n  };\n}\n\n/**\n * Hook to get single file\n */\nexport function useFile(id: string) {\n  const { data, loading, error, refetch } = useQuery(GET_FILE, {\n    variables: { id },\n    skip: !id,\n  });\n\n  return {\n    file: data?.file as File | undefined,\n    loading,\n    error,\n    refetch,\n  };\n}\n\n/**\n * Hook to get all folders\n */\nexport function useFolders() {\n  const { data, loading, error, refetch } = useQuery(GET_FOLDERS, {\n    fetchPolicy: 'cache-and-network',\n  });\n\n  return {\n    folders: (data?.folders as FileFolder[]) || [],\n    loading,\n    error,\n    refetch,\n  };\n}\n\n/**\n * Hook to get single folder\n */\nexport function useFolder(id: string) {\n  const { data, loading, error, refetch } = useQuery(GET_FOLDER, {\n    variables: { id },\n    skip: !id,\n  });\n\n  return {\n    folder: data?.folder as FileFolder | undefined,\n    loading,\n    error,\n    refetch,\n  };\n}\n\n/**\n * Hook to get storage statistics\n */\nexport function useStorageStats() {\n  const { data, loading, error, refetch } = useQuery(GET_STORAGE_STATS, {\n    fetchPolicy: 'cache-and-network',\n  });\n\n  return {\n    stats: data?.fileStorageStats as FileStorageStats | undefined,\n    loading,\n    error,\n    refetch,\n  };\n}\n\n/**\n * Hook to upload files using REST API\n */\nexport function useFileUpload() {\n  const [uploading, setUploading] = useState(false);\n  const [progress, setProgress] = useState(0);\n\n  const uploadFile = async (\n    file: File,\n    folderId?: string,\n    metadata?: any,\n  ): Promise<UploadResponse> => {\n    setUploading(true);\n    setProgress(0);\n\n    try {\n      const formData = new FormData();\n      formData.append('file', file as any);\n      if (folderId) formData.append('folderId', folderId);\n      if (metadata) formData.append('metadata', JSON.stringify(metadata));\n\n      const apiUrl = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:12001';\n      const response = await fetch(`${apiUrl}/api/files/upload`, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error('Upload failed');\n      }\n\n      const result = await response.json();\n      setProgress(100);\n      return result;\n    } catch (error: any) {\n      throw error;\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const uploadFiles = async (\n    files: File[],\n    folderId?: string,\n  ): Promise<BulkUploadResponse> => {\n    setUploading(true);\n    setProgress(0);\n\n    try {\n      const formData = new FormData();\n      files.forEach((file) => formData.append('files', file as any));\n      if (folderId) formData.append('folderId', folderId);\n\n      const apiUrl = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:12001';\n      const response = await fetch(`${apiUrl}/api/files/upload/bulk`, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        throw new Error('Upload failed');\n      }\n\n      const result = await response.json();\n      setProgress(100);\n      return result;\n    } catch (error: any) {\n      throw error;\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return {\n    uploadFile,\n    uploadFiles,\n    uploading,\n    progress,\n  };\n}\n\n/**\n * Hook to update file\n */\nexport function useUpdateFile() {\n  const [updateFile, { loading, error }] = useMutation(UPDATE_FILE);\n\n  return {\n    updateFile: async (input: UpdateFileInput) => {\n      const result = await updateFile({ variables: { input } });\n      return result.data?.updateFile as File;\n    },\n    loading,\n    error,\n  };\n}\n\n/**\n * Hook to delete file\n */\nexport function useDeleteFile() {\n  const [deleteFile, { loading, error }] = useMutation(DELETE_FILE, {\n    refetchQueries: [{ query: GET_FILES }],\n  });\n\n  return {\n    deleteFile: async (id: string) => {\n      const result = await deleteFile({ variables: { id } });\n      return result.data?.deleteFile as boolean;\n    },\n    loading,\n    error,\n  };\n}\n\n/**\n * Hook to move files\n */\nexport function useMoveFiles() {\n  const [moveFiles, { loading, error }] = useMutation(MOVE_FILES, {\n    refetchQueries: [{ query: GET_FILES }],\n  });\n\n  return {\n    moveFiles: async (input: MoveFilesInput) => {\n      const result = await moveFiles({ variables: { input } });\n      return result.data?.moveFiles as File[];\n    },\n    loading,\n    error,\n  };\n}\n\n/**\n * Hook to bulk delete files\n */\nexport function useBulkDeleteFiles() {\n  const [bulkDeleteFiles, { loading, error }] = useMutation(BULK_DELETE_FILES, {\n    refetchQueries: [{ query: GET_FILES }],\n  });\n\n  return {\n    bulkDeleteFiles: async (input: BulkDeleteFilesInput) => {\n      const result = await bulkDeleteFiles({ variables: { input } });\n      return result.data?.bulkDeleteFiles as number;\n    },\n    loading,\n    error,\n  };\n}\n\n/**\n * Hook to bulk update files\n */\nexport function useBulkUpdateFiles() {\n  const [bulkUpdateFiles, { loading, error }] = useMutation(BULK_UPDATE_FILES, {\n    refetchQueries: [{ query: GET_FILES }],\n  });\n\n  return {\n    bulkUpdateFiles: async (input: BulkUpdateFilesInput) => {\n      const result = await bulkUpdateFiles({ variables: { input } });\n      return result.data?.bulkUpdateFiles as File[];\n    },\n    loading,\n    error,\n  };\n}\n\n/**\n * Hook to create folder\n */\nexport function useCreateFolder() {\n  const [createFolder, { loading, error }] = useMutation(CREATE_FOLDER, {\n    refetchQueries: [{ query: GET_FOLDERS }],\n  });\n\n  return {\n    createFolder: async (input: CreateFolderInput) => {\n      const result = await createFolder({ variables: { input } });\n      return result.data?.createFolder as FileFolder;\n    },\n    loading,\n    error,\n  };\n}\n\n/**\n * Hook to update folder\n */\nexport function useUpdateFolder() {\n  const [updateFolder, { loading, error }] = useMutation(UPDATE_FOLDER, {\n    refetchQueries: [{ query: GET_FOLDERS }],\n  });\n\n  return {\n    updateFolder: async (input: UpdateFolderInput) => {\n      const result = await updateFolder({ variables: { input } });\n      return result.data?.updateFolder as FileFolder;\n    },\n    loading,\n    error,\n  };\n}\n\n/**\n * Hook to delete folder\n */\nexport function useDeleteFolder() {\n  const [deleteFolder, { loading, error }] = useMutation(DELETE_FOLDER, {\n    refetchQueries: [{ query: GET_FOLDERS }],\n  });\n\n  return {\n    deleteFolder: async (id: string) => {\n      const result = await deleteFolder({ variables: { id } });\n      return result.data?.deleteFolder as boolean;\n    },\n    loading,\n    error,\n  };\n}\n\n/**\n * Hook to create file share\n */\nexport function useCreateFileShare() {\n  const [createFileShare, { loading, error }] = useMutation(CREATE_FILE_SHARE);\n\n  return {\n    createFileShare: async (input: CreateFileShareInput) => {\n      const result = await createFileShare({ variables: { input } });\n      return result.data?.createFileShare;\n    },\n    loading,\n    error,\n  };\n}\n","import { gql } from '@apollo/client';\n\n// Fragment for File fields\nexport const FILE_FIELDS = gql`\n  fragment FileFields on File {\n    id\n    filename\n    originalName\n    mimeType\n    size\n    fileType\n    url\n    bucket\n    path\n    folderId\n    userId\n    visibility\n    title\n    description\n    alt\n    tags\n    metadata\n    width\n    height\n    thumbnailUrl\n    downloadCount\n    viewCount\n    createdAt\n    updatedAt\n  }\n`;\n\n// Fragment for Folder fields\nexport const FOLDER_FIELDS = gql`\n  fragment FolderFields on FileFolder {\n    id\n    name\n    description\n    parentId\n    path\n    userId\n    color\n    icon\n    isSystem\n    createdAt\n    updatedAt\n  }\n`;\n\n// Get single file\nexport const GET_FILE = gql`\n  ${FILE_FIELDS}\n  query GetFile($id: ID!) {\n    file(id: $id) {\n      ...FileFields\n      folder {\n        id\n        name\n        path\n      }\n    }\n  }\n`;\n\n// Get files with pagination and filters\nexport const GET_FILES = gql`\n  ${FILE_FIELDS}\n  query GetFiles($input: GetFilesInput) {\n    files(input: $input) {\n      items {\n        ...FileFields\n        folder {\n          id\n          name\n          path\n        }\n      }\n      total\n      page\n      limit\n      totalPages\n      hasNextPage\n      hasPreviousPage\n    }\n  }\n`;\n\n// Get single folder\nexport const GET_FOLDER = gql`\n  ${FOLDER_FIELDS}\n  query GetFolder($id: ID!) {\n    folder(id: $id) {\n      ...FolderFields\n      parent {\n        id\n        name\n        path\n      }\n      children {\n        id\n        name\n        path\n      }\n      files {\n        id\n        filename\n        originalName\n        url\n        fileType\n        size\n      }\n    }\n  }\n`;\n\n// Get all folders\nexport const GET_FOLDERS = gql`\n  ${FOLDER_FIELDS}\n  query GetFolders {\n    folders {\n      ...FolderFields\n      children {\n        id\n        name\n        path\n      }\n    }\n  }\n`;\n\n// Get storage statistics\nexport const GET_STORAGE_STATS = gql`\n  query GetStorageStats {\n    fileStorageStats {\n      totalFiles\n      totalSize\n      totalFolders\n      filesByType {\n        type\n        count\n        totalSize\n      }\n      filesByVisibility {\n        visibility\n        count\n      }\n    }\n  }\n`;\n\n// Update file mutation\nexport const UPDATE_FILE = gql`\n  ${FILE_FIELDS}\n  mutation UpdateFile($input: UpdateFileInput!) {\n    updateFile(input: $input) {\n      ...FileFields\n    }\n  }\n`;\n\n// Delete file mutation\nexport const DELETE_FILE = gql`\n  mutation DeleteFile($id: ID!) {\n    deleteFile(id: $id)\n  }\n`;\n\n// Move files mutation\nexport const MOVE_FILES = gql`\n  ${FILE_FIELDS}\n  mutation MoveFiles($input: MoveFilesInput!) {\n    moveFiles(input: $input) {\n      ...FileFields\n    }\n  }\n`;\n\n// Bulk delete files mutation\nexport const BULK_DELETE_FILES = gql`\n  mutation BulkDeleteFiles($input: BulkDeleteFilesInput!) {\n    bulkDeleteFiles(input: $input)\n  }\n`;\n\n// Bulk update files mutation\nexport const BULK_UPDATE_FILES = gql`\n  ${FILE_FIELDS}\n  mutation BulkUpdateFiles($input: BulkUpdateFilesInput!) {\n    bulkUpdateFiles(input: $input) {\n      ...FileFields\n    }\n  }\n`;\n\n// Create folder mutation\nexport const CREATE_FOLDER = gql`\n  ${FOLDER_FIELDS}\n  mutation CreateFolder($input: CreateFolderInput!) {\n    createFolder(input: $input) {\n      ...FolderFields\n    }\n  }\n`;\n\n// Update folder mutation\nexport const UPDATE_FOLDER = gql`\n  ${FOLDER_FIELDS}\n  mutation UpdateFolder($input: UpdateFolderInput!) {\n    updateFolder(input: $input) {\n      ...FolderFields\n    }\n  }\n`;\n\n// Delete folder mutation\nexport const DELETE_FOLDER = gql`\n  mutation DeleteFolder($id: ID!) {\n    deleteFolder(id: $id)\n  }\n`;\n\n// Create file share mutation\nexport const CREATE_FILE_SHARE = gql`\n  mutation CreateFileShare($input: CreateFileShareInput!) {\n    createFileShare(input: $input) {\n      id\n      fileId\n      token\n      sharedBy\n      sharedWith\n      expiresAt\n      canDownload\n      canView\n      createdAt\n    }\n  }\n`;\n","// File types matching backend enums\nexport enum FileType {\n  IMAGE = 'IMAGE',\n  VIDEO = 'VIDEO',\n  AUDIO = 'AUDIO',\n  DOCUMENT = 'DOCUMENT',\n  ARCHIVE = 'ARCHIVE',\n  OTHER = 'OTHER',\n}\n\nexport enum FileVisibility {\n  PUBLIC = 'PUBLIC',\n  PRIVATE = 'PRIVATE',\n  SHARED = 'SHARED',\n}\n\n// File interface\nexport interface File {\n  id: string;\n  filename: string;\n  originalName: string;\n  mimeType: string;\n  size: number;\n  fileType: FileType;\n  url: string;\n  bucket: string;\n  path: string;\n  folderId?: string;\n  userId: string;\n  visibility: FileVisibility;\n  title?: string;\n  description?: string;\n  alt?: string;\n  tags: string[];\n  metadata?: any;\n  width?: number;\n  height?: number;\n  thumbnailUrl?: string;\n  downloadCount: number;\n  viewCount: number;\n  createdAt: string;\n  updatedAt: string;\n  folder?: FileFolder;\n}\n\n// FileFolder interface\nexport interface FileFolder {\n  id: string;\n  name: string;\n  description?: string;\n  parentId?: string;\n  parent?: FileFolder;\n  children: FileFolder[];\n  path: string;\n  userId: string;\n  files?: File[];\n  color?: string;\n  icon?: string;\n  isSystem: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\n// Paginated files response\nexport interface PaginatedFiles {\n  items: File[];\n  total: number;\n  page: number;\n  limit: number;\n  totalPages: number;\n  hasNextPage: boolean;\n  hasPreviousPage: boolean;\n}\n\n// Input types\nexport interface FileFiltersInput {\n  fileType?: FileType;\n  folderId?: string;\n  visibility?: FileVisibility;\n  search?: string;\n  tags?: string[];\n  mimeType?: string;\n}\n\nexport interface GetFilesInput {\n  page?: number;\n  limit?: number;\n  filters?: FileFiltersInput;\n  sortBy?: string;\n  sortOrder?: 'asc' | 'desc';\n}\n\nexport interface UpdateFileInput {\n  id: string;\n  title?: string;\n  description?: string;\n  alt?: string;\n  tags?: string[];\n  folderId?: string;\n  visibility?: FileVisibility;\n  metadata?: any;\n}\n\nexport interface CreateFolderInput {\n  name: string;\n  description?: string;\n  parentId?: string;\n  color?: string;\n  icon?: string;\n}\n\nexport interface UpdateFolderInput {\n  id: string;\n  name?: string;\n  description?: string;\n  parentId?: string;\n  color?: string;\n  icon?: string;\n}\n\nexport interface MoveFilesInput {\n  fileIds: string[];\n  targetFolderId?: string;\n}\n\nexport interface BulkDeleteFilesInput {\n  fileIds: string[];\n}\n\nexport interface BulkUpdateFilesInput {\n  fileIds: string[];\n  visibility?: FileVisibility;\n  tags?: string[];\n  folderId?: string;\n}\n\nexport interface CreateFileShareInput {\n  fileId: string;\n  sharedWith?: string;\n  expiresAt?: Date;\n  password?: string;\n  canDownload?: boolean;\n  canView?: boolean;\n}\n\n// Storage statistics\nexport interface FileStorageStats {\n  totalFiles: number;\n  totalSize: number;\n  totalFolders: number;\n  filesByType: FileTypeCount[];\n  filesByVisibility: VisibilityCount[];\n}\n\nexport interface FileTypeCount {\n  type: FileType;\n  count: number;\n  totalSize: number;\n}\n\nexport interface VisibilityCount {\n  visibility: FileVisibility;\n  count: number;\n}\n\n// Upload response\nexport interface UploadResponse {\n  success: boolean;\n  data: File;\n  message?: string;\n}\n\nexport interface BulkUploadResponse {\n  success: boolean;\n  data: File[];\n  message?: string;\n}\n","'use client';\n\nimport React, { useRef, useState, useCallback } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Progress } from '@/components/ui/progress';\nimport { Badge } from '@/components/ui/badge';\nimport { Upload, X, FileIcon, CheckCircle, AlertCircle } from 'lucide-react';\nimport { cn } from '@/lib/utils';\n\ninterface UploadDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onUpload: (files: FileList | globalThis.File[]) => Promise<void>;\n  onUploadSuccess?: () => void;\n  folderId?: string;\n}\n\ninterface FileWithStatus {\n  file: globalThis.File;\n  id: string;\n  status: 'pending' | 'uploading' | 'success' | 'error';\n  progress: number;\n  error?: string;\n}\n\nexport const UploadDialog: React.FC<UploadDialogProps> = ({\n  open,\n  onOpenChange,\n  onUpload,\n  onUploadSuccess,\n  folderId,\n}) => {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [files, setFiles] = useState<FileWithStatus[]>([]);\n  const [isDragging, setIsDragging] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n\n  const handleFileSelect = useCallback((selectedFiles: FileList | globalThis.File[]) => {\n    const newFiles: FileWithStatus[] = Array.from(selectedFiles).map((file) => ({\n      file,\n      id: `${file.name}-${Date.now()}-${Math.random()}`,\n      status: 'pending' as const,\n      progress: 0,\n    }));\n    setFiles((prev) => [...prev, ...newFiles]);\n  }, []);\n\n  const handleFileInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files.length > 0) {\n      handleFileSelect(e.target.files);\n    }\n  };\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      handleFileSelect(e.dataTransfer.files);\n    }\n  }, [handleFileSelect]);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n  }, []);\n\n  const removeFile = (fileId: string) => {\n    setFiles((prev) => prev.filter((f) => f.id !== fileId));\n  };\n\n  const handleUpload = async () => {\n    if (files.length === 0) return;\n    \n    setIsUploading(true);\n    try {\n      const fileObjects = files.map((f) => f.file);\n      await onUpload(fileObjects);\n      \n      // Mark all as success\n      setFiles((prev) =>\n        prev.map((f) => ({ ...f, status: 'success' as const, progress: 100 }))\n      );\n      \n      if (onUploadSuccess) {\n        onUploadSuccess();\n      }\n      \n      // Close after short delay\n      setTimeout(() => {\n        onOpenChange(false);\n        setFiles([]);\n      }, 1500);\n    } catch (error: any) {\n      // Mark all as error\n      setFiles((prev) =>\n        prev.map((f) => ({\n          ...f,\n          status: 'error' as const,\n          error: error.message || 'Upload failed',\n        }))\n      );\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i];\n  };\n\n  const getStatusIcon = (status: FileWithStatus['status']) => {\n    switch (status) {\n      case 'success':\n        return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\n      case 'error':\n        return <AlertCircle className=\"h-4 w-4 text-red-500\" />;\n      case 'uploading':\n        return <div className=\"h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\" />;\n      default:\n        return <FileIcon className=\"h-4 w-4 text-gray-400\" />;\n    }\n  };\n\n  const getStatusBadge = (status: FileWithStatus['status']) => {\n    switch (status) {\n      case 'success':\n        return <Badge variant=\"default\" className=\"bg-green-500\">Success</Badge>;\n      case 'error':\n        return <Badge variant=\"destructive\">Error</Badge>;\n      case 'uploading':\n        return <Badge variant=\"secondary\">Uploading...</Badge>;\n      default:\n        return <Badge variant=\"outline\">Pending</Badge>;\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-2xl max-h-[80vh] flex flex-col\">\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Upload className=\"h-5 w-5\" />\n            Upload Files\n            {files.length > 0 && (\n              <Badge variant=\"secondary\" className=\"ml-2\">\n                {files.length} file{files.length > 1 ? 's' : ''}\n              </Badge>\n            )}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"flex-1 overflow-y-auto space-y-4 py-4\">\n          {/* Drop Zone */}\n          <div\n            onDrop={handleDrop}\n            onDragOver={handleDragOver}\n            onDragLeave={handleDragLeave}\n            className={cn(\n              'border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer',\n              isDragging\n                ? 'border-blue-500 bg-blue-50 dark:bg-blue-950'\n                : 'border-gray-300 hover:border-gray-400 dark:border-gray-700'\n            )}\n            onClick={() => fileInputRef.current?.click()}\n          >\n            <Upload className=\"h-12 w-12 mx-auto mb-4 text-gray-400\" />\n            <p className=\"text-lg font-medium mb-2\">\n              Drop files here or click to browse\n            </p>\n            <p className=\"text-sm text-gray-500\">\n              Support for multiple files upload\n            </p>\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              multiple\n              className=\"hidden\"\n              onChange={handleFileInputChange}\n            />\n          </div>\n\n          {/* File List */}\n          {files.length > 0 && (\n            <div className=\"space-y-2\">\n              <h3 className=\"text-sm font-medium\">Files to upload:</h3>\n              <div className=\"space-y-2 max-h-[300px] overflow-y-auto\">\n                {files.map((fileItem) => (\n                  <div\n                    key={fileItem.id}\n                    className=\"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg\"\n                  >\n                    {getStatusIcon(fileItem.status)}\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-medium truncate\">\n                        {fileItem.file.name}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">\n                        {formatFileSize(fileItem.file.size)}\n                      </p>\n                      {fileItem.status === 'uploading' && (\n                        <Progress value={fileItem.progress} className=\"h-1 mt-2\" />\n                      )}\n                      {fileItem.error && (\n                        <p className=\"text-xs text-red-500 mt-1\">{fileItem.error}</p>\n                      )}\n                    </div>\n                    {getStatusBadge(fileItem.status)}\n                    {fileItem.status === 'pending' && !isUploading && (\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => removeFile(fileItem.id)}\n                        className=\"h-8 w-8 p-0\"\n                      >\n                        <X className=\"h-4 w-4\" />\n                      </Button>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        <DialogFooter className=\"gap-2\">\n          <Button\n            variant=\"outline\"\n            onClick={() => {\n              onOpenChange(false);\n              setFiles([]);\n            }}\n            disabled={isUploading}\n          >\n            Cancel\n          </Button>\n          <Button\n            onClick={handleUpload}\n            disabled={files.length === 0 || isUploading}\n          >\n            {isUploading ? (\n              <>\n                <div className=\"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\" />\n                Uploading...\n              </>\n            ) : (\n              <>\n                <Upload className=\"h-4 w-4 mr-2\" />\n                Upload {files.length} file{files.length > 1 ? 's' : ''}\n              </>\n            )}\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n};\n"],"names":[],"mappings":"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"}