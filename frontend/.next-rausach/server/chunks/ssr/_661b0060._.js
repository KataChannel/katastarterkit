module.exports=[558767,a=>{"use strict";var b=a.i(158464);a.s(["Trash2",()=>b.default])},723593,a=>{"use strict";var b=a.i(939816);a.s(["Plus",()=>b.default])},370477,a=>{"use strict";var b=a.i(651332);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},376946,a=>{"use strict";var b=a.i(651332),c=a.i(372123),d=a.i(321248),e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f=b.forwardRef((a,b)=>(0,d.jsx)(c.Primitive.span,{...a,ref:b,style:{...e,...a.style}}));f.displayName="VisuallyHidden",a.s(["Root",()=>f,"VISUALLY_HIDDEN_STYLES",()=>e,"VisuallyHidden",()=>f])},441405,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(372123),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(422171);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],441405)},466577,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(422171);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},516482,a=>{"use strict";var b=a.i(13755);a.s(["ArrowLeft",()=>b.default])},973174,a=>{"use strict";var b=a.i(357230);a.s(["Save",()=>b.default])},607226,a=>{"use strict";var b=a.i(419259);a.s(["UserPlus",()=>b.default])},812519,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(53627),e=a.i(285439),f=a.i(975780),g=a.i(202979),h=a.i(478184),i=a.i(441405),j=a.i(466577),k=a.i(144932),l=a.i(234211),m=a.i(516482),n=a.i(607226),o=a.i(723593),p=a.i(558767),q=a.i(973174),r=a.i(439889);function s(){let a=(0,d.useRouter)(),{toast:s}=(0,l.useToast)(),{employees:t,loading:u}=(0,e.useEmployeeProfiles)({take:100}),{createOnboardingChecklist:v,loading:w}=(0,e.useCreateOnboardingChecklist)(),[x,y]=(0,c.useState)({employeeProfileId:"",userId:"",startDate:new Date().toISOString().split("T")[0],targetDate:"",assignedTo:"",buddyId:"",hrNotes:""}),[z,A]=(0,c.useState)([{title:"Nhận tài khoản email và các công cụ làm việc",description:"",completed:!1},{title:"Hoàn thành các giấy tờ nhân sự",description:"",completed:!1},{title:"Tham gia buổi định hướng công ty",description:"",completed:!1},{title:"Gặp gỡ và làm quen với đội ngũ",description:"",completed:!1},{title:"Thiết lập môi trường làm việc",description:"",completed:!1}]),B=(a,b,c)=>{let d=[...z];d[a]={...d[a],[b]:c},A(d)},C=async b=>{if(b.preventDefault(),!x.employeeProfileId||!x.userId)return void s({title:"Lỗi",description:"Vui lòng chọn nhân viên",type:"error"});if(0===z.filter(a=>a.title).length)return void s({title:"Lỗi",description:"Vui lòng thêm ít nhất một công việc",type:"error"});try{let b=z.filter(a=>a.title);await v({...x,tasks:b,totalTasks:b.length}),s({title:"Thành công",description:"Đã tạo onboarding checklist mới",type:"success"}),a.push("/admin/hr/onboarding")}catch(a){s({title:"Lỗi",description:a.message||"Không thể tạo onboarding checklist",type:"error"})}};return(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(r.default,{href:"/admin/hr/onboarding",children:(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(m.ArrowLeft,{className:"h-5 w-5"})})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[(0,b.jsx)(n.UserPlus,{className:"mr-3 h-8 w-8"}),"Tạo Onboarding Mới"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Thiết lập quy trình nhập môn cho nhân viên mới"})]})]}),(0,b.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Thông tin nhân viên"}),(0,b.jsx)(f.CardDescription,{children:"Chọn nhân viên cần onboarding"})]}),(0,b.jsx)(f.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"employee",children:"Nhân viên *"}),(0,b.jsxs)(k.Select,{value:x.employeeProfileId,onValueChange:a=>{let b=t.find(b=>b.id===a);b&&y({...x,employeeProfileId:a,userId:b.userId})},disabled:u,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Chọn nhân viên..."})}),(0,b.jsx)(k.SelectContent,{children:t.map(a=>(0,b.jsxs)(k.SelectItem,{value:a.id,children:[a.fullName," - ",a.employeeCode]},a.id))})]})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Thời gian"})}),(0,b.jsx)(f.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"startDate",children:"Ngày bắt đầu *"}),(0,b.jsx)(h.Input,{id:"startDate",type:"date",value:x.startDate,onChange:a=>y({...x,startDate:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"targetDate",children:"Ngày mục tiêu hoàn thành"}),(0,b.jsx)(h.Input,{id:"targetDate",type:"date",value:x.targetDate,onChange:a=>y({...x,targetDate:a.target.value})})]})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Phân công"})}),(0,b.jsx)(f.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"assignedTo",children:"Người phụ trách"}),(0,b.jsx)(h.Input,{id:"assignedTo",placeholder:"Tên người phụ trách...",value:x.assignedTo,onChange:a=>y({...x,assignedTo:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"buddyId",children:"Buddy (người hướng dẫn)"}),(0,b.jsx)(h.Input,{id:"buddyId",placeholder:"Tên buddy...",value:x.buddyId,onChange:a=>y({...x,buddyId:a.target.value})})]})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Danh sách công việc"}),(0,b.jsxs)(g.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{A([...z,{title:"",description:"",completed:!1}])},children:[(0,b.jsx)(o.Plus,{className:"mr-2 h-4 w-4"}),"Thêm công việc"]})]}),(0,b.jsx)(f.CardDescription,{children:"Tạo danh sách các công việc cần hoàn thành trong quá trình onboarding"})]}),(0,b.jsx)(f.CardContent,{className:"space-y-4",children:z.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 border rounded-lg space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("h4",{className:"font-medium",children:["Công việc #",c+1]}),z.length>1&&(0,b.jsx)(g.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{A(z.filter((a,b)=>b!==c))},children:(0,b.jsx)(p.Trash2,{className:"h-4 w-4 text-red-500"})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:`task-title-${c}`,children:"Tiêu đề *"}),(0,b.jsx)(h.Input,{id:`task-title-${c}`,placeholder:"Nhập tiêu đề công việc...",value:a.title,onChange:a=>B(c,"title",a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:`task-description-${c}`,children:"Mô tả"}),(0,b.jsx)(j.Textarea,{id:`task-description-${c}`,placeholder:"Mô tả chi tiết công việc...",value:a.description,onChange:a=>B(c,"description",a.target.value),rows:2})]})]},c))})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Ghi chú HR"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)(j.Textarea,{id:"hrNotes",rows:4,placeholder:"Ghi chú cho quá trình onboarding...",value:x.hrNotes,onChange:a=>y({...x,hrNotes:a.target.value})})})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>a.back(),disabled:w,children:"Hủy"}),(0,b.jsxs)(g.Button,{type:"submit",disabled:w,children:[(0,b.jsx)(q.Save,{className:"mr-2 h-4 w-4"}),w?"Đang tạo...":"Tạo Onboarding"]})]})]})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=_661b0060._.js.map