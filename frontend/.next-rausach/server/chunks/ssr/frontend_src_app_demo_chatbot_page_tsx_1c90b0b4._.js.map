{"version":3,"sources":["turbopack:///[project]/frontend/src/app/demo/chatbot/page.tsx","turbopack:///[project]/frontend/src/components/chatbot/ChatbotList.tsx","turbopack:///[project]/frontend/src/types/chatbot.ts","turbopack:///[project]/frontend/src/lib/chatbot-api.ts","turbopack:///[project]/frontend/src/hooks/useChatbot.ts","turbopack:///[project]/frontend/src/components/chatbot/ChatInterface.tsx","turbopack:///[project]/frontend/src/components/chatbot/TrainingDataManager.tsx","turbopack:///[project]/frontend/src/components/chatbot/ChatbotForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { ChatbotList } from '@/components/chatbot/ChatbotList';\nimport { ChatInterface } from '@/components/chatbot/ChatInterface';\nimport { TrainingDataManager } from '@/components/chatbot/TrainingDataManager';\nimport { ChatbotForm } from '@/components/chatbot/ChatbotForm';\nimport { ChatbotResponse, CreateChatbotDto } from '@/types/chatbot';\nimport { useChatbots } from '@/hooks/useChatbot';\nimport { useAuth } from '@/contexts/AuthContext';\nimport Link from 'next/link';\nimport { LogIn, User } from 'lucide-react';\n\ntype ViewState = \n  | { type: 'list' }\n  | { type: 'chat'; chatbot: ChatbotResponse }\n  | { type: 'training'; chatbot: ChatbotResponse }\n  | { type: 'form' };\n\nexport default function ChatbotPage() {\n  const { user, loading: authLoading, isAuthenticated } = useAuth();\n  const { createChatbot, loading, error } = useChatbots();\n  const [viewState, setViewState] = useState<ViewState>({ type: 'list' });\n  const [formLoading, setFormLoading] = useState(false);\n  const [formError, setFormError] = useState<string | null>(null);\n\n  // Show loading while checking authentication\n  if (authLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"h-8 w-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show login prompt if not authenticated\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"max-w-md w-full mx-4\">\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center\">\n            <div className=\"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <User className=\"h-8 w-8 text-blue-600\" />\n            </div>\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n              Authentication Required\n            </h2>\n            <p className=\"text-gray-600 mb-6\">\n              You need to be logged in to access the chatbot features.\n            </p>\n            <div className=\"space-y-3\">\n              <Link\n                href=\"/login\"\n                className=\"w-full inline-flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                <LogIn className=\"h-4 w-4\" />\n                Login\n              </Link>\n              <p className=\"text-sm text-gray-500\">\n                Don't have an account?{' '}\n                <Link href=\"/register\" className=\"text-blue-600 hover:text-blue-700\">\n                  Sign up here\n                </Link>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const handleCreateChatbot = () => {\n    setViewState({ type: 'form' });\n  };\n\n  const handleChatWithBot = (chatbot: ChatbotResponse) => {\n    setViewState({ type: 'chat', chatbot });\n  };\n\n  const handleManageTraining = (chatbot: ChatbotResponse) => {\n    setViewState({ type: 'training', chatbot });\n  };\n\n  const handleBackToList = () => {\n    setViewState({ type: 'list' });\n  };\n\n  const handleSubmitForm = async (data: CreateChatbotDto) => {\n    setFormLoading(true);\n    setFormError(null);\n\n    try {\n      await createChatbot(data);\n      setViewState({ type: 'list' });\n    } catch (error) {\n      setFormError(error instanceof Error ? error.message : 'Failed to create chatbot');\n    } finally {\n      setFormLoading(false);\n    }\n  };\n\n  const handleCancelForm = () => {\n    setFormError(null);\n    setViewState({ type: 'list' });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {viewState.type === 'list' && (\n        <ChatbotList\n          onChatWithBot={handleChatWithBot}\n          onManageTraining={handleManageTraining}\n          onCreateChatbot={handleCreateChatbot}\n          onEditChatbot={(chatbot) => {\n            // You can implement edit functionality later\n            console.log('Edit chatbot:', chatbot);\n          }}\n        />\n      )}\n\n      {viewState.type === 'chat' && (\n        <ChatInterface\n          chatbot={viewState.chatbot}\n          onBack={handleBackToList}\n        />\n      )}\n\n      {viewState.type === 'training' && (\n        <TrainingDataManager\n          chatbotId={viewState.chatbot.id}\n          onBack={handleBackToList}\n        />\n      )}\n\n      {viewState.type === 'form' && (\n        <ChatbotForm\n          onSubmit={handleSubmitForm}\n          onCancel={handleCancelForm}\n          loading={formLoading}\n          error={formError}\n        />\n      )}\n    </div>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { Plus, Bot, MessageSquare, Database, MoreVertical, Edit, Trash2 } from 'lucide-react';\nimport { ChatbotResponse, ChatbotStatus } from '@/types/chatbot';\nimport { useChatbots } from '@/hooks/useChatbot';\n\ninterface ChatbotListProps {\n  onChatWithBot: (chatbot: ChatbotResponse) => void;\n  onManageTraining: (chatbot: ChatbotResponse) => void;\n  onCreateChatbot: () => void;\n  onEditChatbot: (chatbot: ChatbotResponse) => void;\n}\n\nexport function ChatbotList({ onChatWithBot, onManageTraining, onCreateChatbot, onEditChatbot }: ChatbotListProps) {\n  const { chatbots, loading, error, deleteChatbot } = useChatbots();\n  const [deletingId, setDeletingId] = useState<string | null>(null);\n\n  const handleDelete = async (chatbot: ChatbotResponse) => {\n    if (confirm(`Are you sure you want to delete \"${chatbot.name}\"? This action cannot be undone.`)) {\n      setDeletingId(chatbot.id);\n      await deleteChatbot(chatbot.id);\n      setDeletingId(null);\n    }\n  };\n\n  const getStatusColor = (status: ChatbotStatus) => {\n    switch (status) {\n      case ChatbotStatus.ACTIVE:\n        return 'bg-green-100 text-green-800 border-green-200';\n      case ChatbotStatus.INACTIVE:\n        return 'bg-gray-100 text-gray-800 border-gray-200';\n      case ChatbotStatus.TRAINING:\n        return 'bg-yellow-100 text-yellow-800 border-yellow-200';\n      default:\n        return 'bg-gray-100 text-gray-800 border-gray-200';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"animate-pulse space-y-4\">\n          {[1, 2, 3].map((i) => (\n            <div key={i} className=\"h-20 bg-gray-200 rounded-lg\"></div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <p className=\"text-red-800\">Error loading chatbots: {error}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {/* Header */}\n      <div className=\"p-6 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"text-lg font-semibold text-gray-900 flex items-center gap-2\">\n            <Bot className=\"h-5 w-5\" />\n            My Chatbots\n          </h2>\n          <button\n            onClick={onCreateChatbot}\n            className=\"inline-flex items-center gap-2 px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n          >\n            <Plus className=\"h-4 w-4\" />\n            New Chatbot\n          </button>\n        </div>\n      </div>\n\n      {/* Chatbot List */}\n      <div className=\"flex-1 overflow-y-auto\">\n        {chatbots.length === 0 ? (\n          <div className=\"p-6\">\n            <div className=\"text-center py-12\">\n              <Bot className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No chatbots yet</h3>\n              <p className=\"text-gray-500 mb-4\">Create your first AI chatbot to get started.</p>\n              <button\n                onClick={onCreateChatbot}\n                className=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                <Plus className=\"h-4 w-4\" />\n                Create Chatbot\n              </button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"p-4 space-y-3\">\n            {chatbots.map((chatbot) => (\n              <div\n                key={chatbot.id}\n                className=\"bg-white border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors group\"\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-3 mb-2\">\n                      <div className=\"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n                        <Bot className=\"h-5 w-5 text-blue-600\" />\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <h3 className=\"font-medium text-gray-900 truncate\">{chatbot.name}</h3>\n                        <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${getStatusColor(chatbot.status)}`}>\n                          {chatbot.status}\n                        </span>\n                      </div>\n                    </div>\n                    \n                    {chatbot.description && (\n                      <p className=\"text-sm text-gray-600 mb-3 line-clamp-2\">{chatbot.description}</p>\n                    )}\n                    \n                    <div className=\"flex items-center gap-4 text-xs text-gray-500 mb-3\">\n                      <div className=\"flex items-center gap-1\">\n                        <MessageSquare className=\"h-3 w-3\" />\n                        {chatbot.conversationCount} conversations\n                      </div>\n                      <div className=\"flex items-center gap-1\">\n                        <Database className=\"h-3 w-3\" />\n                        {chatbot.trainingDataCount} training data\n                      </div>\n                      <div>\n                        Created {new Date(chatbot.createdAt).toLocaleDateString()}\n                      </div>\n                    </div>\n                    \n                    {/* Action Buttons */}\n                    <div className=\"flex items-center gap-2\">\n                      <button\n                        onClick={() => onChatWithBot(chatbot)}\n                        className=\"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n                      >\n                        <MessageSquare className=\"h-3 w-3\" />\n                        Chat\n                      </button>\n                      <button\n                        onClick={() => onManageTraining(chatbot)}\n                        className=\"inline-flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 transition-colors\"\n                      >\n                        <Database className=\"h-3 w-3\" />\n                        Training\n                      </button>\n                    </div>\n                  </div>\n                  \n                  <div className=\"ml-4 opacity-0 group-hover:opacity-100 transition-opacity\">\n                    <div className=\"flex items-center gap-1\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          onEditChatbot(chatbot);\n                        }}\n                        className=\"p-1 hover:bg-gray-100 rounded transition-colors\"\n                        title=\"Edit chatbot\"\n                      >\n                        <Edit className=\"h-4 w-4 text-gray-500\" />\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleDelete(chatbot);\n                        }}\n                        disabled={deletingId === chatbot.id}\n                        className=\"p-1 hover:bg-red-100 rounded transition-colors disabled:opacity-50\"\n                        title=\"Delete chatbot\"\n                      >\n                        <Trash2 className=\"h-4 w-4 text-red-500\" />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","// Chatbot Types\nexport interface CreateChatbotDto {\n  name: string;\n  description?: string;\n  systemPrompt?: string;\n  temperature?: number;\n  maxTokens?: number;\n  trainingDataIds?: string[];\n}\n\nexport interface ChatbotResponse {\n  id: string;\n  name: string;\n  description?: string;\n  systemPrompt?: string;\n  status: ChatbotStatus;\n  temperature: number;\n  maxTokens: number;\n  trainingDataCount: number;\n  conversationCount: number;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport enum ChatbotStatus {\n  ACTIVE = 'ACTIVE',\n  INACTIVE = 'INACTIVE',\n  TRAINING = 'TRAINING',\n}\n\n// Training Data Types\nexport interface CreateTrainingDataDto {\n  title: string;\n  type: TrainingDataType;\n  content?: string;\n  filePath?: string;\n}\n\nexport interface TrainingDataResponse {\n  id: string;\n  title: string;\n  type: TrainingDataType;\n  status: TrainingStatus;\n  content?: string;\n  filePath?: string;\n  embeddings?: any;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nexport enum TrainingDataType {\n  DOCUMENT = 'DOCUMENT',\n  TEXT = 'TEXT',\n  FAQ = 'FAQ',\n  CONVERSATION = 'CONVERSATION',\n  KNOWLEDGE_BASE = 'KNOWLEDGE_BASE',\n}\n\nexport enum TrainingStatus {\n  PENDING = 'PENDING',\n  PROCESSING = 'PROCESSING',\n  COMPLETED = 'COMPLETED',\n  FAILED = 'FAILED',\n}\n\n// Chat Types\nexport interface SendMessageDto {\n  message: string;\n  conversationId?: string;\n}\n\nexport interface ChatMessageResponse {\n  id: string;\n  content: string;\n  role: string; // 'user' or 'assistant'\n  timestamp: Date;\n  conversationId: string;\n}\n\nexport interface ChatConversationResponse {\n  id: string;\n  title: string;\n  messages: ChatMessageResponse[];\n  createdAt: Date;\n  updatedAt: Date;\n}\n\n// API Response Types\nexport interface ApiResponse<T> {\n  data?: T;\n  error?: string;\n  message?: string;\n}\n\nexport interface PaginatedResponse<T> {\n  data: T[];\n  total: number;\n  page: number;\n  limit: number;\n}\n","import { \n  ChatbotResponse, \n  CreateChatbotDto, \n  TrainingDataResponse, \n  CreateTrainingDataDto,\n  ChatMessageResponse,\n  ChatConversationResponse,\n  SendMessageDto,\n  ApiResponse \n} from '@/types/chatbot';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_BACKEND_URL || 'http://localhost:12001';\n\nclass ChatbotApiClient {\n  private async request<T>(\n    endpoint: string, \n    options: RequestInit = {}\n  ): Promise<ApiResponse<T>> {\n    try {\n      const token = localStorage.getItem('accessToken');\n      \n      const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          ...(token && { Authorization: `Bearer ${token}` }),\n          ...options.headers,\n        },\n        ...options,\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({ message: 'Network error' }));\n        return { error: errorData.message || `HTTP ${response.status}` };\n      }\n\n      const data = await response.json();\n      return { data };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Unknown error' };\n    }\n  }\n\n  // Chatbot Management\n  async createChatbot(chatbotData: CreateChatbotDto): Promise<ApiResponse<ChatbotResponse>> {\n    return this.request<ChatbotResponse>('/chatbot', {\n      method: 'POST',\n      body: JSON.stringify(chatbotData),\n    });\n  }\n\n  async getChatbots(): Promise<ApiResponse<ChatbotResponse[]>> {\n    return this.request<ChatbotResponse[]>('/chatbot');\n  }\n\n  async getChatbot(id: string): Promise<ApiResponse<ChatbotResponse>> {\n    return this.request<ChatbotResponse>(`/chatbot/${id}`);\n  }\n\n  async updateChatbot(id: string, chatbotData: Partial<CreateChatbotDto>): Promise<ApiResponse<ChatbotResponse>> {\n    return this.request<ChatbotResponse>(`/chatbot/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(chatbotData),\n    });\n  }\n\n  async deleteChatbot(id: string): Promise<ApiResponse<{ message: string }>> {\n    return this.request<{ message: string }>(`/chatbot/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Training Data Management\n  async createTrainingData(\n    chatbotId: string, \n    trainingData: CreateTrainingDataDto\n  ): Promise<ApiResponse<TrainingDataResponse>> {\n    return this.request<TrainingDataResponse>(`/ai-training/${chatbotId}`, {\n      method: 'POST',\n      body: JSON.stringify(trainingData),\n    });\n  }\n\n  async getTrainingData(): Promise<ApiResponse<TrainingDataResponse[]>> {\n    return this.request<TrainingDataResponse[]>('/ai-training');\n  }\n\n  async getTrainingDataById(id: string): Promise<ApiResponse<TrainingDataResponse>> {\n    return this.request<TrainingDataResponse>(`/ai-training/${id}`);\n  }\n\n  async deleteTrainingData(id: string): Promise<ApiResponse<{ message: string }>> {\n    return this.request<{ message: string }>(`/ai-training/${id}`, {\n      method: 'DELETE',\n    });\n  }\n\n  // Chat Functionality\n  async sendMessage(\n    chatbotId: string, \n    messageData: SendMessageDto\n  ): Promise<ApiResponse<ChatMessageResponse>> {\n    return this.request<ChatMessageResponse>(`/chatbot/${chatbotId}/message`, {\n      method: 'POST',\n      body: JSON.stringify(messageData),\n    });\n  }\n\n  async getChatbotConversations(chatbotId: string): Promise<ApiResponse<ChatConversationResponse[]>> {\n    return this.request<ChatConversationResponse[]>(`/chatbot/${chatbotId}/conversations`);\n  }\n\n  async getConversation(conversationId: string): Promise<ApiResponse<ChatConversationResponse>> {\n    return this.request<ChatConversationResponse>(`/chatbot/conversation/${conversationId}`);\n  }\n}\n\nexport const chatbotApi = new ChatbotApiClient();\n","import { useState, useEffect, useCallback } from 'react';\nimport { \n  ChatbotResponse, \n  CreateChatbotDto, \n  TrainingDataResponse, \n  CreateTrainingDataDto,\n  ChatConversationResponse,\n  ChatMessageResponse,\n  SendMessageDto \n} from '@/types/chatbot';\nimport { chatbotApi } from '@/lib/chatbot-api';\n\n// Hook for managing chatbots\nexport function useChatbots() {\n  const [chatbots, setChatbots] = useState<ChatbotResponse[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchChatbots = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    const response = await chatbotApi.getChatbots();\n    \n    if (response.error) {\n      setError(response.error);\n    } else if (response.data) {\n      setChatbots(response.data);\n    }\n    \n    setLoading(false);\n  }, []);\n\n  const createChatbot = useCallback(async (chatbotData: CreateChatbotDto) => {\n    setLoading(true);\n    setError(null);\n    \n    const response = await chatbotApi.createChatbot(chatbotData);\n    \n    if (response.error) {\n      setError(response.error);\n      setLoading(false);\n      return null;\n    } else if (response.data) {\n      setChatbots(prev => [response.data!, ...prev]);\n      setLoading(false);\n      return response.data;\n    }\n    \n    setLoading(false);\n    return null;\n  }, []);\n\n  const updateChatbot = useCallback(async (id: string, chatbotData: Partial<CreateChatbotDto>) => {\n    setLoading(true);\n    setError(null);\n    \n    const response = await chatbotApi.updateChatbot(id, chatbotData);\n    \n    if (response.error) {\n      setError(response.error);\n    } else if (response.data) {\n      setChatbots(prev => prev.map(bot => bot.id === id ? response.data! : bot));\n    }\n    \n    setLoading(false);\n    return response.data;\n  }, []);\n\n  const deleteChatbot = useCallback(async (id: string) => {\n    setLoading(true);\n    setError(null);\n    \n    const response = await chatbotApi.deleteChatbot(id);\n    \n    if (response.error) {\n      setError(response.error);\n    } else {\n      setChatbots(prev => prev.filter(bot => bot.id !== id));\n    }\n    \n    setLoading(false);\n    return !response.error;\n  }, []);\n\n  useEffect(() => {\n    fetchChatbots();\n  }, [fetchChatbots]);\n\n  return {\n    chatbots,\n    loading,\n    error,\n    createChatbot,\n    updateChatbot,\n    deleteChatbot,\n    refetch: fetchChatbots,\n  };\n}\n\n// Hook for managing single chatbot\nexport function useChatbot(chatbotId: string | null) {\n  const [chatbot, setChatbot] = useState<ChatbotResponse | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchChatbot = useCallback(async () => {\n    if (!chatbotId) return;\n    \n    setLoading(true);\n    setError(null);\n    \n    const response = await chatbotApi.getChatbot(chatbotId);\n    \n    if (response.error) {\n      setError(response.error);\n    } else if (response.data) {\n      setChatbot(response.data);\n    }\n    \n    setLoading(false);\n  }, [chatbotId]);\n\n  useEffect(() => {\n    fetchChatbot();\n  }, [fetchChatbot]);\n\n  return {\n    chatbot,\n    loading,\n    error,\n    refetch: fetchChatbot,\n  };\n}\n\n// Hook for managing training data\nexport function useTrainingData() {\n  const [trainingData, setTrainingData] = useState<TrainingDataResponse[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchTrainingData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    const response = await chatbotApi.getTrainingData();\n    \n    if (response.error) {\n      setError(response.error);\n    } else if (response.data) {\n      setTrainingData(response.data);\n    }\n    \n    setLoading(false);\n  }, []);\n\n  const createTrainingData = useCallback(async (chatbotId: string, data: CreateTrainingDataDto) => {\n    setLoading(true);\n    setError(null);\n    \n    const response = await chatbotApi.createTrainingData(chatbotId, data);\n    \n    if (response.error) {\n      setError(response.error);\n      setLoading(false);\n      return null;\n    } else if (response.data) {\n      setTrainingData(prev => [response.data!, ...prev]);\n      setLoading(false);\n      return response.data;\n    }\n    \n    setLoading(false);\n    return null;\n  }, []);\n\n  const deleteTrainingData = useCallback(async (id: string) => {\n    setLoading(true);\n    setError(null);\n    \n    const response = await chatbotApi.deleteTrainingData(id);\n    \n    if (response.error) {\n      setError(response.error);\n    } else {\n      setTrainingData(prev => prev.filter(data => data.id !== id));\n    }\n    \n    setLoading(false);\n    return !response.error;\n  }, []);\n\n  useEffect(() => {\n    fetchTrainingData();\n  }, [fetchTrainingData]);\n\n  return {\n    trainingData,\n    loading,\n    error,\n    createTrainingData,\n    deleteTrainingData,\n    refetch: fetchTrainingData,\n  };\n}\n\n// Hook for chat functionality\nexport function useChat(chatbotId: string | null) {\n  const [conversations, setConversations] = useState<ChatConversationResponse[]>([]);\n  const [currentConversation, setCurrentConversation] = useState<ChatConversationResponse | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchConversations = useCallback(async () => {\n    if (!chatbotId) return;\n    \n    setLoading(true);\n    setError(null);\n    \n    const response = await chatbotApi.getChatbotConversations(chatbotId);\n    \n    if (response.error) {\n      setError(response.error);\n    } else if (response.data) {\n      setConversations(response.data);\n    }\n    \n    setLoading(false);\n  }, [chatbotId]);\n\n  const sendMessage = useCallback(async (messageData: SendMessageDto) => {\n    if (!chatbotId) return null;\n    \n    setError(null);\n    \n    // Add user message to current conversation immediately for better UX\n    if (currentConversation) {\n      const userMessage: ChatMessageResponse = {\n        id: `temp-${Date.now()}`, // Temporary ID\n        content: messageData.message,\n        role: 'user',\n        timestamp: new Date(),\n        conversationId: currentConversation.id || '',\n      };\n      \n      setCurrentConversation(prev => ({\n        ...prev!,\n        messages: [...prev!.messages, userMessage],\n      }));\n    }\n    \n    // Send message to backend - if conversationId is empty, backend will create new conversation\n    const actualMessageData = {\n      ...messageData,\n      conversationId: currentConversation?.id || undefined, // Don't send empty string\n    };\n    \n    const response = await chatbotApi.sendMessage(chatbotId, actualMessageData);\n    \n    if (response.error) {\n      setError(response.error);\n      // Remove the optimistically added message on error\n      if (currentConversation) {\n        setCurrentConversation(prev => ({\n          ...prev!,\n          messages: prev!.messages.slice(0, -1),\n        }));\n      }\n      return null;\n    } else if (response.data) {\n      // If this was a new conversation (no ID), update with the real conversation\n      if (!currentConversation?.id || currentConversation.id === '') {\n        // Load the full conversation to get proper data\n        const conversationResponse = await chatbotApi.getConversation(response.data.conversationId);\n        if (conversationResponse.data) {\n          setCurrentConversation(conversationResponse.data);\n        }\n      } else {\n        // Update existing conversation with AI response\n        setCurrentConversation(prev => ({\n          ...prev!,\n          messages: [...prev!.messages.filter(m => !m.id.startsWith('temp-')), response.data!],\n        }));\n      }\n      \n      // Refresh conversations list\n      fetchConversations();\n      \n      return response.data;\n    }\n    \n    return null;\n  }, [chatbotId, currentConversation, fetchConversations]);\n\n  const loadConversation = useCallback(async (conversationId: string) => {\n    setLoading(true);\n    setError(null);\n    \n    const response = await chatbotApi.getConversation(conversationId);\n    \n    if (response.error) {\n      setError(response.error);\n    } else if (response.data) {\n      setCurrentConversation(response.data);\n    }\n    \n    setLoading(false);\n  }, []);\n\n  const startNewConversation = useCallback(() => {\n    // Clear current conversation to show a fresh chat interface\n    setCurrentConversation({\n      id: '', // Temporary empty ID - will be set when first message is sent\n      title: 'New Conversation',\n      messages: [],\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    });\n  }, []);\n\n  useEffect(() => {\n    if (chatbotId) {\n      fetchConversations();\n    }\n  }, [fetchConversations, chatbotId]);\n\n  return {\n    conversations,\n    currentConversation,\n    loading,\n    error,\n    sendMessage,\n    loadConversation,\n    startNewConversation,\n    refetchConversations: fetchConversations,\n  };\n}\n","'use client';\n\nimport { useState, useRef, useEffect } from 'react';\nimport { Send, Bot, User, Loader2, MessageSquare, Plus } from 'lucide-react';\nimport { ChatbotResponse, ChatMessageResponse, ChatConversationResponse } from '@/types/chatbot';\nimport { useChat } from '@/hooks/useChatbot';\n\ninterface ChatInterfaceProps {\n  chatbot: ChatbotResponse;\n  onBack: () => void;\n}\n\nexport function ChatInterface({ chatbot, onBack }: ChatInterfaceProps) {\n  const { \n    conversations, \n    currentConversation, \n    loading, \n    error, \n    sendMessage, \n    loadConversation, \n    startNewConversation \n  } = useChat(chatbot.id);\n  \n  const [message, setMessage] = useState('');\n  const [sending, setSending] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [currentConversation?.messages]);\n\n  const handleSendMessage = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!message.trim() || sending) return;\n\n    const messageText = message.trim();\n    setMessage('');\n    setSending(true);\n\n    try {\n      await sendMessage({\n        message: messageText,\n        conversationId: currentConversation?.id,\n      });\n    } catch (error) {\n      console.error('Failed to send message:', error);\n    } finally {\n      setSending(false);\n    }\n  };\n\n  const formatTimestamp = (timestamp: Date) => {\n    const date = new Date(timestamp);\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\n  };\n\n  return (\n    <div className=\"h-full flex\">\n      {/* Conversations Sidebar */}\n      <div className=\"w-80 border-r border-gray-200 flex flex-col\">\n        <div className=\"p-4 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <button\n              onClick={onBack}\n              className=\"text-sm text-gray-600 hover:text-gray-900 transition-colors\"\n            >\n              ← Back to Chatbots\n            </button>\n          </div>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <Bot className=\"h-5 w-5 text-blue-600\" />\n            </div>\n            <div>\n              <h2 className=\"font-medium text-gray-900\">{chatbot.name}</h2>\n              <p className=\"text-sm text-gray-500\">{chatbot.status}</p>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex-1 overflow-y-auto\">\n          <div className=\"p-3\">\n            <button\n              onClick={startNewConversation}\n              className=\"w-full flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200\"\n            >\n              <Plus className=\"h-4 w-4\" />\n              New Conversation\n            </button>\n          </div>\n\n          <div className=\"px-3 pb-3 space-y-2\">\n            {conversations.map((conversation) => (\n              <div\n                key={conversation.id}\n                onClick={() => loadConversation(conversation.id)}\n                className={`p-3 rounded-lg cursor-pointer transition-colors ${\n                  currentConversation?.id === conversation.id\n                    ? 'bg-blue-50 border border-blue-200'\n                    : 'hover:bg-gray-50 border border-transparent'\n                }`}\n              >\n                <div className=\"flex items-start gap-2\">\n                  <MessageSquare className=\"h-4 w-4 text-gray-400 mt-1 flex-shrink-0\" />\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-sm font-medium text-gray-900 truncate\">\n                      {conversation.title || 'Untitled Conversation'}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">\n                      {conversation.messages.length} messages\n                    </p>\n                    <p className=\"text-xs text-gray-400\">\n                      {new Date(conversation.updatedAt).toLocaleDateString()}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n      {/* Chat Area */}\n      <div className=\"flex-1 flex flex-col\">\n        {currentConversation ? (\n          <>\n            {/* Messages */}\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n              {currentConversation.messages.length === 0 ? (\n                /* New Conversation State */\n                (<div className=\"flex items-center justify-center h-full\">\n                  <div className=\"text-center max-w-md\">\n                    <div className=\"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3\">\n                      <MessageSquare className=\"h-6 w-6 text-blue-600\" />\n                    </div>\n                    <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                      New Conversation\n                    </h3>\n                    <p className=\"text-gray-500 text-sm\">\n                      Start chatting with {chatbot.name}. Type your message below to begin.\n                    </p>\n                  </div>\n                </div>)\n              ) : (\n                /* Existing Messages */\n                (currentConversation.messages.map((msg) => (\n                  <div\n                    key={msg.id}\n                    className={`flex gap-3 ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}\n                  >\n                    {msg.role === 'assistant' && (\n                      <div className=\"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0\">\n                        <Bot className=\"h-4 w-4 text-blue-600\" />\n                      </div>\n                    )}\n                    \n                    <div\n                      className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n                        msg.role === 'user'\n                          ? 'bg-blue-600 text-white'\n                          : 'bg-gray-100 text-gray-900'\n                      }`}\n                    >\n                      <p className=\"text-sm whitespace-pre-wrap\">{msg.content}</p>\n                      <p className={`text-xs mt-1 ${\n                        msg.role === 'user' ? 'text-blue-100' : 'text-gray-500'\n                      }`}>\n                        {formatTimestamp(msg.timestamp)}\n                      </p>\n                    </div>\n                    \n                    {msg.role === 'user' && (\n                      <div className=\"h-8 w-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0\">\n                        <User className=\"h-4 w-4 text-gray-600\" />\n                      </div>\n                    )}\n                  </div>\n                )))\n              )}\n              \n              {sending && (\n                <div className=\"flex gap-3 justify-start\">\n                  <div className=\"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0\">\n                    <Bot className=\"h-4 w-4 text-blue-600\" />\n                  </div>\n                  <div className=\"bg-gray-100 rounded-lg px-4 py-2\">\n                    <div className=\"flex items-center gap-2\">\n                      <Loader2 className=\"h-4 w-4 animate-spin text-gray-500\" />\n                      <span className=\"text-sm text-gray-500\">Thinking...</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Message Input */}\n            <div className=\"border-t border-gray-200 p-4\">\n              {error && (\n                <div className=\"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg\">\n                  <p className=\"text-sm text-red-800\">{error}</p>\n                </div>\n              )}\n              \n              <form onSubmit={handleSendMessage} className=\"flex gap-3\">\n                <input\n                  type=\"text\"\n                  value={message}\n                  onChange={(e) => setMessage(e.target.value)}\n                  placeholder=\"Type your message...\"\n                  disabled={sending}\n                  className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50\"\n                />\n                <button\n                  type=\"submit\"\n                  disabled={!message.trim() || sending}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n                >\n                  <Send className=\"h-4 w-4\" />\n                </button>\n              </form>\n            </div>\n          </>\n        ) : (\n          /* Welcome Screen */\n          (<div className=\"flex-1 flex items-center justify-center p-8\">\n            <div className=\"text-center max-w-md\">\n              <div className=\"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <Bot className=\"h-8 w-8 text-blue-600\" />\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n                Welcome to {chatbot.name}\n              </h3>\n              <p className=\"text-gray-500 mb-6\">\n                {chatbot.description || 'Start a new conversation or select an existing one to continue chatting.'}\n              </p>\n              <button\n                onClick={startNewConversation}\n                className=\"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                <Plus className=\"h-4 w-4\" />\n                Start New Conversation\n              </button>\n            </div>\n          </div>)\n        )}\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { Upload, FileText, Trash2, Download, AlertCircle, CheckCircle, Clock, X } from 'lucide-react';\nimport { TrainingDataResponse, TrainingDataType, TrainingStatus, CreateTrainingDataDto } from '@/types/chatbot';\nimport { useTrainingData } from '@/hooks/useChatbot';\n\ninterface TrainingDataManagerProps {\n  chatbotId: string;\n  onBack: () => void;\n}\n\nexport function TrainingDataManager({ chatbotId, onBack }: TrainingDataManagerProps) {\n  const { \n    trainingData, \n    loading, \n    error, \n    createTrainingData, \n    deleteTrainingData \n  } = useTrainingData();\n  \n  const [dragActive, setDragActive] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [uploadError, setUploadError] = useState<string | null>(null);\n\n  const handleDrag = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFiles(e.dataTransfer.files);\n    }\n  };\n\n  const handleFiles = async (files: FileList) => {\n    if (files.length === 0) return;\n\n    setUploading(true);\n    setUploadError(null);\n\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n      \n      try {\n        // Read file content\n        const content = await readFileContent(file);\n        \n        await createTrainingData(chatbotId, {\n          title: file.name,\n          type: getFileType(file),\n          content: content,\n        });\n      } catch (error) {\n        setUploadError(`Failed to upload ${file.name}: ${error}`);\n        break;\n      }\n    }\n\n    setUploading(false);\n  };\n\n  const readFileContent = (file: File): Promise<string> => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => resolve(e.target?.result as string);\n      reader.onerror = () => reject(new Error('Failed to read file'));\n      reader.readAsText(file);\n    });\n  };\n\n  const getFileType = (file: File): TrainingDataType => {\n    if (file.type === 'text/plain') return TrainingDataType.TEXT;\n    if (file.type === 'application/pdf') return TrainingDataType.DOCUMENT;\n    if (file.type === 'text/csv') return TrainingDataType.KNOWLEDGE_BASE;\n    if (file.type === 'application/json') return TrainingDataType.KNOWLEDGE_BASE;\n    return TrainingDataType.TEXT; // default\n  };\n\n  const getStatusColor = (status: TrainingStatus) => {\n    switch (status) {\n      case TrainingStatus.PENDING: return 'text-yellow-600 bg-yellow-100';\n      case TrainingStatus.PROCESSING: return 'text-blue-600 bg-blue-100';\n      case TrainingStatus.COMPLETED: return 'text-green-600 bg-green-100';\n      case TrainingStatus.FAILED: return 'text-red-600 bg-red-100';\n      default: return 'text-gray-600 bg-gray-100';\n    }\n  };\n\n  const getStatusIcon = (status: TrainingStatus) => {\n    switch (status) {\n      case TrainingStatus.PENDING: return Clock;\n      case TrainingStatus.PROCESSING: return Clock;\n      case TrainingStatus.COMPLETED: return CheckCircle;\n      case TrainingStatus.FAILED: return AlertCircle;\n      default: return FileText;\n    }\n  };\n\n  const formatDate = (date: Date) => {\n    return new Date(date).toLocaleDateString() + ' ' + new Date(date).toLocaleTimeString();\n  };\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {/* Header */}\n      <div className=\"p-6 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <button\n              onClick={onBack}\n              className=\"text-sm text-gray-600 hover:text-gray-900 transition-colors mb-2\"\n            >\n              ← Back to Chatbots\n            </button>\n            <h1 className=\"text-2xl font-bold text-gray-900\">Training Data</h1>\n            <p className=\"text-gray-600\">Upload and manage training data for your chatbot</p>\n          </div>\n        </div>\n      </div>\n\n      {/* Upload Area */}\n      <div className=\"p-6 border-b border-gray-200\">\n        <div\n          className={`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${\n            dragActive\n              ? 'border-blue-400 bg-blue-50'\n              : 'border-gray-300 hover:border-gray-400'\n          }`}\n          onDragEnter={handleDrag}\n          onDragLeave={handleDrag}\n          onDragOver={handleDrag}\n          onDrop={handleDrop}\n        >\n          <input\n            type=\"file\"\n            multiple\n            onChange={(e) => e.target.files && handleFiles(e.target.files)}\n            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n            accept=\".txt,.pdf,.csv,.json\"\n            disabled={uploading}\n          />\n          \n          <Upload className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n            Upload Training Data\n          </h3>\n          <p className=\"text-gray-600 mb-4\">\n            Drag and drop files here, or click to select files\n          </p>\n          <p className=\"text-sm text-gray-500\">\n            Supported formats: TXT, PDF, CSV, JSON (Max 10MB per file)\n          </p>\n          \n          {uploading && (\n            <div className=\"mt-4\">\n              <div className=\"inline-flex items-center gap-2 text-blue-600\">\n                <div className=\"h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\n                Uploading...\n              </div>\n            </div>\n          )}\n          \n          {uploadError && (\n            <div className=\"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-sm text-red-800\">{uploadError}</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Training Data List */}\n      <div className=\"flex-1 overflow-y-auto\">\n        {loading ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <div className=\"h-8 w-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\n          </div>\n        ) : error ? (\n          <div className=\"p-6\">\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n              <div className=\"flex items-center gap-2\">\n                <AlertCircle className=\"h-5 w-5 text-red-600\" />\n                <p className=\"text-red-800\">{error}</p>\n              </div>\n            </div>\n          </div>\n        ) : trainingData.length === 0 ? (\n          <div className=\"flex items-center justify-center h-64\">\n            <div className=\"text-center\">\n              <FileText className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No training data</h3>\n              <p className=\"text-gray-500\">Upload some files to start training your chatbot</p>\n            </div>\n          </div>\n        ) : (\n          <div className=\"p-6\">\n            <div className=\"space-y-4\">\n              {trainingData.map((data) => {\n                const StatusIcon = getStatusIcon(data.status);\n                \n                return (\n                  <div\n                    key={data.id}\n                    className=\"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\"\n                  >\n                    <div className=\"flex items-start justify-between\">\n                      <div className=\"flex items-start gap-3 flex-1\">\n                        <div className=\"h-10 w-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0\">\n                          <FileText className=\"h-5 w-5 text-gray-600\" />\n                        </div>\n                        \n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <h3 className=\"font-medium text-gray-900 truncate\">\n                              {data.title}\n                            </h3>\n                            <span className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(data.status)}`}>\n                              <StatusIcon className=\"h-3 w-3\" />\n                              {data.status}\n                            </span>\n                          </div>\n                          \n                          <p className=\"text-sm text-gray-600 mb-2\">\n                            {data.filePath ? `File: ${data.filePath}` : 'Text content'}\n                          </p>\n                          \n                          <div className=\"flex items-center gap-4 text-xs text-gray-500\">\n                            <span>Type: {data.type}</span>\n                            <span>Content: {data.content ? `${data.content.length} chars` : 'No content'}</span>\n                            <span>Created: {formatDate(data.createdAt)}</span>\n                          </div>\n                        </div>\n                      </div>\n                      \n                      <div className=\"flex items-center gap-2 ml-4\">\n                        {data.status === TrainingStatus.PENDING && (\n                          <button\n                            onClick={() => {\n                              // Process training data - you can implement this later\n                              console.log('Process training data:', data.id);\n                            }}\n                            className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\n                            title=\"Process data\"\n                          >\n                            <CheckCircle className=\"h-4 w-4\" />\n                          </button>\n                        )}\n                        \n                        <button\n                          onClick={() => deleteTrainingData(data.id)}\n                          className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\n                          title=\"Delete\"\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { Bot, Save, X, Loader2 } from 'lucide-react';\nimport { CreateChatbotDto, ChatbotStatus } from '@/types/chatbot';\n\ninterface ChatbotFormProps {\n  onSubmit: (data: CreateChatbotDto) => Promise<void>;\n  onCancel: () => void;\n  loading?: boolean;\n  error?: string | null;\n}\n\nexport function ChatbotForm({ onSubmit, onCancel, loading = false, error }: ChatbotFormProps) {\n  const [formData, setFormData] = useState<CreateChatbotDto>({\n    name: '',\n    description: '',\n    systemPrompt: '',\n    temperature: 0.7,\n    maxTokens: 1000,\n  });\n\n  const [formErrors, setFormErrors] = useState<Record<string, string>>({});\n\n  const validateForm = () => {\n    const errors: Record<string, string> = {};\n\n    if (!formData.name.trim()) {\n      errors.name = 'Name is required';\n    }\n\n    const temperature = formData.temperature ?? 0.7;\n    if (temperature < 0 || temperature > 2) {\n      errors.temperature = 'Temperature must be between 0 and 2';\n    }\n\n    const maxTokens = formData.maxTokens ?? 1000;\n    if (maxTokens < 1 || maxTokens > 4000) {\n      errors.maxTokens = 'Max tokens must be between 1 and 4000';\n    }\n\n    setFormErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    await onSubmit(formData);\n  };\n\n  const handleInputChange = (field: keyof CreateChatbotDto, value: string | number) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value,\n    }));\n    \n    // Clear error for this field\n    if (formErrors[field]) {\n      setFormErrors(prev => ({\n        ...prev,\n        [field]: '',\n      }));\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md mx-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"h-8 w-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n              <Bot className=\"h-4 w-4 text-blue-600\" />\n            </div>\n            <h2 className=\"text-lg font-semibold text-gray-900\">Create New Chatbot</h2>\n          </div>\n          <button\n            onClick={onCancel}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <X className=\"h-5 w-5\" />\n          </button>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-4\">\n          {error && (\n            <div className=\"bg-red-50 border border-red-200 rounded-lg p-3\">\n              <p className=\"text-sm text-red-800\">{error}</p>\n            </div>\n          )}\n\n          {/* Name */}\n          <div>\n            <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Name *\n            </label>\n            <input\n              type=\"text\"\n              id=\"name\"\n              value={formData.name}\n              onChange={(e) => handleInputChange('name', e.target.value)}\n              className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                formErrors.name ? 'border-red-300' : 'border-gray-300'\n              }`}\n              placeholder=\"Enter chatbot name\"\n              disabled={loading}\n            />\n            {formErrors.name && (\n              <p className=\"text-sm text-red-600 mt-1\">{formErrors.name}</p>\n            )}\n          </div>\n\n          {/* Description */}\n          <div>\n            <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Description\n            </label>\n            <textarea\n              id=\"description\"\n              value={formData.description}\n              onChange={(e) => handleInputChange('description', e.target.value)}\n              rows={3}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"Describe what this chatbot does\"\n              disabled={loading}\n            />\n          </div>\n\n          {/* System Prompt */}\n          <div>\n            <label htmlFor=\"systemPrompt\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              System Prompt\n            </label>\n            <textarea\n              id=\"systemPrompt\"\n              value={formData.systemPrompt}\n              onChange={(e) => handleInputChange('systemPrompt', e.target.value)}\n              rows={4}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              placeholder=\"Enter instructions for how the chatbot should behave\"\n              disabled={loading}\n            />\n          </div>\n\n          {/* Temperature */}\n          <div>\n            <label htmlFor=\"temperature\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Temperature: {formData.temperature}\n            </label>\n            <input\n              type=\"range\"\n              id=\"temperature\"\n              min=\"0\"\n              max=\"2\"\n              step=\"0.1\"\n              value={formData.temperature}\n              onChange={(e) => handleInputChange('temperature', parseFloat(e.target.value))}\n              className=\"w-full\"\n              disabled={loading}\n            />\n            <div className=\"flex justify-between text-xs text-gray-500 mt-1\">\n              <span>More focused</span>\n              <span>More creative</span>\n            </div>\n            {formErrors.temperature && (\n              <p className=\"text-sm text-red-600 mt-1\">{formErrors.temperature}</p>\n            )}\n          </div>\n\n          {/* Max Tokens */}\n          <div>\n            <label htmlFor=\"maxTokens\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Max Tokens\n            </label>\n            <input\n              type=\"number\"\n              id=\"maxTokens\"\n              min=\"1\"\n              max=\"4000\"\n              value={formData.maxTokens}\n              onChange={(e) => handleInputChange('maxTokens', parseInt(e.target.value))}\n              className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${\n                formErrors.maxTokens ? 'border-red-300' : 'border-gray-300'\n              }`}\n              placeholder=\"1000\"\n              disabled={loading}\n            />\n            {formErrors.maxTokens && (\n              <p className=\"text-sm text-red-600 mt-1\">{formErrors.maxTokens}</p>\n            )}\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n              disabled={loading}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\n              disabled={loading}\n            >\n              {loading ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  Creating...\n                </>\n              ) : (\n                <>\n                  <Save className=\"h-4 w-4\" />\n                  Create Chatbot\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}