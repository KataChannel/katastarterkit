{"version":3,"sources":["turbopack:///[project]/frontend/src/app/admin/affiliate/browse/page.tsx","turbopack:///[project]/frontend/src/components/affiliate/campaigns/CampaignBrowser.tsx","turbopack:///[project]/frontend/src/components/affiliate/campaigns/JoinCampaignModal.tsx"],"sourcesContent":["'use client'\n\nimport { ProtectedRoute } from '@/components/ProtectedRoute';\nimport CampaignBrowser from '@/components/affiliate/campaigns/CampaignBrowser';\n\nexport default function BrowseCampaignsPage() {\n  return (\n    <ProtectedRoute>\n      <div className=\"container mx-auto py-8 px-4\">\n        <CampaignBrowser />\n      </div>\n    </ProtectedRoute>\n  );\n}\n","'use client'\n\nimport React, { useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../../ui/card';\nimport { Badge } from '../../ui/badge';\nimport { Button } from '../../ui/button';\nimport { Input } from '../../ui/input';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../../ui/select';\nimport { Skeleton } from '../../ui/skeleton';\nimport { \n  Search, \n  Filter,\n  DollarSign, \n  Calendar, \n  TrendingUp,\n  Users,\n  CheckCircle,\n  Clock,\n  XCircle,\n  Eye\n} from 'lucide-react';\nimport { GET_AFFILIATE_CAMPAIGNS, GET_MY_CAMPAIGN_APPLICATIONS } from '../../../graphql/affiliate.queries';\nimport { AffiliateCampaign } from '../../../types/affiliate';\nimport JoinCampaignModal from './JoinCampaignModal';\n\ninterface CampaignBrowserProps {\n  className?: string;\n}\n\ntype ApplicationStatus = 'PENDING' | 'APPROVED' | 'REJECTED' | null;\n\ninterface CampaignApplication {\n  id: string;\n  status: ApplicationStatus;\n  campaign: {\n    id: string;\n  };\n}\n\nexport default function CampaignBrowser({ className = '' }: CampaignBrowserProps) {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [commissionFilter, setCommissionFilter] = useState<string>('all');\n  const [statusFilter, setStatusFilter] = useState<string>('ACTIVE');\n  const [selectedCampaign, setSelectedCampaign] = useState<AffiliateCampaign | null>(null);\n  const [joinModalOpen, setJoinModalOpen] = useState(false);\n\n  // Fetch available campaigns\n  const { data: campaignsData, loading: campaignsLoading, refetch: refetchCampaigns } = useQuery(\n    GET_AFFILIATE_CAMPAIGNS,\n    {\n      variables: {\n        search: {\n          status: statusFilter !== 'all' ? statusFilter : undefined,\n          page: 1,\n          size: 50\n        }\n      }\n    }\n  );\n\n  // Fetch my applications\n  const { data: applicationsData, refetch: refetchApplications } = useQuery(\n    GET_MY_CAMPAIGN_APPLICATIONS,\n    {\n      fetchPolicy: 'cache-and-network'\n    }\n  );\n\n  const campaigns: AffiliateCampaign[] = campaignsData?.affiliateCampaigns || [];\n  const myApplications: CampaignApplication[] = \n    applicationsData?.affiliateUser?.campaignJoins || [];\n\n  // Create a map of campaign IDs to application status\n  const applicationStatusMap = new Map<string, ApplicationStatus>();\n  myApplications.forEach((app) => {\n    applicationStatusMap.set(app.campaign.id, app.status as ApplicationStatus);\n  });\n\n  // Filter campaigns\n  const filteredCampaigns = campaigns.filter((campaign) => {\n    // Search filter\n    const matchesSearch = \n      campaign.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      campaign.description.toLowerCase().includes(searchTerm.toLowerCase());\n\n    // Commission filter\n    const matchesCommission =\n      commissionFilter === 'all' ||\n      (commissionFilter === 'percentage' && campaign.commissionType === 'PERCENTAGE') ||\n      (commissionFilter === 'fixed' && campaign.commissionType === 'FIXED');\n\n    return matchesSearch && matchesCommission;\n  });\n\n  const handleJoinClick = (campaign: AffiliateCampaign) => {\n    setSelectedCampaign(campaign);\n    setJoinModalOpen(true);\n  };\n\n  const handleJoinSuccess = () => {\n    refetchApplications();\n    refetchCampaigns();\n  };\n\n  const getApplicationStatus = (campaignId: string): ApplicationStatus => {\n    return applicationStatusMap.get(campaignId) || null;\n  };\n\n  const renderStatusBadge = (status: ApplicationStatus) => {\n    if (!status) return null;\n\n    const config = {\n      PENDING: { icon: Clock, label: 'Đang chờ', className: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200' },\n      APPROVED: { icon: CheckCircle, label: 'Đã tham gia', className: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200' },\n      REJECTED: { icon: XCircle, label: 'Từ chối', className: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200' },\n    };\n\n    const { icon: Icon, label, className } = config[status];\n\n    return (\n      <Badge className={className}>\n        <Icon className=\"h-3 w-3 mr-1\" />\n        {label}\n      </Badge>\n    );\n  };\n\n  if (campaignsLoading) {\n    return (\n      <div className={`space-y-4 ${className}`}>\n        <Skeleton className=\"h-12 w-full\" />\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n          {[1, 2, 3, 4, 5, 6].map((i) => (\n            <Skeleton key={i} className=\"h-64\" />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`space-y-6 ${className}`}>\n      {/* Header */}\n      <div>\n        <h2 className=\"text-3xl font-bold tracking-tight\">Chiến Dịch Affiliate</h2>\n        <p className=\"text-muted-foreground mt-2\">\n          Khám phá và tham gia các chiến dịch phù hợp với đối tượng của bạn\n        </p>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        <div className=\"relative flex-1\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <Input\n            placeholder=\"Tìm kiếm chiến dịch...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n\n        <Select value={commissionFilter} onValueChange={setCommissionFilter}>\n          <SelectTrigger className=\"w-full sm:w-[180px]\">\n            <Filter className=\"h-4 w-4 mr-2\" />\n            <SelectValue placeholder=\"Loại hoa hồng\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">Tất cả</SelectItem>\n            <SelectItem value=\"percentage\">Phần trăm</SelectItem>\n            <SelectItem value=\"fixed\">Số tiền cố định</SelectItem>\n          </SelectContent>\n        </Select>\n\n        <Select value={statusFilter} onValueChange={setStatusFilter}>\n          <SelectTrigger className=\"w-full sm:w-[180px]\">\n            <SelectValue placeholder=\"Trạng thái\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">Tất cả</SelectItem>\n            <SelectItem value=\"ACTIVE\">Đang hoạt động</SelectItem>\n            <SelectItem value=\"PAUSED\">Tạm dừng</SelectItem>\n            <SelectItem value=\"DRAFT\">Nháp</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      {/* Results Count */}\n      <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n        Tìm thấy {filteredCampaigns.length} chiến dịch\n      </div>\n\n      {/* Campaign Grid */}\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n        {filteredCampaigns.map((campaign) => {\n          const applicationStatus = getApplicationStatus(campaign.id);\n          const canJoin = !applicationStatus && campaign.status === 'ACTIVE';\n\n          return (\n            <Card key={campaign.id} className=\"flex flex-col hover:shadow-lg transition-shadow\">\n              <CardHeader>\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <CardTitle className=\"text-xl mb-2\">{campaign.name}</CardTitle>\n                    <div className=\"flex items-center gap-2 mb-2\">\n                      <Badge variant={campaign.status === 'ACTIVE' ? 'default' : 'secondary'}>\n                        {campaign.status}\n                      </Badge>\n                      <Badge variant=\"outline\">\n                        {campaign.type}\n                      </Badge>\n                      {renderStatusBadge(applicationStatus)}\n                    </div>\n                  </div>\n                </div>\n                <CardDescription className=\"line-clamp-2\">\n                  {campaign.description}\n                </CardDescription>\n              </CardHeader>\n\n              <CardContent className=\"flex-1 space-y-4\">\n                {/* Commission */}\n                <div className=\"flex items-center text-2xl font-bold text-green-600 dark:text-green-400\">\n                  <DollarSign className=\"h-6 w-6 mr-1\" />\n                  {campaign.commissionType === 'PERCENTAGE'\n                    ? `${campaign.commissionRate ?? 0}%`\n                    : `${(campaign.fixedAmount ?? 0).toLocaleString()} VND`}\n                  <span className=\"text-sm font-normal text-gray-600 dark:text-gray-400 ml-2\">\n                    mỗi đơn\n                  </span>\n                </div>\n\n                {/* Stats */}\n                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                  <div className=\"flex items-center text-gray-600 dark:text-gray-400\">\n                    <Calendar className=\"h-4 w-4 mr-2\" />\n                    <span>{campaign.cookieDuration ?? 0}d cookie</span>\n                  </div>\n                  <div className=\"flex items-center text-gray-600 dark:text-gray-400\">\n                    <TrendingUp className=\"h-4 w-4 mr-2\" />\n                    <span>{(campaign.conversionRate ?? 0).toFixed(2)}% CVR</span>\n                  </div>\n                  <div className=\"flex items-center text-gray-600 dark:text-gray-400\">\n                    <Users className=\"h-4 w-4 mr-2\" />\n                    <span>{campaign.totalConversions ?? 0} đơn hàng</span>\n                  </div>\n                  <div className=\"flex items-center text-gray-600 dark:text-gray-400\">\n                    <Eye className=\"h-4 w-4 mr-2\" />\n                    <span>{campaign.totalClicks ?? 0} lượt click</span>\n                  </div>\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex gap-2 pt-2\">\n                  {canJoin ? (\n                    <Button\n                      onClick={() => handleJoinClick(campaign)}\n                      className=\"flex-1\"\n                    >\n                      Tham gia chiến dịch\n                    </Button>\n                  ) : applicationStatus === 'APPROVED' ? (\n                    <Button\n                      variant=\"outline\"\n                      className=\"flex-1\"\n                      disabled\n                    >\n                      <CheckCircle className=\"h-4 w-4 mr-2\" />\n                      Đã tham gia\n                    </Button>\n                  ) : applicationStatus === 'PENDING' ? (\n                    <Button\n                      variant=\"outline\"\n                      className=\"flex-1\"\n                      disabled\n                    >\n                      <Clock className=\"h-4 w-4 mr-2\" />\n                      Đang chờ duyệt\n                    </Button>\n                  ) : applicationStatus === 'REJECTED' ? (\n                    <Button\n                      variant=\"outline\"\n                      className=\"flex-1\"\n                      disabled\n                    >\n                      <XCircle className=\"h-4 w-4 mr-2\" />\n                      Đơn bị từ chối\n                    </Button>\n                  ) : (\n                    <Button\n                      variant=\"outline\"\n                      className=\"flex-1\"\n                      disabled\n                    >\n                      Không khả dụng\n                    </Button>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          );\n        })}\n      </div>\n\n      {/* Empty State */}\n      {filteredCampaigns.length === 0 && (\n        <div className=\"text-center py-12\">\n          <Users className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n          <h3 className=\"text-lg font-semibold mb-2\">Không tìm thấy chiến dịch</h3>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            Thử điều chỉnh bộ lọc hoặc từ khóa tìm kiếm\n          </p>\n        </div>\n      )}\n\n      {/* Join Campaign Modal */}\n      <JoinCampaignModal\n        campaign={selectedCampaign}\n        isOpen={joinModalOpen}\n        onClose={() => setJoinModalOpen(false)}\n        onSuccess={handleJoinSuccess}\n      />\n    </div>\n  );\n}\n","'use client'\n\nimport React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '../../ui/dialog';\nimport { Button } from '../../ui/button';\nimport { Label } from '../../ui/label';\nimport { Textarea } from '../../ui/textarea';\nimport { Badge } from '../../ui/badge';\nimport { Alert, AlertDescription } from '../../ui/alert';\nimport { \n  DollarSign, \n  Users, \n  Calendar, \n  CheckCircle, \n  AlertCircle,\n  Loader2 \n} from 'lucide-react';\nimport { JOIN_CAMPAIGN } from '../../../graphql/affiliate.queries';\nimport { AffiliateCampaign } from '../../../types/affiliate';\n\ninterface JoinCampaignModalProps {\n  campaign: AffiliateCampaign | null;\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess?: () => void;\n}\n\nexport default function JoinCampaignModal({\n  campaign,\n  isOpen,\n  onClose,\n  onSuccess\n}: JoinCampaignModalProps) {\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n\n  const [joinCampaign, { loading }] = useMutation(JOIN_CAMPAIGN, {\n    onCompleted: () => {\n      setMessage('');\n      setError('');\n      onSuccess?.();\n      onClose();\n    },\n    onError: (err) => {\n      setError(err.message || 'Failed to join campaign');\n    }\n  });\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!campaign) return;\n\n    try {\n      await joinCampaign({\n        variables: {\n          input: {\n            campaignId: campaign.id,\n            message: message.trim() || undefined\n          }\n        }\n      });\n    } catch (err) {\n      // Error handled by onError callback\n    }\n  };\n\n  const handleClose = () => {\n    setMessage('');\n    setError('');\n    onClose();\n  };\n\n  if (!campaign) return null;\n\n  const requiresApproval = campaign.type !== 'PUBLIC';\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleClose}>\n      <DialogContent className=\"sm:max-w-[600px]\">\n        <DialogHeader>\n          <DialogTitle className=\"text-2xl\">Tham gia Chiến dịch</DialogTitle>\n          <DialogDescription>\n            Xem lại thông tin chiến dịch và gửi đơn đăng ký của bạn\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Campaign Info */}\n          <div className=\"space-y-4 border rounded-lg p-4 bg-gray-50 dark:bg-gray-900\">\n            <div>\n              <h3 className=\"font-semibold text-lg mb-2\">{campaign.name}</h3>\n              <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                {campaign.description}\n              </p>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4\">\n              {/* Commission Info */}\n              <div className=\"flex items-start space-x-2\">\n                <DollarSign className=\"h-5 w-5 text-green-600 mt-0.5\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Hoa hồng</p>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                    {campaign.commissionType === 'PERCENTAGE'\n                      ? `${campaign.commissionRate}% mỗi đơn`\n                      : `${campaign.fixedAmount.toLocaleString()} VND mỗi đơn`}\n                  </p>\n                </div>\n              </div>\n\n              {/* Campaign Type */}\n              <div className=\"flex items-start space-x-2\">\n                <Users className=\"h-5 w-5 text-blue-600 mt-0.5\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Loại</p>\n                  <Badge variant={campaign.type === 'PUBLIC' ? 'default' : 'secondary'}>\n                    {campaign.type === 'PUBLIC' ? 'Công khai' : 'Riêng tư'}\n                  </Badge>\n                </div>\n              </div>\n\n              {/* Cookie Duration */}\n              <div className=\"flex items-start space-x-2\">\n                <Calendar className=\"h-5 w-5 text-purple-600 mt-0.5\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Thời gian Cookie</p>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-400\">\n                    {campaign.cookieDuration} ngày\n                  </p>\n                </div>\n              </div>\n\n              {/* Status */}\n              <div className=\"flex items-start space-x-2\">\n                <CheckCircle className=\"h-5 w-5 text-green-600 mt-0.5\" />\n                <div>\n                  <p className=\"text-sm font-medium\">Trạng thái</p>\n                  <Badge variant={campaign.status === 'ACTIVE' ? 'default' : 'secondary'}>\n                    {campaign.status === 'ACTIVE' ? 'Đang hoạt động' : campaign.status === 'PAUSED' ? 'Tạm dừng' : 'Nháp'}\n                  </Badge>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Approval Notice */}\n          {requiresApproval && (\n            <Alert>\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>\n                Chiến dịch này yêu cầu phê duyệt. Đơn đăng ký của bạn sẽ được nhà cung cấp xem xét.\n                Viết lời nhắn để tăng cơ hội được chấp thuận.\n              </AlertDescription>\n            </Alert>\n          )}\n\n          {/* Message Input */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"message\">\n              Lời nhắn {requiresApproval ? '(Bắt buộc)' : '(Tùy chọn)'}\n            </Label>\n            <Textarea\n              id=\"message\"\n              placeholder=\"Cho nhà cung cấp biết tại sao bạn muốn quảng bá sản phẩm của họ...\"\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              rows={4}\n              required={requiresApproval}\n              className=\"resize-none\"\n            />\n            <p className=\"text-xs text-gray-500\">\n              {requiresApproval\n                ? 'Bao gồm số lượng khán giả, lĩnh vực và lý do bạn phù hợp'\n                : 'Lời nhắn tùy chọn gửi cho nhà cung cấp'}\n            </p>\n          </div>\n\n          {/* Error Display */}\n          {error && (\n            <Alert className=\"border-red-500 bg-red-50 dark:bg-red-950\">\n              <AlertCircle className=\"h-4 w-4 text-red-600\" />\n              <AlertDescription className=\"text-red-800 dark:text-red-200\">\n                {error}\n              </AlertDescription>\n            </Alert>\n          )}\n\n          <DialogFooter>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={handleClose}\n              disabled={loading}\n            >\n              Hủy\n            </Button>\n            <Button type=\"submit\" disabled={loading || campaign.status !== 'ACTIVE'}>\n              {loading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Đang gửi...\n                </>\n              ) : (\n                <>\n                  {requiresApproval ? 'Gửi đơn đăng ký' : 'Tham gia chiến dịch'}\n                </>\n              )}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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"}