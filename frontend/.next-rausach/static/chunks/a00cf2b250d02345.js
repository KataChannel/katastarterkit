(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,165429,e=>{"use strict";var t=e.i(44990),s=e.i(403055),a=e.i(873273),l=s.forwardRef((e,s)=>(0,t.jsx)(a.Primitive.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var n=e.i(541428);function i({className:e,...s}){return(0,t.jsx)(l,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}e.s(["Label",()=>i],165429)},874061,e=>{"use strict";let t=(0,e.i(930702).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>t])},138227,e=>{"use strict";var t=e.i(874061);e.s(["Trash2",()=>t.default])},994315,e=>{"use strict";let t=(0,e.i(930702).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["default",()=>t])},606443,e=>{"use strict";var t=e.i(994315);e.s(["Plus",()=>t.default])},861699,e=>{"use strict";let t=(0,e.i(930702).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["default",()=>t])},126455,e=>{"use strict";var t=e.i(861699);e.s(["Package",()=>t.default])},706547,241144,e=>{"use strict";let t=(0,e.i(930702).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["default",()=>t],241144),e.s(["Settings",()=>t],706547)},276664,e=>{"use strict";var t=e.i(44990),s=e.i(403055),a=e.i(119836),l=e.i(569658),n=e.i(316618),i=e.i(346412),r=e.i(139540),d=e.i(471203),c=e.i(873273),o="Switch",[u,h]=(0,n.createContextScope)(o),[p,x]=u(o),m=s.forwardRef((e,n)=>{let{__scopeSwitch:r,name:d,checked:u,defaultChecked:h,required:x,disabled:m,value:v="on",onCheckedChange:f,form:j,...y}=e,[w,k]=s.useState(null),C=(0,l.useComposedRefs)(n,e=>k(e)),S=s.useRef(!1),N=!w||j||!!w.closest("form"),[I,M]=(0,i.useControllableState)({prop:u,defaultProp:h??!1,onChange:f,caller:o});return(0,t.jsxs)(p,{scope:r,checked:I,disabled:m,children:[(0,t.jsx)(c.Primitive.button,{type:"button",role:"switch","aria-checked":I,"aria-required":x,"data-state":b(I),"data-disabled":m?"":void 0,disabled:m,value:v,...y,ref:C,onClick:(0,a.composeEventHandlers)(e.onClick,e=>{M(e=>!e),N&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),N&&(0,t.jsx)(g,{control:w,bubbles:!S.current,name:d,value:v,checked:I,required:x,disabled:m,form:j,style:{transform:"translateX(-100%)"}})]})});m.displayName=o;var v="SwitchThumb",f=s.forwardRef((e,s)=>{let{__scopeSwitch:a,...l}=e,n=x(v,a);return(0,t.jsx)(c.Primitive.span,{"data-state":b(n.checked),"data-disabled":n.disabled?"":void 0,...l,ref:s})});f.displayName=v;var g=s.forwardRef(({__scopeSwitch:e,control:a,checked:n,bubbles:i=!0,...c},o)=>{let u=s.useRef(null),h=(0,l.useComposedRefs)(u,o),p=(0,r.usePrevious)(n),x=(0,d.useSize)(a);return s.useEffect(()=>{let e=u.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==n&&t){let s=new Event("click",{bubbles:i});t.call(e,n),e.dispatchEvent(s)}},[p,n,i]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...c,tabIndex:-1,ref:h,style:{...c.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}g.displayName="SwitchBubbleInput";var j=e.i(541428);let y=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(m,{className:(0,j.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:a,children:(0,t.jsx)(f,{className:(0,j.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));y.displayName=m.displayName,e.s(["Switch",()=>y],276664)},264800,892907,e=>{"use strict";var t=e.i(403055),s=e.i(351049);let a=e=>[s.BlockType.CONTAINER,s.BlockType.SECTION,s.BlockType.GRID,s.BlockType.FLEX_ROW,s.BlockType.FLEX_COLUMN].includes(e),l=e=>!!e&&a(e.type),n=e=>e?.children?[...e.children].sort((e,t)=>e.order-t.order):[];function i({parentBlock:e,onUpdateChild:s,onDeleteChild:a,onReorderChildren:i,onAddChild:r}){let d=(0,t.useMemo)(()=>n(e),[e?.id,e?.children?.length,e?.children?.map(e=>e.order).join(",")]),c=(0,t.useMemo)(()=>d.length,[d.length]),o=(0,t.useMemo)(()=>l(e),[e?.type]),u=(0,t.useMemo)(()=>d.map(e=>e.id),[d]),h=(0,t.useCallback)((t,a,l)=>{e?.id&&(d.some(e=>e.id===t)?s?.(t,a,l):console.warn(`Child block ${t} not found in parent ${e.id}`))},[e?.id,d,s]),p=(0,t.useCallback)(t=>{e?.id&&(d.some(e=>e.id===t)?a?.(t):console.warn(`Child block ${t} not found in parent ${e.id}`))},[e?.id,d,a]),x=(0,t.useCallback)(t=>{if(!e?.id)return;let s=new Set(d.map(e=>e.id)),a=t.filter(e=>!s.has(e));a.length>0?console.warn(`Invalid child IDs in reorder: ${a.join(", ")}`):t.length!==d.length?console.warn(`Reorder IDs count (${t.length}) doesn't match children count (${d.length})`):i?.(e.id,t)},[e?.id,d,i]);return{sortedChildren:d,childrenCount:c,canAddChildren:o,childrenIds:u,handleUpdateChild:h,handleDeleteChild:p,handleReorderChildren:x}}function r({parentId:e,isContainerType:s,isDraggedBlockId:a}){let l=(0,t.useMemo)(()=>a!==e&&s,[e,s,a]);return{canDrop:l,droppableId:(0,t.useMemo)(()=>`nested-container-${e}`,[e]),dropData:(0,t.useMemo)(()=>({type:"nested-container",parentId:e}),[e])}}e.s(["canHaveChildren",0,l,"getSortedChildren",0,n,"isContainerBlockType",0,a],892907),e.s(["useNestedBlockRenderer",()=>i,"useNestedDropZone",()=>r],264800)},491352,e=>{"use strict";var t=e.i(44990),s=e.i(403055),a=e.i(165429),l=e.i(696134),n=e.i(183194),i=e.i(276664);e.i(308140);var r=e.i(125340),d=e.i(706547),c=e.i(138227),o=e.i(606443),u=e.i(126455),h=e.i(885205),p=e.i(264800),x=e.i(892907);let m=({block:e,isEditable:a=!0,children:l,onDelete:n,onAddChild:i,onUpdate:m,onUpdateChild:v,onDeleteChild:f,containerStyles:g,settingsPanel:b,title:j="Layout Settings"})=>{let[y,w]=(0,s.useState)(!1),[k,C]=(0,s.useState)(!1);s.default.useEffect(()=>{},[i,l,e.id,e.type]);let{droppableId:S,dropData:N}=(0,p.useNestedDropZone)({parentId:e.id,isContainerType:(0,x.isContainerBlockType)(e.type)}),{setNodeRef:I,isOver:M}=(0,r.useDroppable)({id:S,data:N}),{childrenCount:B,canAddChildren:R}=(0,p.useNestedBlockRenderer)({parentBlock:e,onUpdateChild:v,onDeleteChild:f});return a?(0,t.jsxs)("div",{ref:I,style:g,className:`group transition-all duration-200 relative ${M?"ring-2 ring-blue-500 bg-blue-50 scale-105":"hover:ring-2 hover:ring-gray-300"}`,onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),children:[a&&(k||y)&&(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2 z-10 animate-in fade-in duration-200",children:[!1,R&&i&&(0,t.jsxs)(h.Button,{size:"sm",variant:"outline",onClick:()=>{console.log(`[LayoutBlockWrapper ${e.id}] Add Child clicked:`,{hasOnAddChild:!!i,canAddChildren:R,childrenCount:B,blockId:e.id,blockType:e.type}),i?i(e.id):console.error("[LayoutBlockWrapper] onAddChild is undefined!")},className:"bg-white shadow-sm hover:shadow-md",title:`Add child block (${B} nested)`,children:[(0,t.jsx)(o.Plus,{className:"w-4 h-4 mr-1"}),(0,t.jsx)("span",{className:"text-xs",children:"Add Child"})]}),!1,(0,t.jsx)(h.Button,{size:"sm",variant:"outline",onClick:()=>w(!y),className:"bg-white shadow-sm hover:shadow-md",title:"Edit settings",children:(0,t.jsx)(d.Settings,{className:"w-4 h-4"})}),(0,t.jsx)(h.Button,{size:"sm",variant:"destructive",onClick:n,className:"shadow-sm hover:shadow-md",title:"Delete block",children:(0,t.jsx)(c.Trash2,{className:"w-4 h-4"})})]}),M&&(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center z-50",children:(0,t.jsx)("div",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg",children:"ðŸ“ Drop here to add nested block"})}),y&&(0,t.jsxs)("div",{className:"absolute top-12 right-2 bg-white p-4 rounded-lg shadow-xl border border-gray-200 z-20 w-80 max-h-96 overflow-y-auto",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3 text-sm",children:j}),(0,t.jsxs)("div",{className:"space-y-3",children:[b,(0,t.jsx)("div",{className:"pt-3 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[(0,t.jsx)(u.Package,{className:"w-3 h-3"}),B," nested block",1!==B?"s":""]})}),(0,t.jsx)("div",{className:"flex gap-2 pt-2",children:(0,t.jsx)(h.Button,{onClick:()=>w(!1),variant:"outline",className:"flex-1 text-xs py-1",size:"sm",children:"Done"})})]})]}),l?(0,t.jsx)("div",{className:"nested-children-wrapper w-full",children:l}):(0,t.jsxs)("div",{className:`text-center py-8 transition-colors duration-200 ${M?"text-blue-600":"text-gray-400"}`,children:[(0,t.jsx)(u.Package,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"No nested blocks yet"}),(0,t.jsx)("p",{className:"text-xs mt-1 opacity-75",children:'Drop blocks or click "Add Child" to add content'}),!1]})]}):(0,t.jsx)("div",{ref:I,style:g,children:l})};e.s(["FlexBlock",0,({block:e,isEditable:r=!0,onUpdate:d,onDelete:c,onAddChild:o,onUpdateChild:u,onDeleteChild:h,children:p})=>{let x=e.content,[v,f]=s.default.useState(x||{direction:"row",justifyContent:"start",alignItems:"start",wrap:!1,gap:16}),g={display:"flex",flexDirection:x.direction||"row",justifyContent:{start:"flex-start",center:"center",end:"flex-end",between:"space-between",around:"space-around",evenly:"space-evenly"}[x.justifyContent||"start"],alignItems:{start:"flex-start",center:"center",end:"flex-end",stretch:"stretch"}[x.alignItems||"start"],flexWrap:x.wrap?"wrap":"nowrap",gap:`${x.gap||16}px`,width:"100%",position:"relative",minHeight:p?"auto":"150px",borderRadius:"8px",padding:r?"16px":"0"},b=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Label,{className:"text-xs",children:"Direction"}),(0,t.jsxs)(n.Select,{value:v.direction||"row",onValueChange:e=>f({...v,direction:e}),children:[(0,t.jsx)(n.SelectTrigger,{children:(0,t.jsx)(n.SelectValue,{})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"row",children:"Row (Horizontal)"}),(0,t.jsx)(n.SelectItem,{value:"column",children:"Column (Vertical)"}),(0,t.jsx)(n.SelectItem,{value:"row-reverse",children:"Row Reverse"}),(0,t.jsx)(n.SelectItem,{value:"column-reverse",children:"Column Reverse"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Label,{className:"text-xs",children:"Justify Content"}),(0,t.jsxs)(n.Select,{value:v.justifyContent||"start",onValueChange:e=>f({...v,justifyContent:e}),children:[(0,t.jsx)(n.SelectTrigger,{children:(0,t.jsx)(n.SelectValue,{})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"start",children:"Start"}),(0,t.jsx)(n.SelectItem,{value:"center",children:"Center"}),(0,t.jsx)(n.SelectItem,{value:"end",children:"End"}),(0,t.jsx)(n.SelectItem,{value:"between",children:"Space Between"}),(0,t.jsx)(n.SelectItem,{value:"around",children:"Space Around"}),(0,t.jsx)(n.SelectItem,{value:"evenly",children:"Space Evenly"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Label,{className:"text-xs",children:"Align Items"}),(0,t.jsxs)(n.Select,{value:v.alignItems||"start",onValueChange:e=>f({...v,alignItems:e}),children:[(0,t.jsx)(n.SelectTrigger,{children:(0,t.jsx)(n.SelectValue,{})}),(0,t.jsxs)(n.SelectContent,{children:[(0,t.jsx)(n.SelectItem,{value:"start",children:"Start"}),(0,t.jsx)(n.SelectItem,{value:"center",children:"Center"}),(0,t.jsx)(n.SelectItem,{value:"end",children:"End"}),(0,t.jsx)(n.SelectItem,{value:"stretch",children:"Stretch"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(a.Label,{className:"text-xs",children:"Gap (px)"}),(0,t.jsx)(l.Input,{type:"number",value:v.gap||16,onChange:e=>f({...v,gap:parseInt(e.target.value)}),className:"text-xs"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(a.Label,{htmlFor:"wrap",className:"text-xs",children:"Wrap"}),(0,t.jsx)(i.Switch,{id:"wrap",checked:v.wrap||!1,onCheckedChange:e=>f({...v,wrap:e})})]})]});return(0,t.jsx)(m,{block:e,isEditable:r,children:p,onDelete:c,onAddChild:o,onUpdate:e=>{f(e),d(e)},onUpdateChild:u,onDeleteChild:h,containerStyles:g,settingsPanel:b,title:"Flex Block Settings"})}],491352)}]);