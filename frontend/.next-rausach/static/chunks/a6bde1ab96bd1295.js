(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,165429,e=>{"use strict";var t=e.i(44990),a=e.i(403055),s=e.i(873273),l=a.forwardRef((e,a)=>(0,t.jsx)(s.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var n=e.i(541428);function i({className:e,...a}){return(0,t.jsx)(l,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>i],165429)},874061,e=>{"use strict";let t=(0,e.i(930702).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>t])},138227,e=>{"use strict";var t=e.i(874061);e.s(["Trash2",()=>t.default])},994315,e=>{"use strict";let t=(0,e.i(930702).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["default",()=>t])},606443,e=>{"use strict";var t=e.i(994315);e.s(["Plus",()=>t.default])},706547,241144,e=>{"use strict";let t=(0,e.i(930702).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["default",()=>t],241144),e.s(["Settings",()=>t],706547)},861699,e=>{"use strict";let t=(0,e.i(930702).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["default",()=>t])},126455,e=>{"use strict";var t=e.i(861699);e.s(["Package",()=>t.default])},264800,892907,e=>{"use strict";var t=e.i(403055),a=e.i(351049);let s=e=>[a.BlockType.CONTAINER,a.BlockType.SECTION,a.BlockType.GRID,a.BlockType.FLEX_ROW,a.BlockType.FLEX_COLUMN].includes(e),l=e=>!!e&&s(e.type),n=e=>e?.children?[...e.children].sort((e,t)=>e.order-t.order):[];function i({parentBlock:e,onUpdateChild:a,onDeleteChild:s,onReorderChildren:i,onAddChild:d}){let r=(0,t.useMemo)(()=>n(e),[e?.id,e?.children?.length,e?.children?.map(e=>e.order).join(",")]),o=(0,t.useMemo)(()=>r.length,[r.length]),c=(0,t.useMemo)(()=>l(e),[e?.type]),u=(0,t.useMemo)(()=>r.map(e=>e.id),[r]),h=(0,t.useCallback)((t,s,l)=>{e?.id&&(r.some(e=>e.id===t)?a?.(t,s,l):console.warn(`Child block ${t} not found in parent ${e.id}`))},[e?.id,r,a]),x=(0,t.useCallback)(t=>{e?.id&&(r.some(e=>e.id===t)?s?.(t):console.warn(`Child block ${t} not found in parent ${e.id}`))},[e?.id,r,s]),p=(0,t.useCallback)(t=>{if(!e?.id)return;let a=new Set(r.map(e=>e.id)),s=t.filter(e=>!a.has(e));s.length>0?console.warn(`Invalid child IDs in reorder: ${s.join(", ")}`):t.length!==r.length?console.warn(`Reorder IDs count (${t.length}) doesn't match children count (${r.length})`):i?.(e.id,t)},[e?.id,r,i]);return{sortedChildren:r,childrenCount:o,canAddChildren:c,childrenIds:u,handleUpdateChild:h,handleDeleteChild:x,handleReorderChildren:p}}function d({parentId:e,isContainerType:a,isDraggedBlockId:s}){let l=(0,t.useMemo)(()=>s!==e&&a,[e,a,s]);return{canDrop:l,droppableId:(0,t.useMemo)(()=>`nested-container-${e}`,[e]),dropData:(0,t.useMemo)(()=>({type:"nested-container",parentId:e}),[e])}}e.s(["canHaveChildren",0,l,"getSortedChildren",0,n,"isContainerBlockType",0,s],892907),e.s(["useNestedBlockRenderer",()=>i,"useNestedDropZone",()=>d],264800)},230588,e=>{"use strict";var t=e.i(44990),a=e.i(403055),s=e.i(125340),l=e.i(706547),n=e.i(138227),i=e.i(606443),d=e.i(126455),r=e.i(885205),o=e.i(696134),c=e.i(165429),u=e.i(183194),h=e.i(264800),x=e.i(892907);e.s(["ContainerBlock",0,({block:e,isEditable:p=!0,onUpdate:m,onDelete:g,onAddChild:v,onUpdateChild:b,onDeleteChild:y,children:f})=>{let j=e.content,[k,C]=a.default.useState(!1),[N,w]=a.default.useState(!1),[S,M]=a.default.useState(j||{layout:"stack",gap:16,padding:16,backgroundColor:"transparent",maxWidth:"100%",alignment:"left"}),{droppableId:B,dropData:I}=(0,h.useNestedDropZone)({parentId:e.id,isContainerType:(0,x.isContainerBlockType)(e.type)}),{setNodeRef:T,isOver:A,active:D}=(0,s.useDroppable)({id:B,data:I}),{sortedChildren:$,childrenCount:L,canAddChildren:z}=(0,h.useNestedBlockRenderer)({parentBlock:e,onUpdateChild:b,onDeleteChild:y});a.default.useEffect(()=>{console.log(`[ContainerBlock ${e.id}] Debug:`,{canAddChildren:z,onAddChildDefined:!!v,onAddChildFunc:v,childrenCount:L,blockType:e.type})},[z,v,L,e.id,e.type]);let R={display:"flex",flexDirection:"stack"===j.layout?"column":"wrap"===j.layout?"row":"column",flexWrap:"wrap"===j.layout?"wrap":"nowrap",gap:`${j.gap||16}px`,padding:`${j.padding||16}px`,backgroundColor:j.backgroundColor||"transparent",maxWidth:j.maxWidth||"100%",alignItems:"center"===j.alignment?"center":"right"===j.alignment?"flex-end":"flex-start",width:"100%",position:"relative",minHeight:f&&a.default.Children.count(f)>0?"auto":"100px",border:p?"2px dashed #ccc":"none",borderRadius:"8px",overflow:"scroll"===j.layout?"auto":"visible"};return(0,t.jsxs)("div",{ref:T,style:R,className:`group transition-all duration-200 ${A?"ring-2 ring-blue-500 bg-blue-50 scale-105":"hover:ring-2 hover:ring-gray-300"}`,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),children:[p&&(N||k)&&(0,t.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2 z-10 animate-in fade-in duration-200",children:[!1,z&&v?(0,t.jsxs)(r.Button,{size:"sm",variant:z&&v?"outline":"destructive",onClick:()=>{console.log(`[ContainerBlock ${e.id}] Add Child clicked:`,{canAddChildren:z,hasOnAddChild:!!v,block:e.id}),v?v(e.id):console.error("[ContainerBlock] onAddChild is undefined!")},className:"bg-white shadow-sm hover:shadow-md",title:`Add child block (${L} nested) - canAdd: ${z}`,children:[(0,t.jsx)(i.Plus,{className:"w-4 h-4 mr-1"}),(0,t.jsxs)("span",{className:"text-xs",children:["Add ",z?"Child":"- canAdd=false"]})]}):null,!1,!1,(0,t.jsx)(r.Button,{size:"sm",variant:"outline",onClick:()=>C(!k),className:"bg-white shadow-sm hover:shadow-md",title:"Edit container settings",children:(0,t.jsx)(l.Settings,{className:"w-4 h-4"})}),(0,t.jsx)(r.Button,{size:"sm",variant:"destructive",onClick:g,className:"shadow-sm hover:shadow-md",title:"Delete container",children:(0,t.jsx)(n.Trash2,{className:"w-4 h-4"})})]}),A&&(0,t.jsx)("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center z-50",children:(0,t.jsx)("div",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg font-semibold shadow-lg",children:"ðŸ“ Drop here to add nested block"})}),k&&(0,t.jsxs)("div",{className:"absolute top-12 right-2 bg-white p-4 rounded-lg shadow-xl border border-gray-200 z-20 w-80 max-h-96 overflow-y-auto",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3 text-sm",children:"Container Settings"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Layout"}),(0,t.jsxs)(u.Select,{value:S.layout||"stack",onValueChange:e=>M({...S,layout:e}),children:[(0,t.jsx)(u.SelectTrigger,{children:(0,t.jsx)(u.SelectValue,{})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"stack",children:"Stack (Vertical)"}),(0,t.jsx)(u.SelectItem,{value:"wrap",children:"Wrap (Horizontal)"}),(0,t.jsx)(u.SelectItem,{value:"scroll",children:"Scroll"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Gap (px)"}),(0,t.jsx)(o.Input,{type:"number",value:S.gap||16,onChange:e=>M({...S,gap:parseInt(e.target.value)}),className:"text-xs"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Padding (px)"}),(0,t.jsx)(o.Input,{type:"number",value:S.padding||16,onChange:e=>M({...S,padding:parseInt(e.target.value)}),className:"text-xs"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Background Color"}),(0,t.jsx)(o.Input,{type:"text",placeholder:"#ffffff or transparent",value:S.backgroundColor||"transparent",onChange:e=>M({...S,backgroundColor:e.target.value}),className:"text-xs"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Max Width"}),(0,t.jsx)(o.Input,{type:"text",placeholder:"100% or 800px",value:S.maxWidth||"100%",onChange:e=>M({...S,maxWidth:e.target.value}),className:"text-xs"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Label,{className:"text-xs",children:"Alignment"}),(0,t.jsxs)(u.Select,{value:S.alignment||"left",onValueChange:e=>M({...S,alignment:e}),children:[(0,t.jsx)(u.SelectTrigger,{children:(0,t.jsx)(u.SelectValue,{})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"left",children:"Left"}),(0,t.jsx)(u.SelectItem,{value:"center",children:"Center"}),(0,t.jsx)(u.SelectItem,{value:"right",children:"Right"})]})]})]}),(0,t.jsx)("div",{className:"pt-2 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-xs text-gray-600 flex items-center gap-1",children:[(0,t.jsx)(d.Package,{className:"w-3 h-3"}),L," nested block",1!==L?"s":""]})}),(0,t.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,t.jsx)(r.Button,{onClick:()=>{m(S),C(!1)},className:"flex-1 text-xs py-1",size:"sm",children:"Save"}),(0,t.jsx)(r.Button,{onClick:()=>C(!1),variant:"outline",className:"flex-1 text-xs py-1",size:"sm",children:"Cancel"})]})]})]}),f?(0,t.jsx)("div",{className:"nested-children-wrapper w-full",children:f}):(0,t.jsxs)("div",{className:`empty-state text-center py-8 transition-colors duration-200 border-2 border-dashed rounded-lg ${A?"text-blue-600 border-blue-400 bg-blue-50":"text-gray-400 border-gray-300 bg-gray-50/50"}`,children:[(0,t.jsx)(d.Package,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"No nested blocks yet"}),(0,t.jsx)("p",{className:"text-xs mt-1 opacity-75",children:'Drop blocks here or click "Add Child" to add nested content'}),!1,!1]})]})}])}]);