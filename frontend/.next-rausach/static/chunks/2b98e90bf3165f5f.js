(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,138227,e=>{"use strict";var s=e.i(874061);e.s(["Trash2",()=>s.default])},404210,e=>{"use strict";var s=e.i(591353);e.s(["Eye",()=>s.default])},996517,e=>{"use strict";var s=e.i(44990),a=e.i(403055),t=e.i(119836),l=e.i(316618),r=e.i(377991),i=e.i(767478),n=e.i(873273),o=e.i(825198),d=e.i(346412),c=e.i(559663),u="Tabs",[m,x]=(0,l.createContextScope)(u,[r.createRovingFocusGroupScope]),p=(0,r.createRovingFocusGroupScope)(),[h,g]=m(u),f=a.forwardRef((e,a)=>{let{__scopeTabs:t,value:l,onValueChange:r,defaultValue:i,orientation:m="horizontal",dir:x,activationMode:p="automatic",...g}=e,f=(0,o.useDirection)(x),[j,v]=(0,d.useControllableState)({prop:l,onChange:r,defaultProp:i??"",caller:u});return(0,s.jsx)(h,{scope:t,baseId:(0,c.useId)(),value:j,onValueChange:v,orientation:m,dir:f,activationMode:p,children:(0,s.jsx)(n.Primitive.div,{dir:f,"data-orientation":m,...g,ref:a})})});f.displayName=u;var j="TabsList",v=a.forwardRef((e,a)=>{let{__scopeTabs:t,loop:l=!0,...i}=e,o=g(j,t),d=p(t);return(0,s.jsx)(r.Root,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:l,children:(0,s.jsx)(n.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:a})})});v.displayName=j;var N="TabsTrigger",y=a.forwardRef((e,a)=>{let{__scopeTabs:l,value:i,disabled:o=!1,...d}=e,c=g(N,l),u=p(l),m=C(c.baseId,i),x=D(c.baseId,i),h=i===c.value;return(0,s.jsx)(r.Item,{asChild:!0,...u,focusable:!o,active:h,children:(0,s.jsx)(n.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:m,...d,ref:a,onMouseDown:(0,t.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(i)}),onKeyDown:(0,t.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(i)}),onFocus:(0,t.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||o||!e||c.onValueChange(i)})})})});y.displayName=N;var b="TabsContent",w=a.forwardRef((e,t)=>{let{__scopeTabs:l,value:r,forceMount:o,children:d,...c}=e,u=g(b,l),m=C(u.baseId,r),x=D(u.baseId,r),p=r===u.value,h=a.useRef(p);return a.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(i.Presence,{present:o||p,children:({present:a})=>(0,s.jsx)(n.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!a,id:x,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:a&&d})})});function C(e,s){return`${e}-trigger-${s}`}function D(e,s){return`${e}-content-${s}`}w.displayName=b;var F=e.i(541428);let k=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(v,{ref:t,className:(0,F.cn)("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",e),...a}));k.displayName=v.displayName;let S=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(y,{ref:t,className:(0,F.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-gray-950 data-[state=active]:shadow-sm",e),...a}));S.displayName=y.displayName;let T=a.forwardRef(({className:e,...a},t)=>(0,s.jsx)(w,{ref:t,className:(0,F.cn)("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",e),...a}));T.displayName=w.displayName,e.s(["Tabs",()=>f,"TabsContent",()=>T,"TabsList",()=>k,"TabsTrigger",()=>S],996517)},415588,e=>{"use strict";var s=e.i(638381);e.s(["Clock",()=>s.default])},822390,e=>{"use strict";var s=e.i(621924);e.s(["CheckCircle",()=>s.default])},421329,e=>{"use strict";var s=e.i(565977);e.s(["FileText",()=>s.default])},67087,e=>{"use strict";var s=e.i(44990),a=e.i(403055),t=e.i(541428);let l=a.forwardRef(({className:e,orientation:a="horizontal",decorative:l=!0,...r},i)=>(0,s.jsx)("div",{ref:i,role:l?"none":"separator","aria-orientation":l?void 0:a,className:(0,t.cn)("shrink-0 bg-gray-200","horizontal"===a?"h-[1px] w-full":"h-full w-[1px]",e),...r}));l.displayName="Separator",e.s(["Separator",()=>l])},738543,e=>{"use strict";var s=e.i(507685);e.s(["BarChart3",()=>s.default])},553579,e=>{"use strict";var s=e.i(674181);e.s(["Star",()=>s.default])},791174,e=>{"use strict";var s=e.i(833350);e.s(["RefreshCw",()=>s.default])},165429,e=>{"use strict";var s=e.i(44990),a=e.i(403055),t=e.i(873273),l=a.forwardRef((e,a)=>(0,s.jsx)(t.Primitive.label,{...e,ref:a,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));l.displayName="Label";var r=e.i(541428);function i({className:e,...a}){return(0,s.jsx)(l,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>i],165429)},580523,e=>{"use strict";var s=e.i(403055),a=e.i(119836),t=e.i(569658),l=e.i(316618),r=e.i(559663),i=e.i(346412),n=e.i(430840),o=e.i(621829),d=e.i(581263),c=e.i(767478),u=e.i(873273),m=e.i(767835),x=e.i(896438),p=e.i(739045),h=e.i(599488),g=e.i(44990),f="Dialog",[j,v]=(0,l.createContextScope)(f),[N,y]=j(f),b=e=>{let{__scopeDialog:a,children:t,open:l,defaultOpen:n,onOpenChange:o,modal:d=!0}=e,c=s.useRef(null),u=s.useRef(null),[m,x]=(0,i.useControllableState)({prop:l,defaultProp:n??!1,onChange:o,caller:f});return(0,g.jsx)(N,{scope:a,triggerRef:c,contentRef:u,contentId:(0,r.useId)(),titleId:(0,r.useId)(),descriptionId:(0,r.useId)(),open:m,onOpenChange:x,onOpenToggle:s.useCallback(()=>x(e=>!e),[x]),modal:d,children:t})};b.displayName=f;var w="DialogTrigger",C=s.forwardRef((e,s)=>{let{__scopeDialog:l,...r}=e,i=y(w,l),n=(0,t.useComposedRefs)(s,i.triggerRef);return(0,g.jsx)(u.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":q(i.open),...r,ref:n,onClick:(0,a.composeEventHandlers)(e.onClick,i.onOpenToggle)})});C.displayName=w;var D="DialogPortal",[F,k]=j(D,{forceMount:void 0}),S=e=>{let{__scopeDialog:a,forceMount:t,children:l,container:r}=e,i=y(D,a);return(0,g.jsx)(F,{scope:a,forceMount:t,children:s.Children.map(l,e=>(0,g.jsx)(c.Presence,{present:t||i.open,children:(0,g.jsx)(d.Portal,{asChild:!0,container:r,children:e})}))})};S.displayName=D;var T="DialogOverlay",I=s.forwardRef((e,s)=>{let a=k(T,e.__scopeDialog),{forceMount:t=a.forceMount,...l}=e,r=y(T,e.__scopeDialog);return r.modal?(0,g.jsx)(c.Presence,{present:t||r.open,children:(0,g.jsx)(M,{...l,ref:s})}):null});I.displayName=T;var B=(0,h.createSlot)("DialogOverlay.RemoveScroll"),M=s.forwardRef((e,s)=>{let{__scopeDialog:a,...t}=e,l=y(T,a);return(0,g.jsx)(x.RemoveScroll,{as:B,allowPinchZoom:!0,shards:[l.contentRef],children:(0,g.jsx)(u.Primitive.div,{"data-state":q(l.open),...t,ref:s,style:{pointerEvents:"auto",...t.style}})})}),A="DialogContent",E=s.forwardRef((e,s)=>{let a=k(A,e.__scopeDialog),{forceMount:t=a.forceMount,...l}=e,r=y(A,e.__scopeDialog);return(0,g.jsx)(c.Presence,{present:t||r.open,children:r.modal?(0,g.jsx)($,{...l,ref:s}):(0,g.jsx)(P,{...l,ref:s})})});E.displayName=A;var $=s.forwardRef((e,l)=>{let r=y(A,e.__scopeDialog),i=s.useRef(null),n=(0,t.useComposedRefs)(l,r.contentRef,i);return s.useEffect(()=>{let e=i.current;if(e)return(0,p.hideOthers)(e)},[]),(0,g.jsx)(R,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:(0,a.composeEventHandlers)(e.onPointerDownOutside,e=>{let s=e.detail.originalEvent,a=0===s.button&&!0===s.ctrlKey;(2===s.button||a)&&e.preventDefault()}),onFocusOutside:(0,a.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),P=s.forwardRef((e,a)=>{let t=y(A,e.__scopeDialog),l=s.useRef(!1),r=s.useRef(!1);return(0,g.jsx)(R,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(l.current||t.triggerRef.current?.focus(),s.preventDefault()),l.current=!1,r.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(l.current=!0,"pointerdown"===s.detail.originalEvent.type&&(r.current=!0));let a=s.target;t.triggerRef.current?.contains(a)&&s.preventDefault(),"focusin"===s.detail.originalEvent.type&&r.current&&s.preventDefault()}})}),R=s.forwardRef((e,a)=>{let{__scopeDialog:l,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:d,...c}=e,u=y(A,l),x=s.useRef(null),p=(0,t.useComposedRefs)(a,x);return(0,m.useFocusGuards)(),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(o.FocusScope,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:d,children:(0,g.jsx)(n.DismissableLayer,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":q(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(Q,{titleId:u.titleId}),(0,g.jsx)(W,{contentRef:x,descriptionId:u.descriptionId})]})]})}),U="DialogTitle",O=s.forwardRef((e,s)=>{let{__scopeDialog:a,...t}=e,l=y(U,a);return(0,g.jsx)(u.Primitive.h2,{id:l.titleId,...t,ref:s})});O.displayName=U;var z="DialogDescription",V=s.forwardRef((e,s)=>{let{__scopeDialog:a,...t}=e,l=y(z,a);return(0,g.jsx)(u.Primitive.p,{id:l.descriptionId,...t,ref:s})});V.displayName=z;var H="DialogClose",L=s.forwardRef((e,s)=>{let{__scopeDialog:t,...l}=e,r=y(H,t);return(0,g.jsx)(u.Primitive.button,{type:"button",...l,ref:s,onClick:(0,a.composeEventHandlers)(e.onClick,()=>r.onOpenChange(!1))})});function q(e){return e?"open":"closed"}L.displayName=H;var G="DialogTitleWarning",[_,K]=(0,l.createContext)(G,{contentName:A,titleName:U,docsSlug:"dialog"}),Q=({titleId:e})=>{let a=K(G),t=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return s.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},W=({contentRef:e,descriptionId:a})=>{let t=K("DialogDescriptionWarning"),l=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return s.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");a&&s&&(document.getElementById(a)||console.warn(l))},[l,e,a]),null};e.s(["Close",()=>L,"Content",()=>E,"Description",()=>V,"Overlay",()=>I,"Portal",()=>S,"Root",()=>b,"Title",()=>O,"Trigger",()=>C])},137651,e=>{"use strict";var s=e.i(44990),a=e.i(403055),t=e.i(580523),l=e.i(888540),r=e.i(541428);let i=t.Root,n=t.Trigger,o=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)(t.Overlay,{ref:l,className:(0,r.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));o.displayName=t.Overlay.displayName;let d=a.forwardRef(({className:e,children:a,...i},n)=>(0,s.jsxs)(t.Portal,{children:[(0,s.jsx)(o,{}),(0,s.jsxs)(t.Content,{ref:n,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...i,children:[a,(0,s.jsxs)(t.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500",children:[(0,s.jsx)(l.X,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));d.displayName=t.Content.displayName;let c=({className:e,...a})=>(0,s.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});c.displayName="DialogHeader";let u=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)(t.Title,{ref:l,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));u.displayName=t.Title.displayName;let m=a.forwardRef(({className:e,...a},l)=>(0,s.jsx)(t.Description,{ref:l,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));m.displayName=t.Description.displayName;let x=({className:e,...a})=>(0,s.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});x.displayName="DialogFooter",e.s(["Dialog",()=>i,"DialogContent",()=>d,"DialogDescription",()=>m,"DialogFooter",()=>x,"DialogHeader",()=>c,"DialogTitle",()=>u,"DialogTrigger",()=>n])},173416,e=>{"use strict";var s=e.i(46034);e.s(["Filter",()=>s.default])},495043,e=>{"use strict";var s=e.i(217696);e.s(["MoreVertical",()=>s.default])},455461,e=>{"use strict";var s=e.i(979426);e.s(["Upload",()=>s.default])},897711,e=>{"use strict";var s=e.i(980295);e.s(["Download",()=>s.default])},645030,e=>{"use strict";var s=e.i(44990),a=e.i(403055),t=e.i(316618),l=e.i(873273),r="Progress",[i,n]=(0,t.createContextScope)(r),[o,d]=i(r),c=a.forwardRef((e,a)=>{var t,r;let{__scopeProgress:i,value:n=null,max:d,getValueLabel:c=x,...u}=e;(d||0===d)&&!g(d)&&console.error((t=`${d}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=g(d)?d:100;null===n||f(n,m)||console.error((r=`${n}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let j=f(n,m)?n:null,v=h(j)?c(j,m):void 0;return(0,s.jsx)(o,{scope:i,value:j,max:m,children:(0,s.jsx)(l.Primitive.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":h(j)?j:void 0,"aria-valuetext":v,role:"progressbar","data-state":p(j,m),"data-value":j??void 0,"data-max":m,...u,ref:a})})});c.displayName=r;var u="ProgressIndicator",m=a.forwardRef((e,a)=>{let{__scopeProgress:t,...r}=e,i=d(u,t);return(0,s.jsx)(l.Primitive.div,{"data-state":p(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:a})});function x(e,s){return`${Math.round(e/s*100)}%`}function p(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function h(e){return"number"==typeof e}function g(e){return h(e)&&!isNaN(e)&&e>0}function f(e,s){return h(e)&&!isNaN(e)&&e<=s&&e>=0}m.displayName=u;var j=e.i(541428);let v=a.forwardRef(({className:e,value:a,indicatorClassName:t,...l},r)=>(0,s.jsx)(c,{ref:r,className:(0,j.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...l,children:(0,s.jsx)(m,{className:(0,j.cn)("h-full w-full flex-1 bg-primary transition-all",t),style:{transform:`translateX(-${100-(a||0)}%)`}})}));v.displayName=c.displayName,e.s(["Progress",()=>v],645030)},742049,e=>{"use strict";var s=e.i(909181);e.s(["Archive",()=>s.default])},576884,e=>{"use strict";var s=e.i(933414);e.s(["Tag",()=>s.default])},675999,e=>{"use strict";var s=e.i(474047);e.s(["Activity",()=>s.default])},872883,e=>{"use strict";var s=e.i(497520);e.s(["Share2",()=>s.default])},736503,e=>{"use strict";var s=e.i(941180);e.s(["Folder",()=>s.default])},315185,e=>{"use strict";var s=e.i(938190);e.s(["FolderOpen",()=>s.default])},711798,e=>{"use strict";var s=e.i(133523);e.s(["List",()=>s.default])},126795,e=>{"use strict";var s=e.i(124790);e.s(["Image",()=>s.default])},983551,e=>{"use strict";var s=e.i(27737);e.s(["Link",()=>s.default])},240243,e=>{"use strict";var s=e.i(840041);e.s(["Grid3x3",()=>s.default])},823186,e=>{"use strict";var s=e.i(978803);e.s(["Video",()=>s.default])},296743,e=>{"use strict";var s=e.i(432300);e.s(["HardDrive",()=>s.default])},457268,e=>{"use strict";var s=e.i(916616);e.s(["Lock",()=>s.default])},681111,e=>{"use strict";var s=e.i(74626);e.s(["FileDown",()=>s.default])},746969,e=>{"use strict";var s=e.i(392636);e.s(["File",()=>s.default])},350856,10691,524262,351845,508195,e=>{"use strict";var s,a,t=e.i(44990),l=e.i(403055);e.i(308140);var r=e.i(950988),i=e.i(429105),n=e.i(984804);let o=n.gql`
  fragment FileFields on File {
    id
    filename
    originalName
    mimeType
    size
    fileType
    url
    bucket
    path
    folderId
    userId
    visibility
    title
    description
    alt
    tags
    metadata
    width
    height
    thumbnailUrl
    downloadCount
    viewCount
    createdAt
    updatedAt
  }
`,d=n.gql`
  fragment FolderFields on FileFolder {
    id
    name
    description
    parentId
    path
    userId
    color
    icon
    isSystem
    createdAt
    updatedAt
  }
`;n.gql`
  ${o}
  query GetFile($id: ID!) {
    file(id: $id) {
      ...FileFields
      folder {
        id
        name
        path
      }
    }
  }
`;let c=n.gql`
  ${o}
  query GetFiles($input: GetFilesInput) {
    files(input: $input) {
      items {
        ...FileFields
        folder {
          id
          name
          path
        }
      }
      total
      page
      limit
      totalPages
      hasNextPage
      hasPreviousPage
    }
  }
`;n.gql`
  ${d}
  query GetFolder($id: ID!) {
    folder(id: $id) {
      ...FolderFields
      parent {
        id
        name
        path
      }
      children {
        id
        name
        path
      }
      files {
        id
        filename
        originalName
        url
        fileType
        size
      }
    }
  }
`,n.gql`
  ${d}
  query GetFolders {
    folders {
      ...FolderFields
      children {
        id
        name
        path
      }
    }
  }
`;let u=n.gql`
  query GetStorageStats {
    fileStorageStats {
      totalFiles
      totalSize
      totalFolders
      filesByType {
        type
        count
        totalSize
      }
      filesByVisibility {
        visibility
        count
      }
    }
  }
`;n.gql`
  ${o}
  mutation UpdateFile($input: UpdateFileInput!) {
    updateFile(input: $input) {
      ...FileFields
    }
  }
`;let m=n.gql`
  mutation DeleteFile($id: ID!) {
    deleteFile(id: $id)
  }
`;n.gql`
  ${o}
  mutation MoveFiles($input: MoveFilesInput!) {
    moveFiles(input: $input) {
      ...FileFields
    }
  }
`;let x=n.gql`
  mutation BulkDeleteFiles($input: BulkDeleteFilesInput!) {
    bulkDeleteFiles(input: $input)
  }
`;function p(e){let{data:s,loading:a,error:t,refetch:l}=(0,i.useQuery)(c,{variables:{input:e},fetchPolicy:"cache-and-network"});return{files:s?.files,loading:a,error:t,refetch:l}}function h(){let{data:e,loading:s,error:a,refetch:t}=(0,i.useQuery)(u,{fetchPolicy:"cache-and-network"});return{stats:e?.fileStorageStats,loading:s,error:a,refetch:t}}function g(){let[e,s]=(0,l.useState)(!1),[a,t]=(0,l.useState)(0);return{uploadFile:async(e,a,l)=>{s(!0),t(0);try{let s=new FormData;s.append("file",e),a&&s.append("folderId",a),l&&s.append("metadata",JSON.stringify(l));let r=await fetch("https://api.rausachtrangia.com/api/files/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:s});if(!r.ok)throw Error("Upload failed");let i=await r.json();return t(100),i}catch(e){throw e}finally{s(!1)}},uploadFiles:async(e,a)=>{s(!0),t(0);try{let s=new FormData;e.forEach(e=>s.append("files",e)),a&&s.append("folderId",a);let l=await fetch("https://api.rausachtrangia.com/api/files/upload/bulk",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:s});if(!l.ok)throw Error("Upload failed");let r=await l.json();return t(100),r}catch(e){throw e}finally{s(!1)}},uploading:e,progress:a}}function f(){let[e,{loading:s,error:a}]=(0,r.useMutation)(m,{refetchQueries:[{query:c}]});return{deleteFile:async s=>{let a=await e({variables:{id:s}});return a.data?.deleteFile},loading:s,error:a}}function j(){let[e,{loading:s,error:a}]=(0,r.useMutation)(x,{refetchQueries:[{query:c}]});return{bulkDeleteFiles:async s=>{let a=await e({variables:{input:s}});return a.data?.bulkDeleteFiles},loading:s,error:a}}n.gql`
  ${o}
  mutation BulkUpdateFiles($input: BulkUpdateFilesInput!) {
    bulkUpdateFiles(input: $input) {
      ...FileFields
    }
  }
`,n.gql`
  ${d}
  mutation CreateFolder($input: CreateFolderInput!) {
    createFolder(input: $input) {
      ...FolderFields
    }
  }
`,n.gql`
  ${d}
  mutation UpdateFolder($input: UpdateFolderInput!) {
    updateFolder(input: $input) {
      ...FolderFields
    }
  }
`,n.gql`
  mutation DeleteFolder($id: ID!) {
    deleteFolder(id: $id)
  }
`,n.gql`
  mutation CreateFileShare($input: CreateFileShareInput!) {
    createFileShare(input: $input) {
      id
      fileId
      token
      sharedBy
      sharedWith
      expiresAt
      canDownload
      canView
      createdAt
    }
  }
`,e.s(["useBulkDeleteFiles",()=>j,"useDeleteFile",()=>f,"useFileUpload",()=>g,"useFiles",()=>p,"useStorageStats",()=>h],10691);var v=((s={}).IMAGE="IMAGE",s.VIDEO="VIDEO",s.AUDIO="AUDIO",s.DOCUMENT="DOCUMENT",s.ARCHIVE="ARCHIVE",s.OTHER="OTHER",s);(a={}).PUBLIC="PUBLIC",a.PRIVATE="PRIVATE",a.SHARED="SHARED",e.s(["FileType",()=>v],524262);var N=e.i(775680),y=e.i(885205),b=e.i(696134),w=e.i(702470),C=e.i(137651),D=e.i(645030),F=e.i(455461),k=e.i(888540),S=e.i(392636),S=S,T=e.i(822390),I=e.i(198513),B=e.i(541428);let M=({open:e,onOpenChange:s,onUpload:a,onUploadSuccess:r,folderId:i})=>{let n=(0,l.useRef)(null),[o,d]=(0,l.useState)([]),[c,u]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!1),p=(0,l.useCallback)(e=>{let s=Array.from(e).map(e=>({file:e,id:`${e.name}-${Date.now()}-${Math.random()}`,status:"pending",progress:0}));d(e=>[...e,...s])},[]),h=(0,l.useCallback)(e=>{e.preventDefault(),u(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&p(e.dataTransfer.files)},[p]),g=(0,l.useCallback)(e=>{e.preventDefault(),u(!0)},[]),f=(0,l.useCallback)(e=>{e.preventDefault(),u(!1)},[]),j=async()=>{if(0!==o.length){x(!0);try{let e=o.map(e=>e.file);await a(e),d(e=>e.map(e=>({...e,status:"success",progress:100}))),r&&r(),setTimeout(()=>{s(!1),d([])},1500)}catch(e){d(s=>s.map(s=>({...s,status:"error",error:e.message||"Upload failed"})))}finally{x(!1)}}};return(0,t.jsx)(C.Dialog,{open:e,onOpenChange:s,children:(0,t.jsxs)(C.DialogContent,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[(0,t.jsx)(C.DialogHeader,{children:(0,t.jsxs)(C.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(F.Upload,{className:"h-5 w-5"}),"Upload Files",o.length>0&&(0,t.jsxs)(w.Badge,{variant:"secondary",className:"ml-2",children:[o.length," file",o.length>1?"s":""]})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:[(0,t.jsxs)("div",{onDrop:h,onDragOver:g,onDragLeave:f,className:(0,B.cn)("border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer",c?"border-blue-500 bg-blue-50 dark:bg-blue-950":"border-gray-300 hover:border-gray-400 dark:border-gray-700"),onClick:()=>n.current?.click(),children:[(0,t.jsx)(F.Upload,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,t.jsx)("p",{className:"text-lg font-medium mb-2",children:"Drop files here or click to browse"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Support for multiple files upload"}),(0,t.jsx)("input",{ref:n,type:"file",multiple:!0,className:"hidden",onChange:e=>{e.target.files&&e.target.files.length>0&&p(e.target.files)}})]}),o.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h3",{className:"text-sm font-medium",children:"Files to upload:"}),(0,t.jsx)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:o.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[(e=>{switch(e){case"success":return(0,t.jsx)(T.CheckCircle,{className:"h-4 w-4 text-green-500"});case"error":return(0,t.jsx)(I.AlertCircle,{className:"h-4 w-4 text-red-500"});case"uploading":return(0,t.jsx)("div",{className:"h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"});default:return(0,t.jsx)(S.default,{className:"h-4 w-4 text-gray-400"})}})(e.status),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",children:e.file.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:(e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB","GB"][s]})(e.file.size)}),"uploading"===e.status&&(0,t.jsx)(D.Progress,{value:e.progress,className:"h-1 mt-2"}),e.error&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:e.error})]}),(e=>{switch(e){case"success":return(0,t.jsx)(w.Badge,{variant:"default",className:"bg-green-500",children:"Success"});case"error":return(0,t.jsx)(w.Badge,{variant:"destructive",children:"Error"});case"uploading":return(0,t.jsx)(w.Badge,{variant:"secondary",children:"Uploading..."});default:return(0,t.jsx)(w.Badge,{variant:"outline",children:"Pending"})}})(e.status),"pending"===e.status&&!m&&(0,t.jsx)(y.Button,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void d(e=>e.filter(e=>e.id!==s))},className:"h-8 w-8 p-0",children:(0,t.jsx)(k.X,{className:"h-4 w-4"})})]},e.id))})]})]}),(0,t.jsxs)(C.DialogFooter,{className:"gap-2",children:[(0,t.jsx)(y.Button,{variant:"outline",onClick:()=>{s(!1),d([])},disabled:m,children:"Cancel"}),(0,t.jsx)(y.Button,{onClick:j,disabled:0===o.length||m,children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.Upload,{className:"h-4 w-4 mr-2"}),"Upload ",o.length," file",o.length>1?"s":""]})})]})]})})};e.s(["UploadDialog",0,M],351845);var A=e.i(240243),E=e.i(711798),$=e.i(850384),P=e.i(746969),R=e.i(126795),U=e.i(823186),O=e.i(275206);e.s(["Music",()=>O.default],508195);var O=O,z=e.i(421329),V=e.i(742049),H=e.i(138227),L=e.i(897711),q=e.i(404210),G=e.i(495043),_=e.i(791174),K=e.i(135369),Q=e.i(4993);function W({onSelect:e,allowMultiple:s=!1,folderId:a,fileTypes:r,viewMode:i,sortBy:n,searchQuery:o,filter:d,limit:c=20}){let[u,m]=(0,l.useState)("grid"),[x,h]=(0,l.useState)(""),[C,D]=(0,l.useState)(new Set),[k,S]=(0,l.useState)(1),[T,I]=(0,l.useState)(!1),{toast:B}=(0,Q.useToast)(),W=i||u,X=void 0!==o?o:x,Z=n||{field:"date",order:"desc"},{files:J,loading:Y,refetch:ee}=p({page:k,limit:c,filters:{...a&&{folderId:a},...X&&{search:X},...d?.type&&{fileType:d.type},...r&&r.length>0&&!d?.type&&{fileType:r[0]}},sortBy:"name"===Z.field?"filename":"date"===Z.field?"createdAt":"size",sortOrder:Z.order}),{uploadFile:es,uploadFiles:ea,uploading:et}=g(),{deleteFile:el}=f(),{bulkDeleteFiles:er}=j(),ei=(0,l.useCallback)(async e=>{try{let s=Array.from(e);1===s.length?await es(s[0],a):await ea(s,a),B({type:"success",title:"Success",description:`${s.length} file(s) uploaded successfully`}),ee(),I(!1)}catch(e){B({type:"error",title:"Error",description:e.message||"Failed to upload files",variant:"destructive"})}},[es,ea,a,ee,B]),en=(0,l.useCallback)(e=>{e.preventDefault();let s=e.dataTransfer.files;s.length>0&&ei(s)},[ei]),eo=(0,l.useCallback)(e=>{e.preventDefault()},[]),ed=e=>{let a=new Set(C);a.has(e)?a.delete(e):(s||a.clear(),a.add(e)),D(a)},ec=async e=>{if(confirm("Are you sure you want to delete this file?"))try{await el(e),B({type:"success",title:"Success",description:"File deleted successfully"}),ee()}catch(e){B({type:"error",title:"Error",description:e.message||"Failed to delete file",variant:"destructive"})}},eu=async()=>{if(0!==C.size&&confirm(`Delete ${C.size} selected file(s)?`))try{await er({fileIds:Array.from(C)}),B({type:"success",title:"Success",description:`${C.size} file(s) deleted successfully`}),D(new Set),ee()}catch(e){B({type:"error",title:"Error",description:e.message||"Failed to delete files",variant:"destructive"})}},em=e=>{switch(e){case v.IMAGE:return(0,t.jsx)(R.Image,{className:"w-5 h-5"});case v.VIDEO:return(0,t.jsx)(U.Video,{className:"w-5 h-5"});case v.AUDIO:return(0,t.jsx)(O.default,{className:"w-5 h-5"});case v.DOCUMENT:return(0,t.jsx)(z.FileText,{className:"w-5 h-5"});case v.ARCHIVE:return(0,t.jsx)(V.Archive,{className:"w-5 h-5"});default:return(0,t.jsx)(P.File,{className:"w-5 h-5"})}},ex=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB","GB"][s]};return(0,t.jsxs)("div",{className:"w-full h-full flex flex-col",children:[void 0===i&&void 0===o&&(0,t.jsx)(N.Card,{className:"mb-4",children:(0,t.jsx)(N.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex-1 max-w-md",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)($.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,t.jsx)(b.Input,{placeholder:"Search files...",value:x,onChange:e=>h(e.target.value),className:"pl-10"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(y.Button,{variant:"default",size:"sm",disabled:et,onClick:()=>I(!0),children:[(0,t.jsx)(F.Upload,{className:"w-4 h-4 mr-2"}),"Upload"]}),C.size>0&&(0,t.jsxs)(y.Button,{variant:"destructive",size:"sm",onClick:eu,children:[(0,t.jsx)(H.Trash2,{className:"w-4 h-4 mr-2"}),"Delete (",C.size,")"]}),(0,t.jsx)(y.Button,{variant:"outline",size:"sm",onClick:()=>ee(),children:(0,t.jsx)(_.RefreshCw,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"flex border rounded-md",children:[(0,t.jsx)(y.Button,{variant:"grid"===W?"default":"ghost",size:"sm",onClick:()=>m("grid"),className:"rounded-r-none",children:(0,t.jsx)(A.Grid3x3,{className:"w-4 h-4"})}),(0,t.jsx)(y.Button,{variant:"list"===W?"default":"ghost",size:"sm",onClick:()=>m("list"),className:"rounded-l-none",children:(0,t.jsx)(E.List,{className:"w-4 h-4"})})]})]})]})})}),(0,t.jsx)(M,{open:T,onOpenChange:I,onUpload:ei,onUploadSuccess:()=>{ee(),I(!1)},folderId:a}),(0,t.jsx)("div",{onDrop:en,onDragOver:eo,className:"flex-1 border-2 border-dashed border-gray-300 rounded-lg p-4 bg-gray-50 dark:bg-gray-900",children:Y?(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):J&&J.items.length>0?(0,t.jsxs)(t.Fragment,{children:["grid"===W&&(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:J.items.map(e=>(0,t.jsx)(N.Card,{className:`cursor-pointer hover:shadow-lg transition-shadow ${C.has(e.id)?"ring-2 ring-blue-500":""}`,onClick:()=>ed(e.id),children:(0,t.jsxs)(N.CardContent,{className:"p-4",children:[(0,t.jsx)("div",{className:"aspect-square bg-gray-100 dark:bg-gray-800 rounded-md mb-3 flex items-center justify-center overflow-hidden",children:e.fileType===v.IMAGE?(0,t.jsx)("img",{src:e.url,alt:e.originalName,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"text-gray-400",children:em(e.fileType)})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium truncate",title:e.originalName,children:e.originalName}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:ex(e.size)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,t.jsx)(w.Badge,{variant:"secondary",className:"text-xs",children:e.fileType}),(0,t.jsxs)(K.DropdownMenu,{children:[(0,t.jsx)(K.DropdownMenuTrigger,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,t.jsx)(y.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:(0,t.jsx)(G.MoreVertical,{className:"w-4 h-4"})})}),(0,t.jsxs)(K.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(K.DropdownMenuItem,{onClick:s=>{s.stopPropagation(),window.open(e.url,"_blank")},children:[(0,t.jsx)(q.Eye,{className:"w-4 h-4 mr-2"}),"View"]}),(0,t.jsxs)(K.DropdownMenuItem,{onClick:s=>{s.stopPropagation(),window.open(e.url,"_blank")},children:[(0,t.jsx)(L.Download,{className:"w-4 h-4 mr-2"}),"Download"]}),(0,t.jsx)(K.DropdownMenuSeparator,{}),(0,t.jsxs)(K.DropdownMenuItem,{onClick:s=>{s.stopPropagation(),ec(e.id)},className:"text-red-600",children:[(0,t.jsx)(H.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})]})},e.id))}),"list"===W&&(0,t.jsx)("div",{className:"space-y-2",children:J.items.map(e=>(0,t.jsx)(N.Card,{className:`cursor-pointer hover:shadow-md transition-shadow ${C.has(e.id)?"ring-2 ring-blue-500":""}`,onClick:()=>ed(e.id),children:(0,t.jsx)(N.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsx)("div",{className:"text-gray-400",children:em(e.fileType)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium truncate",children:e.originalName}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,t.jsx)("span",{children:ex(e.size)}),(0,t.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsx)(w.Badge,{variant:"secondary",children:e.fileType})]})]})]}),(0,t.jsxs)(K.DropdownMenu,{children:[(0,t.jsx)(K.DropdownMenuTrigger,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,t.jsx)(y.Button,{variant:"ghost",size:"sm",children:(0,t.jsx)(G.MoreVertical,{className:"w-4 h-4"})})}),(0,t.jsxs)(K.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(K.DropdownMenuItem,{onClick:s=>{s.stopPropagation(),window.open(e.url,"_blank")},children:[(0,t.jsx)(q.Eye,{className:"w-4 h-4 mr-2"}),"View"]}),(0,t.jsxs)(K.DropdownMenuItem,{onClick:s=>{s.stopPropagation(),window.open(e.url,"_blank")},children:[(0,t.jsx)(L.Download,{className:"w-4 h-4 mr-2"}),"Download"]}),(0,t.jsx)(K.DropdownMenuSeparator,{}),(0,t.jsxs)(K.DropdownMenuItem,{onClick:s=>{s.stopPropagation(),ec(e.id)},className:"text-red-600",children:[(0,t.jsx)(H.Trash2,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]})})},e.id))}),J.totalPages>1&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-6",children:[(0,t.jsx)(y.Button,{variant:"outline",size:"sm",disabled:!J.hasPreviousPage,onClick:()=>S(k-1),children:"Previous"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",J.page," of ",J.totalPages]}),(0,t.jsx)(y.Button,{variant:"outline",size:"sm",disabled:!J.hasNextPage,onClick:()=>S(k+1),children:"Next"})]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[(0,t.jsx)(F.Upload,{className:"w-16 h-16 mb-4"}),(0,t.jsx)("p",{className:"text-lg font-medium mb-2",children:"No files yet"}),(0,t.jsx)("p",{className:"text-sm mb-4",children:"Drop files here or click upload button"})]})})]})}e.s(["FileManager",()=>W],350856)},890178,e=>{"use strict";var s=e.i(308140),a=e.i(44990),t=e.i(403055),l=e.i(350856),r=e.i(775680),i=e.i(645030),n=e.i(702470),o=e.i(885205),d=e.i(296743),c=e.i(759727),u=e.i(576087),m=e.i(198513),x=e.i(822390),p=e.i(675999),h=e.i(738543);function g({totalSize:e,totalFiles:s,storageLimit:t,filesByType:l}){let u=e/t*100,g=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,s)).toFixed(2)} ${["Bytes","KB","MB","GB","TB"][s]}`},f=u<50?{status:"Healthy",color:"text-green-600",bgColor:"bg-green-500",icon:x.CheckCircle,variant:"default"}:u<80?{status:"Warning",color:"text-yellow-600",bgColor:"bg-yellow-500",icon:m.AlertCircle,variant:"warning"}:{status:"Critical",color:"text-red-600",bgColor:"bg-red-500",icon:m.AlertCircle,variant:"destructive"},j=f.icon;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(r.Card,{className:"col-span-1 md:col-span-2 border-l-4 border-l-primary",children:[(0,a.jsx)(r.CardHeader,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Storage Usage"}),(0,a.jsx)(d.HardDrive,{className:"h-5 w-5 text-muted-foreground"})]})}),(0,a.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsx)("div",{className:"text-4xl font-bold",children:g(e)}),(0,a.jsxs)("div",{className:"text-lg text-muted-foreground",children:["/ ",g(t)]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:f.color,children:[(0,a.jsx)(j,{className:"h-4 w-4 inline mr-1"}),u.toFixed(1),"% used"]}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[g(t-e)," free"]})]}),(0,a.jsx)(i.Progress,{value:u,className:"h-3",indicatorClassName:f.bgColor})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsxs)(n.Badge,{variant:f.variant,className:"gap-1",children:[(0,a.jsx)(j,{className:"h-3 w-3"}),f.status]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.TrendingUp,{className:"h-4 w-4 text-green-600"}),(0,a.jsxs)("span",{className:"text-green-600",children:["+",12.5,"%"]})]}),(0,a.jsx)("span",{className:"text-muted-foreground ml-1",children:"this month"})]})]})]})]}),(0,a.jsxs)(r.Card,{className:"border-l-4 border-l-blue-500",children:[(0,a.jsx)(r.CardHeader,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Total Files"}),(0,a.jsx)(p.Activity,{className:"h-5 w-5 text-blue-500"})]})}),(0,a.jsx)(r.CardContent,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:s.toLocaleString()}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all folders"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-blue-600",children:[(0,a.jsx)(c.TrendingUp,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:"+23 this week"})]})]})})]}),(0,a.jsxs)(r.Card,{className:"border-l-4 border-l-purple-500",children:[(0,a.jsx)(r.CardHeader,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(r.CardTitle,{className:"text-sm font-medium",children:"Avg File Size"}),(0,a.jsx)(h.BarChart3,{className:"h-5 w-5 text-purple-500"})]})}),(0,a.jsx)(r.CardContent,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"text-3xl font-bold",children:g(s>0?e/s:0)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Per file average"}),(0,a.jsx)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:"Optimal: < 5MB"})]})})]})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{className:"text-base",children:"Storage Distribution by Type"}),(0,a.jsx)(r.CardDescription,{children:"Breakdown of storage usage by file types"})]}),(0,a.jsx)(r.CardContent,{children:(0,a.jsx)("div",{className:"space-y-4",children:l.map(s=>{let t=s.totalSize/e*100,l=s.count>0?s.totalSize/s.count:0;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"font-medium min-w-[100px]",children:s.type}),(0,a.jsxs)(n.Badge,{variant:"outline",className:"text-xs",children:[s.count," files"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-muted-foreground",children:[(0,a.jsx)("span",{className:"min-w-[80px] text-right",children:g(s.totalSize)}),(0,a.jsxs)("span",{className:"min-w-[60px] text-right font-medium text-foreground",children:[t.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.Progress,{value:t,className:"h-2 flex-1",indicatorClassName:"IMAGE"===s.type?"bg-blue-500":"VIDEO"===s.type?"bg-purple-500":"DOCUMENT"===s.type?"bg-green-500":"AUDIO"===s.type?"bg-yellow-500":"bg-gray-500"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground min-w-[100px] text-right",children:["Avg: ",g(l)]})]})]},s.type)})})})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{className:"text-base",children:"Storage Management"}),(0,a.jsx)(r.CardDescription,{children:"Optimize and manage your storage"})]}),(0,a.jsx)(r.CardContent,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,a.jsx)(o.Button,{variant:"outline",className:"justify-start h-auto py-3",children:(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-medium",children:"Clean Trash"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Free up space"})]})}),(0,a.jsx)(o.Button,{variant:"outline",className:"justify-start h-auto py-3",children:(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-medium",children:"Find Duplicates"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Remove duplicates"})]})}),(0,a.jsx)(o.Button,{variant:"outline",className:"justify-start h-auto py-3",children:(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("div",{className:"font-medium",children:"Compress Files"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Save storage"})]})})]})})]})]})}var f=e.i(415588),j=e.i(746969),v=e.i(126795),N=e.i(823186),y=e.i(421329),b=e.i(508195),w=e.i(742049),C=e.i(897711),D=e.i(404210),F=e.i(138227);function k({limit:e=10}){let s=[{id:"1",name:"project-design.png",type:"IMAGE",size:2048576,uploadedAt:"2 minutes ago"},{id:"2",name:"presentation.pdf",type:"DOCUMENT",size:5242880,uploadedAt:"15 minutes ago"},{id:"3",name:"demo-video.mp4",type:"VIDEO",size:0xf00000,uploadedAt:"1 hour ago"},{id:"4",name:"audio-track.mp3",type:"AUDIO",size:4194304,uploadedAt:"2 hours ago"},{id:"5",name:"backup.zip",type:"ARCHIVE",size:0xa00000,uploadedAt:"1 day ago"}];return(0,a.jsx)(r.Card,{children:(0,a.jsxs)(r.CardContent,{className:"pt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(f.Clock,{className:"h-5 w-5 text-muted-foreground"}),(0,a.jsx)("h3",{className:"font-semibold text-lg",children:"Recent Activity"}),(0,a.jsxs)(n.Badge,{variant:"outline",className:"ml-auto",children:[s.length," files"]})]}),(0,a.jsx)("div",{className:"space-y-3",children:s.slice(0,e).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors group",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(e=>{let s="h-8 w-8";switch(e){case"IMAGE":return(0,a.jsx)(v.Image,{className:`${s} text-blue-500`});case"VIDEO":return(0,a.jsx)(N.Video,{className:`${s} text-purple-500`});case"DOCUMENT":return(0,a.jsx)(y.FileText,{className:`${s} text-green-500`});case"AUDIO":return(0,a.jsx)(b.Music,{className:`${s} text-yellow-500`});case"ARCHIVE":return(0,a.jsx)(w.Archive,{className:`${s} text-orange-500`});default:return(0,a.jsx)(j.File,{className:`${s} text-gray-500`})}})(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("p",{className:"font-medium text-sm truncate",children:e.name}),(0,a.jsx)(n.Badge,{className:`text-xs ${(e=>{switch(e){case"IMAGE":return"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300";case"VIDEO":return"bg-purple-100 text-purple-700 dark:bg-purple-900 dark:text-purple-300";case"DOCUMENT":return"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300";case"AUDIO":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300";case"ARCHIVE":return"bg-orange-100 text-orange-700 dark:bg-orange-900 dark:text-orange-300";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900 dark:text-gray-300"}})(e.type)}`,children:e.type})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,a.jsx)("span",{children:(e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,s)).toFixed(2)} ${["Bytes","KB","MB","GB"][s]}`})(e.size)}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.Clock,{className:"h-3 w-3"}),e.uploadedAt]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(o.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,a.jsx)(D.Eye,{className:"h-4 w-4"})}),(0,a.jsx)(o.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:(0,a.jsx)(C.Download,{className:"h-4 w-4"})}),(0,a.jsx)(o.Button,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-destructive",children:(0,a.jsx)(F.Trash2,{className:"h-4 w-4"})})]})]},e.id))}),s.length>e&&(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsxs)(o.Button,{variant:"ghost",size:"sm",className:"text-xs",children:["View all ",s.length," files"]})})]})})}var S=e.i(455461),T=e.i(854221),T=T,I=e.i(872883),B=e.i(850384),M=e.i(681111),A=e.i(983551),E=e.i(771564),$=e.i(457268),P=e.i(553579),R=e.i(576884),U=e.i(137651),O=e.i(696134),z=e.i(165429);function V({onUpload:e,onCreateFolder:s,onBulkDownload:l,onShare:i}){let[d,c]=(0,t.useState)(!1),[u,m]=(0,t.useState)(!1),[x,p]=(0,t.useState)(""),h=()=>{x.trim()&&(s?.(),p(""),c(!1))},g=[{title:"Upload Files",description:"Upload new files or folders",icon:S.Upload,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-950",action:e,badge:"Ctrl+U"},{title:"New Folder",description:"Create a new folder",icon:T.default,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-950",action:()=>c(!0),badge:"Ctrl+N"},{title:"Bulk Download",description:"Download multiple files",icon:M.FileDown,color:"text-purple-600",bgColor:"bg-purple-50 dark:bg-purple-950",action:l,badge:null},{title:"Share",description:"Share files with others",icon:I.Share2,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-950",action:()=>m(!0),badge:null}],f=[{title:"Find Duplicates",description:"Scan for duplicate files",icon:B.Search,color:"text-yellow-600"},{title:"Manage Tags",description:"Organize with tags",icon:R.Tag,color:"text-pink-600"},{title:"Permissions",description:"Manage file permissions",icon:$.Lock,color:"text-red-600"},{title:"Starred Files",description:"View favorite files",icon:P.Star,color:"text-yellow-500"}];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{className:"text-lg",children:"Quick Actions"}),(0,a.jsx)(r.CardDescription,{children:"Frequently used file operations"})]}),(0,a.jsx)(r.CardContent,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:g.map(e=>{let s=e.icon;return(0,a.jsx)(o.Button,{variant:"outline",className:"h-auto justify-start text-left p-4 hover:border-primary transition-all group",onClick:e.action,children:(0,a.jsxs)("div",{className:"flex items-start gap-4 w-full",children:[(0,a.jsx)("div",{className:`p-2.5 rounded-lg ${e.bgColor} group-hover:scale-110 transition-transform`,children:(0,a.jsx)(s,{className:`h-5 w-5 ${e.color}`})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 mb-1",children:[(0,a.jsx)("div",{className:"font-semibold",children:e.title}),e.badge&&(0,a.jsx)(n.Badge,{variant:"secondary",className:"text-xs",children:e.badge})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description})]})]})},e.title)})})})]}),(0,a.jsxs)(r.Card,{children:[(0,a.jsxs)(r.CardHeader,{children:[(0,a.jsx)(r.CardTitle,{className:"text-lg",children:"Tools & Utilities"}),(0,a.jsx)(r.CardDescription,{children:"Advanced file management tools"})]}),(0,a.jsx)(r.CardContent,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:f.map(e=>{let s=e.icon;return(0,a.jsxs)(o.Button,{variant:"ghost",className:"h-auto flex-col items-center gap-2 p-4 hover:bg-accent",children:[(0,a.jsx)(s,{className:`h-6 w-6 ${e.color}`}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-medium text-xs",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground hidden md:block",children:e.description})]})]},e.title)})})})]}),(0,a.jsx)(U.Dialog,{open:d,onOpenChange:c,children:(0,a.jsxs)(U.DialogContent,{children:[(0,a.jsx)(U.DialogHeader,{children:(0,a.jsx)(U.DialogTitle,{children:"Create New Folder"})}),(0,a.jsx)("div",{className:"space-y-4 py-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(z.Label,{htmlFor:"folderName",children:"Folder Name"}),(0,a.jsx)(O.Input,{id:"folderName",placeholder:"Enter folder name...",value:x,onChange:e=>p(e.target.value),onKeyDown:e=>{"Enter"===e.key&&h()}}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Create a new folder to organize your files"})]})}),(0,a.jsxs)(U.DialogFooter,{children:[(0,a.jsx)(o.Button,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),(0,a.jsxs)(o.Button,{onClick:h,disabled:!x.trim(),children:[(0,a.jsx)(T.default,{className:"h-4 w-4 mr-2"}),"Create Folder"]})]})]})}),(0,a.jsx)(U.Dialog,{open:u,onOpenChange:m,children:(0,a.jsxs)(U.DialogContent,{children:[(0,a.jsx)(U.DialogHeader,{children:(0,a.jsx)(U.DialogTitle,{children:"Share Files"})}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate a shareable link for selected files"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(z.Label,{children:"Share Link"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(O.Input,{readOnly:!0,value:"https://files.example.com/share/abc123xyz",className:"font-mono text-sm"}),(0,a.jsx)(o.Button,{size:"sm",children:(0,a.jsx)(A.Link,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(z.Label,{children:"Access Control"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.Button,{variant:"outline",size:"sm",className:"flex-1",children:[(0,a.jsx)(E.Users,{className:"h-4 w-4 mr-2"}),"Anyone with link"]}),(0,a.jsxs)(o.Button,{variant:"outline",size:"sm",className:"flex-1",children:[(0,a.jsx)($.Lock,{className:"h-4 w-4 mr-2"}),"Password protected"]})]})]})]}),(0,a.jsxs)(U.DialogFooter,{children:[(0,a.jsx)(o.Button,{variant:"outline",onClick:()=>m(!1),children:"Close"}),(0,a.jsxs)(o.Button,{children:[(0,a.jsx)(I.Share2,{className:"h-4 w-4 mr-2"}),"Copy Link"]})]})]})})]})}var H=e.i(351845),L=e.i(10691),q=e.i(524262),G=e.i(4993),_=e.i(996517),K=e.i(67087),Q=e.i(568259),Q=Q,W=e.i(315185),X=e.i(173416),Z=e.i(240243),J=e.i(711798),Y=e.i(11819),Y=Y,ee=e.i(706547),es=e.i(736503),ea=e.i(791174),et=e.i(135369),el=e.i(183194);function er(){let{stats:e,loading:r,refetch:i}=(0,L.useStorageStats)(),{toast:n}=(0,G.useToast)(),[d,c]=(0,t.useState)("grid"),[u,m]=(0,t.useState)({field:"name",order:"asc"}),[x,p]=(0,t.useState)(""),[h,f]=(0,t.useState)("all"),[j,b]=(0,t.useState)(!1),w=(0,t.useCallback)(()=>{b(!0)},[]),C=(0,t.useCallback)(()=>{n({title:"Upload successful",description:"Files have been uploaded successfully.",type:"success"}),i?.()},[i,n]),D=(0,t.useCallback)(async e=>{let a=new FormData;(e instanceof FileList?Array.from(e):e).forEach(e=>{a.append("files",e)});try{let e=s.default.env.NEXT_PUBLIC_API_URL||"http://localhost:14000",t=localStorage.getItem("accessToken"),l={};t&&(l.Authorization=`Bearer ${t}`);let r=await fetch(`${e}/api/files/upload/bulk`,{method:"POST",headers:l,body:a,credentials:"include"});if(!r.ok){let e=await r.json().catch(()=>({}));throw Error(e.message||`Upload failed with status ${r.status}`)}let i=await r.json();return C(),i}catch(e){throw n({title:"Upload failed",description:e instanceof Error?e.message:"An error occurred during upload",type:"error"}),e}},[C,n]),T=(0,t.useCallback)(()=>{n({title:"Folder created",description:"New folder has been created successfully.",type:"success"}),i?.()},[i,n]),I=(0,t.useCallback)(()=>{n({title:"Download started",description:"Your files are being downloaded.",type:"info"})},[n]),M=(0,t.useCallback)(()=>{n({title:"Share link created",description:"Share link has been copied to clipboard.",type:"success"})},[n]);return(0,t.useEffect)(()=>{let e=e=>{if(e.ctrlKey&&"u"===e.key&&(e.preventDefault(),b(!0)),e.ctrlKey&&"f"===e.key){e.preventDefault();let s=document.querySelector('input[placeholder*="Search"]');s?.focus()}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-900 dark:to-gray-900",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(W.FolderOpen,{className:"h-6 w-6 text-primary"}),(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"File Manager"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Quáº£n lÃ½ tá»‡p tin vÃ  tÃ i nguyÃªn media cá»§a báº¡n"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:()=>{i?.()},disabled:r,children:[(0,a.jsx)(ea.RefreshCw,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]}),(0,a.jsxs)(o.Button,{variant:"outline",size:"sm",onClick:w,children:[(0,a.jsx)(S.Upload,{className:"h-4 w-4 mr-2"}),"Upload"]}),(0,a.jsxs)(et.DropdownMenu,{children:[(0,a.jsx)(et.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(o.Button,{variant:"outline",size:"sm",children:[(0,a.jsx)(ee.Settings,{className:"h-4 w-4 mr-2"}),"Settings"]})}),(0,a.jsxs)(et.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,a.jsx)(et.DropdownMenuLabel,{children:"File Manager Settings"}),(0,a.jsx)(et.DropdownMenuSeparator,{}),(0,a.jsxs)(et.DropdownMenuItem,{children:[(0,a.jsx)(S.Upload,{className:"h-4 w-4 mr-2"}),"Upload Settings"]}),(0,a.jsxs)(et.DropdownMenuItem,{children:[(0,a.jsx)(es.Folder,{className:"h-4 w-4 mr-2"}),"Default Folder"]}),(0,a.jsxs)(et.DropdownMenuItem,{children:[(0,a.jsx)(F.Trash2,{className:"h-4 w-4 mr-2"}),"Trash Settings"]})]})]})]})]})}),!r&&e&&(0,a.jsx)("div",{className:"px-6 py-6 bg-muted/30",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsx)(g,{totalSize:e.totalSize,totalFiles:e.totalFiles,storageLimit:0x280000000,filesByType:e.filesByType}),(0,a.jsx)(V,{onUpload:w,onCreateFolder:T,onBulkDownload:I,onShare:M})]}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(k,{limit:8})})]})}),(0,a.jsx)("div",{className:"px-6 py-4 border-b bg-background",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-1 max-w-md",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(B.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(O.Input,{placeholder:"Search files and folders...",value:x,onChange:e=>p(e.target.value),className:"pl-9"})]})}),(0,a.jsxs)(el.Select,{defaultValue:"all",children:[(0,a.jsxs)(el.SelectTrigger,{className:"w-32",children:[(0,a.jsx)(X.Filter,{className:"h-4 w-4 mr-2"}),(0,a.jsx)(el.SelectValue,{placeholder:"Filter"})]}),(0,a.jsxs)(el.SelectContent,{children:[(0,a.jsx)(el.SelectItem,{value:"all",children:"All Files"}),(0,a.jsx)(el.SelectItem,{value:"images",children:"Images"}),(0,a.jsx)(el.SelectItem,{value:"videos",children:"Videos"}),(0,a.jsx)(el.SelectItem,{value:"documents",children:"Documents"})]})]}),(0,a.jsxs)(el.Select,{value:`${u.field}-${u.order}`,onValueChange:e=>{let[s,a]=e.split("-");m({field:s,order:a})},children:[(0,a.jsxs)(el.SelectTrigger,{className:"w-40",children:[(0,a.jsx)(Y.default,{className:"h-4 w-4 mr-2"}),(0,a.jsx)(el.SelectValue,{})]}),(0,a.jsxs)(el.SelectContent,{children:[(0,a.jsx)(el.SelectItem,{value:"name-asc",children:"Name (A-Z)"}),(0,a.jsx)(el.SelectItem,{value:"name-desc",children:"Name (Z-A)"}),(0,a.jsx)(el.SelectItem,{value:"date-desc",children:"Newest First"}),(0,a.jsx)(el.SelectItem,{value:"date-asc",children:"Oldest First"}),(0,a.jsx)(el.SelectItem,{value:"size-desc",children:"Largest First"}),(0,a.jsx)(el.SelectItem,{value:"size-asc",children:"Smallest First"})]})]}),(0,a.jsx)(K.Separator,{orientation:"vertical",className:"h-8"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 border rounded-md p-1",children:[(0,a.jsx)(o.Button,{variant:"grid"===d?"default":"ghost",size:"sm",onClick:()=>c("grid"),className:"h-8 w-8 p-0",children:(0,a.jsx)(Z.Grid3x3,{className:"h-4 w-4"})}),(0,a.jsx)(o.Button,{variant:"list"===d?"default":"ghost",size:"sm",onClick:()=>c("list"),className:"h-8 w-8 p-0",children:(0,a.jsx)(J.List,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsxs)(_.Tabs,{value:h,onValueChange:f,className:"h-full flex flex-col",children:[(0,a.jsx)("div",{className:"px-6 border-b",children:(0,a.jsxs)(_.TabsList,{className:"h-12",children:[(0,a.jsxs)(_.TabsTrigger,{value:"all",className:"gap-2",children:[(0,a.jsx)(Q.default,{className:"h-4 w-4"}),"All Files"]}),(0,a.jsxs)(_.TabsTrigger,{value:"recent",className:"gap-2",children:[(0,a.jsx)(y.FileText,{className:"h-4 w-4"}),"Recent"]}),(0,a.jsxs)(_.TabsTrigger,{value:"images",className:"gap-2",children:[(0,a.jsx)(v.Image,{className:"h-4 w-4"}),"Images"]}),(0,a.jsxs)(_.TabsTrigger,{value:"videos",className:"gap-2",children:[(0,a.jsx)(N.Video,{className:"h-4 w-4"}),"Videos"]}),(0,a.jsxs)(_.TabsTrigger,{value:"trash",className:"gap-2",children:[(0,a.jsx)(F.Trash2,{className:"h-4 w-4"}),"Trash"]})]})}),(0,a.jsx)(_.TabsContent,{value:"all",className:"flex-1 mt-0 p-6 overflow-auto",children:(0,a.jsx)(l.FileManager,{viewMode:d,sortBy:u,searchQuery:x})}),(0,a.jsx)(_.TabsContent,{value:"recent",className:"flex-1 mt-0 p-6 overflow-auto",children:(0,a.jsx)(l.FileManager,{viewMode:d,sortBy:{field:"date",order:"desc"},searchQuery:x,limit:50})}),(0,a.jsx)(_.TabsContent,{value:"images",className:"flex-1 mt-0 p-6 overflow-auto",children:(0,a.jsx)(l.FileManager,{viewMode:d,sortBy:u,searchQuery:x,filter:{type:q.FileType.IMAGE}})}),(0,a.jsx)(_.TabsContent,{value:"videos",className:"flex-1 mt-0 p-6 overflow-auto",children:(0,a.jsx)(l.FileManager,{viewMode:d,sortBy:u,searchQuery:x,filter:{type:q.FileType.VIDEO}})}),(0,a.jsx)(_.TabsContent,{value:"trash",className:"flex-1 mt-0 p-6 overflow-auto",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(F.Trash2,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Trash is Empty"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Deleted files will appear here"})]})})]})}),(0,a.jsx)(H.UploadDialog,{open:j,onOpenChange:b,onUpload:D,onUploadSuccess:C})]})}e.s(["default",()=>er],890178)}]);