(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,519926,e=>{"use strict";let t=(0,e.i(930702).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["default",()=>t])},660179,e=>{"use strict";var t=e.i(519926);e.s(["EyeOff",()=>t.default])},473109,e=>{"use strict";var t=e.i(194970);e.s(["Maximize2",()=>t.default])},799777,e=>{"use strict";var t=e.i(22213);e.s(["Pin",()=>t.default])},562094,e=>{"use strict";var t=e.i(137120);e.s(["MoreHorizontal",()=>t.default])},137120,e=>{"use strict";let t=(0,e.i(930702).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["default",()=>t])},698094,e=>{"use strict";let t=(0,e.i(930702).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["default",()=>t])},766981,e=>{"use strict";var t=e.i(698094);e.s(["ChevronUp",()=>t.default])},194970,e=>{"use strict";let t=(0,e.i(930702).default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);e.s(["default",()=>t])},22213,e=>{"use strict";let t=(0,e.i(930702).default)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);e.s(["default",()=>t])},368848,940432,e=>{"use strict";var t=e.i(930702);let l=(0,t.default)("pin-off",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]);e.s(["default",()=>l],368848);let s=(0,t.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["default",()=>s],940432)},450681,877589,419428,332721,923198,558851,e=>{"use strict";var t=e.i(44990),l=e.i(403055),s=e.i(885205),a=e.i(137651),r=e.i(172362),n=e.i(702470);class i{static applySorting(e,t){return 0===t.length?e:[...e].sort((e,l)=>{for(let s of t.sort((e,t)=>e.priority-t.priority)){let t=e[s.field],a=l[s.field],r=0;if(0!==(r=null==t&&null==a?0:null==t?-1:null==a?1:"string"==typeof t&&"string"==typeof a?t.localeCompare(a):"number"==typeof t&&"number"==typeof a?t-a:t instanceof Date&&a instanceof Date?t.getTime()-a.getTime():String(t).localeCompare(String(a))))return"desc"===s.direction?-r:r}return 0})}static applyFiltering(e,t){return 0===t.length?e:e.filter(e=>t.every(t=>{let l=e[t.field],s=t.value;switch(t.operator){case"equals":return l===s;case"contains":return String(l).toLowerCase().includes(String(s).toLowerCase());case"startsWith":return String(l).toLowerCase().startsWith(String(s).toLowerCase());case"endsWith":return String(l).toLowerCase().endsWith(String(s).toLowerCase());case"greaterThan":return Number(l)>Number(s);case"lessThan":return Number(l)<Number(s);case"between":return Number(l)>=Number(s)&&Number(l)<=Number(t.value2);case"in":return Array.isArray(s)&&s.includes(l);default:return!0}}))}static getVisibleColumns(e){return e.filter(e=>!e.hide)}static getPinnedColumns(e,t){return e.filter(e=>e.pinned===t&&!e.hide)}static getCenterColumns(e){return e.filter(e=>!e.pinned&&!e.hide)}static generateId(){return Math.random().toString(36).substr(2,9)}static validateCellValue(e,t){if(t.validation)return t.validation(e);switch(t.type){case"number":if(null!=e&&""!==e&&isNaN(Number(e)))return"Must be a valid number";break;case"date":if(e&&!(e instanceof Date)&&isNaN(Date.parse(e)))return"Must be a valid date"}return null}static globalSearch(e,t,l){if(!t.trim())return e;let s=t.toLowerCase();return e.filter(e=>l.some(t=>String(e[t.field]).toLowerCase().includes(s)))}static exportToCsv(e,t,l="export.csv"){let s=this.getVisibleColumns(t),a=new Blob([[s.map(e=>e.headerName).join(","),...e.map(e=>s.map(t=>{let l=String(e[t.field]||"");return l.includes(",")||l.includes('"')?`"${l.replace(/"/g,'""')}"`:l}).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");if(void 0!==r.download){let e=URL.createObjectURL(a);r.setAttribute("href",e),r.setAttribute("download",l),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}}e.s(["TableUtils",()=>i],877589);var c=e.i(696134),d=e.i(183194),o=e.i(340043),u=e.i(888540),m=e.i(173416),x=e.i(606443);let h={text:[{value:"contains",label:"Contains"},{value:"equals",label:"Equals"},{value:"startsWith",label:"Starts with"},{value:"endsWith",label:"Ends with"}],number:[{value:"equals",label:"Equals"},{value:"greaterThan",label:"Greater than"},{value:"lessThan",label:"Less than"},{value:"between",label:"Between"}],date:[{value:"equals",label:"Equals"},{value:"greaterThan",label:"After"},{value:"lessThan",label:"Before"},{value:"between",label:"Between"}],select:[{value:"equals",label:"Equals"},{value:"in",label:"In"}],boolean:[{value:"equals",label:"Equals"}]};function f({columns:e,filters:a,onFiltersChange:r,globalSearch:i,onGlobalSearchChange:f}){let[p,g]=(0,l.useState)(!1),[v,b]=(0,l.useState)({}),j=(0,l.useMemo)(()=>e.filter(e=>!1!==e.filterable),[e]),w=(0,l.useCallback)(e=>{g(e),e||b({})},[]),N=(0,l.useCallback)(()=>{v.field&&v.operator&&void 0!==v.value&&""!==v.value&&(r([...a,{field:v.field,operator:v.operator,value:v.value,value2:v.value2}]),b({}),g(!1))},[v,a,r]),C=(0,l.useCallback)(e=>{r(a.filter((t,l)=>l!==e))},[a,r]);(0,l.useCallback)((e,t)=>{r(a.map((l,s)=>s===e?{...l,...t}:l))},[a,r]);let y=(0,l.useCallback)(t=>{let l=e.find(e=>e.field===t);return l?.type||"text"},[e]),S=(0,l.useCallback)(e=>h[e]||h.text,[]);return(0,t.jsxs)("div",{className:"space-y-3 sm:space-y-4 p-3 sm:p-4 border-b bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4",children:[(0,t.jsx)(c.Input,{placeholder:"Global search...",value:i,onChange:e=>f(e.target.value),className:"flex-1 sm:max-w-md text-sm"}),(0,t.jsxs)(o.Popover,{open:p,onOpenChange:w,children:[(0,t.jsx)(o.PopoverTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",className:"w-full sm:w-auto text-xs sm:text-sm",children:[(0,t.jsx)(x.Plus,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Add Filter"]})}),(0,t.jsx)(o.PopoverContent,{className:"w-[95vw] sm:w-96 max-w-md",children:(0,t.jsxs)("div",{className:"space-y-3 sm:space-y-4",children:[(0,t.jsx)("h4",{className:"font-medium text-sm sm:text-base",children:"Add Filter"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,t.jsxs)(d.Select,{value:v.field,onValueChange:e=>b({...v,field:e,operator:void 0,value:void 0}),children:[(0,t.jsx)(d.SelectTrigger,{className:"text-xs sm:text-sm",children:(0,t.jsx)(d.SelectValue,{placeholder:"Column"})}),(0,t.jsx)(d.SelectContent,{children:j.map(e=>(0,t.jsx)(d.SelectItem,{value:String(e.field),className:"text-xs sm:text-sm",children:e.headerName},String(e.field)))})]}),v.field&&(0,t.jsxs)(d.Select,{value:v.operator,onValueChange:e=>b({...v,operator:e,value:void 0}),children:[(0,t.jsx)(d.SelectTrigger,{className:"text-xs sm:text-sm",children:(0,t.jsx)(d.SelectValue,{placeholder:"Operator"})}),(0,t.jsx)(d.SelectContent,{children:S(y(v.field)).map(e=>(0,t.jsx)(d.SelectItem,{value:e.value,className:"text-xs sm:text-sm",children:e.label},e.value))})]})]}),v.field&&v.operator&&(0,t.jsx)("div",{children:(()=>{if(!v.field)return null;let l=e.find(e=>e.field===v.field),s=y(v.field);return"select"===s&&l?.filterOptions?(0,t.jsxs)(d.Select,{value:v.value,onValueChange:e=>b({...v,value:e}),children:[(0,t.jsx)(d.SelectTrigger,{className:"w-full text-xs sm:text-sm",children:(0,t.jsx)(d.SelectValue,{placeholder:"Select value"})}),(0,t.jsx)(d.SelectContent,{children:l.filterOptions.map(e=>(0,t.jsx)(d.SelectItem,{value:e,className:"text-xs sm:text-sm",children:e},e))})]}):"boolean"===s?(0,t.jsxs)(d.Select,{value:void 0!==v.value?String(v.value):void 0,onValueChange:e=>b({...v,value:"true"===e}),children:[(0,t.jsx)(d.SelectTrigger,{className:"w-full text-xs sm:text-sm",children:(0,t.jsx)(d.SelectValue,{placeholder:"Select value"})}),(0,t.jsxs)(d.SelectContent,{children:[(0,t.jsx)(d.SelectItem,{value:"true",className:"text-xs sm:text-sm",children:"True"}),(0,t.jsx)(d.SelectItem,{value:"false",className:"text-xs sm:text-sm",children:"False"})]})]}):(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsx)(c.Input,{type:"number"===s?"number":"date"===s?"date":"text",value:v.value||"",onChange:e=>b({...v,value:e.target.value}),className:"w-full text-xs sm:text-sm",placeholder:"Value"}),"between"===v.operator&&(0,t.jsx)(c.Input,{type:"number"===s?"number":"date"===s?"date":"text",value:v.value2||"",onChange:e=>b({...v,value2:e.target.value}),className:"w-full text-xs sm:text-sm",placeholder:"To"})]})})()}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2",children:[(0,t.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>g(!1),className:"w-full sm:w-auto text-xs sm:text-sm",children:"Cancel"}),(0,t.jsx)(s.Button,{size:"sm",onClick:N,disabled:!v.field||!v.operator||void 0===v.value||""===v.value,className:"w-full sm:w-auto text-xs sm:text-sm",children:"Add"})]})]})})]})]}),a.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 items-center",children:[(0,t.jsxs)("span",{className:"text-xs sm:text-sm text-gray-600 flex items-center flex-shrink-0",children:[(0,t.jsx)(m.Filter,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Filters:"]}),a.map((l,s)=>{let a=e.find(e=>e.field===l.field);return(0,t.jsxs)(n.Badge,{variant:"secondary",className:"flex items-center gap-1 text-[10px] sm:text-xs",children:[(0,t.jsx)("span",{className:"font-medium",children:a?.headerName}),(0,t.jsx)("span",{className:"opacity-75 hidden sm:inline",children:h[y(l.field)]?.find(e=>e.value===l.operator)?.label}),(0,t.jsx)("span",{className:"truncate max-w-[80px] sm:max-w-none",children:String(l.value)}),l.value2&&(0,t.jsxs)("span",{className:"hidden sm:inline",children:["- ",String(l.value2)]}),(0,t.jsx)("button",{onClick:()=>C(s),className:"ml-1 hover:bg-gray-300 rounded-full p-0.5",children:(0,t.jsx)(u.X,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3"})})]},s)}),a.length>0&&(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>r([]),className:"h-5 sm:h-6 px-1.5 sm:px-2 text-[10px] sm:text-xs",children:"Clear All"})]})]})}e.s(["FilterBar",()=>f],419428);var p=e.i(135369),g=e.i(766981),v=e.i(784386),b=e.i(562094),j=e.i(799777),w=(e.i(368848),e.i(660179)),N=e.i(473109),C=e.i(541428);function y({column:e,sortDirection:a,sortPriority:r,onSort:n,onPin:i,onHide:c,onAutoSize:d,onResize:o,width:u,isResizing:m}){let[x,h]=(0,l.useState)(!1),f=(0,l.useRef)(null),y=(0,l.useRef)(0),S=(0,l.useRef)(0);return(0,l.useEffect)(()=>{let e=e=>{if(!x)return;let t=e.clientX-y.current,l=Math.max(50,S.current+t);o?.(l)},t=()=>{h(!1)};return x&&(document.addEventListener("mousemove",e),document.addEventListener("mouseup",t)),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[x,o]),(0,t.jsxs)("div",{className:(0,C.cn)("group relative flex items-center h-full px-3 border-r border-gray-200 bg-gray-50 select-none",e.headerClass,e.sortable&&"cursor-pointer hover:bg-gray-100","left"===e.pinned&&"border-r-2 border-blue-200 bg-blue-50","right"===e.pinned&&"border-l-2 border-blue-200 bg-blue-50"),style:{width:u},onClick:()=>{let t;e.sortable&&(t="asc"===a?"desc":"desc"===a?null:"asc",n?.(t))},children:[(0,t.jsxs)("div",{className:"flex items-center justify-between w-full min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,t.jsx)("span",{className:"font-medium text-sm truncate",children:e.headerName}),void 0!==r&&r>0&&(0,t.jsx)("span",{className:"text-xs bg-blue-100 text-blue-800 px-1 rounded",children:r+1})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0",children:[e.sortable?"asc"===a?(0,t.jsx)(g.ChevronUp,{className:"w-4 h-4"}):"desc"===a?(0,t.jsx)(v.ChevronDown,{className:"w-4 h-4"}):(0,t.jsxs)("div",{className:"flex flex-col opacity-50",children:[(0,t.jsx)(g.ChevronUp,{className:"w-3 h-3 -mb-1"}),(0,t.jsx)(v.ChevronDown,{className:"w-3 h-3"})]}):null,(0,t.jsxs)(p.DropdownMenu,{children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100",onClick:e=>e.stopPropagation(),children:(0,t.jsx)(b.MoreHorizontal,{className:"w-4 h-4"})})}),(0,t.jsxs)(p.DropdownMenuContent,{align:"end",children:[e.sortable&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.DropdownMenuItem,{onClick:()=>n?.("asc"),children:[(0,t.jsx)(g.ChevronUp,{className:"w-4 h-4 mr-2"}),"Sort Ascending"]}),(0,t.jsxs)(p.DropdownMenuItem,{onClick:()=>n?.("desc"),children:[(0,t.jsx)(v.ChevronDown,{className:"w-4 h-4 mr-2"}),"Sort Descending"]}),a&&(0,t.jsx)(p.DropdownMenuItem,{onClick:()=>n?.(null),children:"Clear Sort"}),(0,t.jsx)(p.DropdownMenuSeparator,{})]}),(0,t.jsxs)(p.DropdownMenuItem,{onClick:()=>i?.("left"===e.pinned?null:"left"),children:[(0,t.jsx)(j.Pin,{className:"w-4 h-4 mr-2 rotate-45"}),"left"===e.pinned?"Unpin":"Pin Left"]}),(0,t.jsxs)(p.DropdownMenuItem,{onClick:()=>i?.("right"===e.pinned?null:"right"),children:[(0,t.jsx)(j.Pin,{className:"w-4 h-4 mr-2 -rotate-45"}),"right"===e.pinned?"Unpin":"Pin Right"]}),(0,t.jsx)(p.DropdownMenuSeparator,{}),e.resizable&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.DropdownMenuItem,{onClick:d,children:[(0,t.jsx)(N.Maximize2,{className:"w-4 h-4 mr-2"}),"Auto Size Column"]}),(0,t.jsx)(p.DropdownMenuSeparator,{})]}),(0,t.jsxs)(p.DropdownMenuItem,{onClick:c,children:[(0,t.jsx)(w.EyeOff,{className:"w-4 h-4 mr-2"}),"Hide Column"]})]})]})]})]}),e.resizable&&(0,t.jsx)("div",{ref:f,className:(0,C.cn)("absolute right-0 top-0 w-1 h-full cursor-col-resize hover:bg-blue-400 z-10",x&&"bg-blue-500"),onMouseDown:t=>{e.resizable&&(h(!0),y.current=t.clientX,S.current=u,t.preventDefault())},onClick:e=>e.stopPropagation()})]})}e.s(["ColumnHeader",()=>y],332721);var S=e.i(844596);function k({column:e,data:a,value:n,rowIndex:o,isEditing:m,onStartEdit:x,onSave:h,onCancel:f,isSelected:p,className:g}){let[v,b]=(0,l.useState)(n),[j,w]=(0,l.useState)(null),N=(0,l.useRef)(null);(0,l.useEffect)(()=>{m&&N.current&&(N.current.focus(),N.current.select())},[m]),(0,l.useEffect)(()=>{b(n)},[n]);let y=()=>{let t=i.validateCellValue(v,e);t?w(t):(w(null),h(v))},k=()=>{b(n),w(null),f()},D=e=>{"Enter"===e.key?y():"Escape"===e.key&&k()},M=l=>{if(null==l)return(0,t.jsx)("span",{className:"text-gray-400",children:"â€”"});switch(e.type){case"boolean":return(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(r.Checkbox,{checked:!!l,disabled:!0})});case"date":if(l instanceof Date)return l.toLocaleDateString();if("string"==typeof l){let e=new Date(l);return isNaN(e.getTime())?l:e.toLocaleDateString()}return String(l);case"number":return"number"==typeof l?l.toLocaleString():l;default:return String(l)}},z="function"==typeof e.cellClass?e.cellClass(a):e.cellClass;return m?(0,t.jsxs)("div",{className:(0,C.cn)("h-full px-3 py-2 border-r border-gray-200 bg-white relative flex items-center",p&&"bg-blue-50",z,g),children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 w-full",children:[(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(()=>{if(e.cellEditor){let t={value:v,data:a,field:e.field,rowIndex:o,colDef:e,onValueChange:b,onCancel:k,onSave:y};return e.cellEditor(t)}switch(e.type){case"boolean":return(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(r.Checkbox,{checked:!!v,onCheckedChange:e=>b(e),autoFocus:!0})});case"select":if(e.filterOptions)return(0,t.jsxs)(d.Select,{value:v,onValueChange:b,children:[(0,t.jsx)(d.SelectTrigger,{className:"h-8",children:(0,t.jsx)(d.SelectValue,{})}),(0,t.jsx)(d.SelectContent,{children:e.filterOptions.map(e=>(0,t.jsx)(d.SelectItem,{value:e,children:e},e))})]});break;case"number":return(0,t.jsx)(c.Input,{ref:N,type:"number",value:v||"",onChange:e=>b(e.target.value),onKeyDown:D,className:"h-8"});case"date":return(0,t.jsx)(c.Input,{ref:N,type:"date",value:v instanceof Date?v.toISOString().split("T")[0]:v||"",onChange:e=>b(e.target.value),onKeyDown:D,className:"h-8"});default:return(0,t.jsx)(c.Input,{ref:N,type:"text",value:v||"",onChange:e=>b(e.target.value),onKeyDown:D,className:"h-8"})}return(0,t.jsx)(c.Input,{ref:N,type:"text",value:v||"",onChange:e=>b(e.target.value),onKeyDown:D,className:"h-8"})})()}),(0,t.jsxs)("div",{className:"flex gap-1 ml-2 flex-shrink-0",children:[(0,t.jsx)(s.Button,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-green-600 hover:bg-green-100",onClick:y,children:(0,t.jsx)(S.Check,{className:"w-3 h-3"})}),(0,t.jsx)(s.Button,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-red-600 hover:bg-red-100",onClick:k,children:(0,t.jsx)(u.X,{className:"w-3 h-3"})})]})]}),j&&(0,t.jsx)("div",{className:"absolute top-full left-0 z-10 mt-1 text-xs text-red-600 bg-red-50 border border-red-200 rounded px-2 py-1",children:j})]}):(0,t.jsx)("div",{className:(0,C.cn)("h-full px-3 py-2 border-r border-gray-200 bg-white cursor-default flex items-center overflow-hidden",e.editable&&"hover:bg-gray-50 cursor-pointer",p&&"bg-blue-50",z,g),onClick:e.editable?x:void 0,onDoubleClick:e.editable?x:void 0,title:(()=>{if(null==n)return"";if(e.valueGetter){let t=e.valueGetter(a);if(null==t)return"";switch(e.type){case"boolean":return t?"True":"False";case"date":if(t instanceof Date)return t.toLocaleDateString();if("string"==typeof t){let e=new Date(t);return isNaN(e.getTime())?t:e.toLocaleDateString()}return String(t);case"number":return"number"==typeof t?t.toLocaleString():String(t);default:return String(t)}}switch(e.type){case"boolean":return n?"True":"False";case"date":if(n instanceof Date)return n.toLocaleDateString();if("string"==typeof n){let e=new Date(n);return isNaN(e.getTime())?n:e.toLocaleDateString()}return String(n);case"number":return"number"==typeof n?n.toLocaleString():String(n);default:return String(n)}})(),children:(0,t.jsx)("div",{className:"truncate w-full min-w-0",children:(()=>{if(e.cellRenderer){let l=e.cellRenderer({value:n,data:a,field:e.field,rowIndex:o,colDef:e});return"string"==typeof l||"number"==typeof l?(0,t.jsx)("span",{className:"truncate block",children:l}):l}return e.valueGetter?M(e.valueGetter(a)):M(n)})()})})}e.s(["TableCell",()=>k],923198);var D=e.i(897711),M=e.i(138227),z=e.i(706547),T=e.i(940432);e.s(["RotateCcw",()=>T.default],558851);var T=T,E=e.i(404210);function B({columns:e,data:c,config:d={},loading:o=!1,onRowSelect:u,onRowEdit:m,onRowCreate:h,onRowDelete:p,onSort:g,onFilter:v,className:b,height:j=600}){let[S,B]=(0,l.useState)(e),[I,L]=(0,l.useState)([]),[A,V]=(0,l.useState)([]),[P,F]=(0,l.useState)(""),[R,q]=(0,l.useState)(new Set),[O,H]=(0,l.useState)(null),[U,G]=(0,l.useState)(!1),[K,W]=(0,l.useState)(!1),[X,$]=(0,l.useState)({}),{enableSorting:J=!0,enableFiltering:Q=!0,enableColumnPinning:Y=!0,enableColumnResizing:Z=!0,enableColumnHiding:_=!0,enableRowSelection:ee=!0,enableInlineEditing:et=!0,enableDialogEditing:el=!1,enableRowDeletion:es=!0,rowHeight:ea=40,headerHeight:er=40,showToolbar:en=!0,showPagination:ei=!1,pageSize:ec=50,virtualScrolling:ed=!1}=d;(0,l.useEffect)(()=>{let e={};S.forEach(t=>{e[String(t.field)]=t.width||150}),$(e)},[S]);let eo=(0,l.useMemo)(()=>{let e=[...c];return P&&(e=i.globalSearch(e,P,S)),A.length>0&&(e=i.applyFiltering(e,A)),I.length>0&&(e=i.applySorting(e,I)),e},[c,P,A,I,S]);(0,l.useEffect)(()=>{if(u){let e=setTimeout(()=>{u(eo.filter(e=>R.has(e.id)))},0);return()=>clearTimeout(e)}},[R,eo,u]),(0,l.useEffect)(()=>{if(g&&I.length>=0){let e=setTimeout(()=>{g(I)},0);return()=>clearTimeout(e)}},[I,g]),(0,l.useEffect)(()=>{if(v){let e=setTimeout(()=>{v(A)},0);return()=>clearTimeout(e)}},[A,v]);let eu=(0,l.useMemo)(()=>i.getVisibleColumns(S),[S]),em=(0,l.useMemo)(()=>i.getPinnedColumns(S,"left"),[S]),ex=(0,l.useMemo)(()=>i.getPinnedColumns(S,"right"),[S]),eh=(0,l.useMemo)(()=>i.getCenterColumns(S),[S]),ef=(0,l.useCallback)((e,t)=>{L(l=>{let s;if(null===t)s=l.filter(t=>t.field!==e);else{let a=l.findIndex(t=>t.field===e);a>=0?(s=[...l])[a]={...s[a],direction:t}:s=[...l,{field:String(e),direction:t,priority:l.length}]}return s})},[]),ep=(0,l.useCallback)((e,t)=>{B(l=>l.map(l=>l.field===e?{...l,pinned:t}:l))},[]),eg=(0,l.useCallback)(e=>{B(t=>t.map(t=>t.field===e?{...t,hide:!0}:t))},[]),ev=(0,l.useCallback)((e,t)=>{$(l=>({...l,[String(e)]:t}))},[]),eb=(0,l.useCallback)(e=>{let t=Math.max(100,Math.min(300,10*String(e).length+80));ev(e,t)},[ev]),ej=(0,l.useCallback)(()=>{eu.forEach(e=>{eb(e.field)})},[eu,eb]),ew=(0,l.useCallback)((e,t)=>{q(l=>{let s=new Set(l);return t?s.add(e):s.delete(e),s})},[]),eN=(0,l.useCallback)(e=>{e?q(new Set(eo.map(e=>e.id))):q(new Set)},[eo]),eC=(0,l.useCallback)(async(e,t,l)=>{let s=eo.find(t=>t.id===e);if(!s)return!1;let a=await m?.(s,t,l);return a&&H(null),a||!1},[eo,m]),ey=(0,l.useCallback)(async()=>{let e=eo.filter(e=>R.has(e.id));await p?.(e)&&(q(new Set),W(!1))},[eo,R,p]),eS=(0,l.useCallback)(()=>{i.exportToCsv(eo,eu,"export.csv")},[eo,eu]),ek=(0,l.useCallback)(e=>{V(e)},[]),eD=(0,l.useCallback)(e=>I.find(t=>t.field===e),[I]),eM=(0,l.useCallback)((e,l=!1)=>e.map(e=>{let l=eD(e.field),s=X[String(e.field)]||e.width||150;return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{style:{height:er},children:(0,t.jsx)(y,{column:e,sortDirection:l?.direction,sortPriority:l?.priority,onSort:t=>ef(e.field,t),onPin:t=>ep(e.field,t),onHide:()=>eg(e.field),onAutoSize:()=>eb(e.field),onResize:t=>ev(e.field,t),width:s})}),eo.map((l,s)=>{let a=e.valueGetter?e.valueGetter(l):l[e.field],r=O?.rowId===l.id&&O?.field===e.field,n=R.has(l.id);return(0,t.jsx)("div",{style:{height:ea},children:(0,t.jsx)(k,{column:e,data:l,value:a,rowIndex:s,isEditing:r,isSelected:n,onStartEdit:()=>H({rowId:l.id,field:e.field}),onSave:t=>eC(l.id,e.field,t),onCancel:()=>H(null)})},`${l.id}-${String(e.field)}`)})]},String(e.field))}),[eo,I,X,er,ea,O,R,eD,ef,ep,eg,eb,ev,eC]);return o?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,t.jsxs)("div",{className:(0,C.cn)("border rounded-lg overflow-hidden bg-white",b),children:[en&&(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 p-3 sm:p-4 border-b bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[ee&&R.size>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Badge,{variant:"secondary",className:"text-xs sm:text-sm",children:[R.size," selected"]}),es&&(0,t.jsxs)(s.Button,{variant:"destructive",size:"sm",onClick:()=>W(!0),className:"text-xs sm:text-sm",children:[(0,t.jsx)(M.Trash2,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Delete"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Del"})]})]}),h&&(0,t.jsxs)(s.Button,{size:"sm",onClick:()=>h({}),className:"text-xs sm:text-sm",children:[(0,t.jsx)(x.Plus,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Add Row"}),(0,t.jsx)("span",{className:"sm:hidden",children:"Add"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap w-full sm:w-auto",children:[(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:eS,className:"text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,t.jsx)(D.Download,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Export"}),(0,t.jsx)("span",{className:"sm:hidden",children:"CSV"})]}),(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:ej,className:"text-xs sm:text-sm hidden md:flex",children:[(0,t.jsx)(N.Maximize2,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Auto Size All"]}),(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:()=>G(!0),className:"text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,t.jsx)(z.Settings,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Columns"]})]})]}),Q&&(0,t.jsx)(f,{columns:S,filters:A,onFiltersChange:ek,globalSearch:P,onGlobalSearchChange:F}),(0,t.jsx)("div",{className:"overflow-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",style:{height:j-60*!!en-80*!!Q},children:(0,t.jsxs)("div",{className:"flex min-w-full",children:[ee&&(0,t.jsxs)("div",{className:"flex flex-col flex-shrink-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-center px-3 border-r border-gray-200 bg-gray-50",style:{height:er},children:(0,t.jsx)(r.Checkbox,{checked:R.size===eo.length&&eo.length>0,indeterminate:R.size>0&&R.size<eo.length,onCheckedChange:eN})}),eo.map(e=>(0,t.jsx)("div",{className:"flex items-center justify-center px-3 border-r border-b border-gray-200 bg-white",style:{height:ea},children:(0,t.jsx)(r.Checkbox,{checked:R.has(e.id),onCheckedChange:t=>ew(e.id,t)})},e.id))]}),em.length>0&&(0,t.jsx)("div",{className:"flex flex-shrink-0 border-r-2 border-blue-200",children:eM(em,!0)}),(0,t.jsx)("div",{className:"flex flex-1 min-w-0",children:eM(eh)}),ex.length>0&&(0,t.jsx)("div",{className:"flex flex-shrink-0 border-l-2 border-blue-200",children:eM(ex,!0)})]})}),(0,t.jsx)(a.Dialog,{open:K,onOpenChange:W,children:(0,t.jsxs)(a.DialogContent,{children:[(0,t.jsx)(a.DialogHeader,{children:(0,t.jsx)(a.DialogTitle,{children:"Confirm Delete"})}),(0,t.jsxs)("p",{children:["Are you sure you want to delete ",R.size," row(s)? This action cannot be undone."]}),(0,t.jsxs)(a.DialogFooter,{children:[(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>W(!1),children:"Cancel"}),(0,t.jsx)(s.Button,{variant:"destructive",onClick:ey,children:"Delete"})]})]})}),(0,t.jsx)(a.Dialog,{open:U,onOpenChange:G,children:(0,t.jsxs)(a.DialogContent,{className:"max-w-md w-[95vw] sm:w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsx)(a.DialogHeader,{children:(0,t.jsx)(a.DialogTitle,{className:"text-base sm:text-lg",children:"Column Settings"})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 pb-2 border-b flex-wrap",children:[(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:()=>{B(e=>e.map(e=>({...e,hide:!1})))},className:"text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,t.jsx)(E.Eye,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Show All"}),(0,t.jsx)("span",{className:"sm:hidden",children:"All"})]}),(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",onClick:()=>{B(e=>e.map(e=>({...e,hide:!0})))},className:"text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,t.jsx)(w.EyeOff,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"Hide All"}),(0,t.jsx)("span",{className:"sm:hidden",children:"None"})]})]}),(0,t.jsx)("div",{className:"space-y-2 overflow-auto flex-1 pr-2",children:S.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,t.jsx)(r.Checkbox,{checked:!e.hide,onCheckedChange:t=>{B(l=>l.map(l=>l.field===e.field?{...l,hide:!t}:l))}}),(0,t.jsx)("span",{className:"text-xs sm:text-sm truncate",children:e.headerName})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 ml-2",children:["left"===e.pinned&&(0,t.jsx)(n.Badge,{variant:"outline",className:"text-[10px] sm:text-xs",children:"Left"}),"right"===e.pinned&&(0,t.jsx)(n.Badge,{variant:"outline",className:"text-[10px] sm:text-xs",children:"Right"})]})]},String(e.field)))}),(0,t.jsxs)(a.DialogFooter,{className:"flex-shrink-0 flex-col sm:flex-row gap-2",children:[(0,t.jsxs)(s.Button,{variant:"outline",onClick:()=>{B(e),G(!1)},className:"w-full sm:w-auto text-xs sm:text-sm",children:[(0,t.jsx)(T.default,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1"}),"Reset"]}),(0,t.jsx)(s.Button,{onClick:()=>G(!1),className:"w-full sm:w-auto text-xs sm:text-sm",children:"Done"})]})]})})]})}e.s(["AdvancedTable",()=>B],450681)}]);