{"version":3,"sources":["turbopack:///[project]/frontend/src/components/page-builder/blocks/StatsBlock.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Edit3, Trash2, Plus, X, TrendingUp, Users, Star, Target } from 'lucide-react';\nimport { PageBlock, StatsBlockContent } from '@/types/page-builder';\n\ninterface StatsBlockProps {\n  block: PageBlock;\n  isEditable?: boolean;\n  onUpdate?: (content: any, style?: any) => void;\n  onDelete?: () => void;\n}\n\nconst DEFAULT_ICONS = {\n  users: Users,\n  star: Star,\n  target: Target,\n  trending: TrendingUp,\n};\n\nexport const StatsBlock: React.FC<StatsBlockProps> = ({\n  block,\n  isEditable = false,\n  onUpdate,\n  onDelete,\n}) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [content, setContent] = useState<StatsBlockContent>(block.content);\n\n  const handleSave = () => {\n    onUpdate?.(content, block.style);\n    setIsEditing(false);\n  };\n\n  const handleCancel = () => {\n    setContent(block.content);\n    setIsEditing(false);\n  };\n\n  const addStat = () => {\n    setContent(prev => ({\n      ...prev,\n      stats: [\n        ...(prev.stats || []),\n        {\n          value: '100+',\n          label: 'New Stat',\n          description: '',\n          icon: 'star'\n        }\n      ]\n    }));\n  };\n\n  const removeStat = (index: number) => {\n    setContent(prev => ({\n      ...prev,\n      stats: prev.stats?.filter((_, i) => i !== index) || []\n    }));\n  };\n\n  const updateStat = (index: number, field: string, value: any) => {\n    setContent(prev => ({\n      ...prev,\n      stats: prev.stats?.map((stat, i) => \n        i === index ? { ...stat, [field]: value } : stat\n      ) || []\n    }));\n  };\n\n  if (isEditing && isEditable) {\n    return (\n      <div className=\"relative border-2 border-blue-500 rounded-lg p-6\">\n        <div className=\"space-y-6\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Section Title</label>\n              <input\n                type=\"text\"\n                value={content.title || ''}\n                onChange={(e) => setContent(prev => ({ ...prev, title: e.target.value }))}\n                className=\"w-full p-2 border rounded\"\n                placeholder=\"Our Achievement\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Subtitle</label>\n              <input\n                type=\"text\"\n                value={content.subtitle || ''}\n                onChange={(e) => setContent(prev => ({ ...prev, subtitle: e.target.value }))}\n                className=\"w-full p-2 border rounded\"\n                placeholder=\"Numbers that speak for themselves\"\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-1\">Layout</label>\n              <select\n                value={content.layout || 'grid'}\n                onChange={(e) => setContent(prev => ({ ...prev, layout: e.target.value as any }))}\n                className=\"w-full p-2 border rounded\"\n              >\n                <option value=\"grid\">Grid</option>\n                <option value=\"horizontal\">Horizontal</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={content.animated || false}\n                  onChange={(e) => setContent(prev => ({ ...prev, animated: e.target.checked }))}\n                  className=\"mr-2\"\n                />\n                Animated counters\n              </label>\n            </div>\n          </div>\n\n          <div>\n            <div className=\"flex items-center justify-between mb-4\">\n              <label className=\"block text-sm font-medium\">Statistics</label>\n              <button\n                onClick={addStat}\n                className=\"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 flex items-center gap-1\"\n              >\n                <Plus size={14} />\n                Add Stat\n              </button>\n            </div>\n\n            <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n              {content.stats?.map((stat, index) => (\n                <div key={index} className=\"border border-gray-200 rounded p-4\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <h4 className=\"font-medium\">Stat #{index + 1}</h4>\n                    <button\n                      onClick={() => removeStat(index)}\n                      className=\"p-1 bg-red-500 text-white rounded hover:bg-red-600\"\n                    >\n                      <X size={14} />\n                    </button>\n                  </div>\n\n                  <div className=\"grid grid-cols-2 gap-3 mb-3\">\n                    <div>\n                      <label className=\"block text-xs text-gray-600 mb-1\">Value</label>\n                      <input\n                        type=\"text\"\n                        value={stat.value}\n                        onChange={(e) => updateStat(index, 'value', e.target.value)}\n                        className=\"w-full p-2 border rounded text-sm\"\n                        placeholder=\"100+\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs text-gray-600 mb-1\">Label</label>\n                      <input\n                        type=\"text\"\n                        value={stat.label}\n                        onChange={(e) => updateStat(index, 'label', e.target.value)}\n                        className=\"w-full p-2 border rounded text-sm\"\n                        placeholder=\"Happy Customers\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"mb-3\">\n                    <label className=\"block text-xs text-gray-600 mb-1\">Icon</label>\n                    <select\n                      value={stat.icon || 'star'}\n                      onChange={(e) => updateStat(index, 'icon', e.target.value)}\n                      className=\"w-full p-2 border rounded text-sm\"\n                    >\n                      <option value=\"users\">Users</option>\n                      <option value=\"star\">Star</option>\n                      <option value=\"target\">Target</option>\n                      <option value=\"trending\">Trending</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-xs text-gray-600 mb-1\">Description</label>\n                    <textarea\n                      value={stat.description || ''}\n                      onChange={(e) => updateStat(index, 'description', e.target.value)}\n                      className=\"w-full p-2 border rounded text-sm resize-none\"\n                      rows={2}\n                      placeholder=\"Optional description...\"\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"flex gap-2\">\n            <button\n              onClick={handleSave}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n            >\n              Save\n            </button>\n            <button\n              onClick={handleCancel}\n              className=\"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const gridClass = content.layout === 'horizontal' \n    ? 'flex flex-wrap justify-center gap-8' \n    : 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8';\n\n  return (\n    <div\n      className={`relative group py-16 bg-gray-50 ${isEditable ? 'hover:ring-2 hover:ring-blue-300' : ''}`}\n      style={block.style}\n    >\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {(content.title || content.subtitle) && (\n          <div className=\"text-center mb-12\">\n            {content.title && (\n              <h2 className=\"text-3xl md:text-4xl font-bold text-gray-900 mb-4\">\n                {content.title}\n              </h2>\n            )}\n            {content.subtitle && (\n              <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\n                {content.subtitle}\n              </p>\n            )}\n          </div>\n        )}\n\n        <div className={gridClass}>\n          {content.stats?.map((stat, index) => {\n            const IconComponent = DEFAULT_ICONS[stat.icon as keyof typeof DEFAULT_ICONS] || Star;\n            \n            return (\n              <div key={index} className=\"text-center p-6\">\n                <div className=\"flex justify-center mb-4\">\n                  <div className=\"p-3 bg-blue-100 rounded-full\">\n                    <IconComponent className=\"w-8 h-8 text-blue-600\" />\n                  </div>\n                </div>\n                \n                <div className=\"text-4xl md:text-5xl font-bold text-gray-900 mb-2\">\n                  {stat.value}\n                </div>\n                \n                <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">\n                  {stat.label}\n                </h3>\n                \n                {stat.description && (\n                  <p className=\"text-gray-600 text-sm\">\n                    {stat.description}\n                  </p>\n                )}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {isEditable && (\n        <div className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity\">\n          <div className=\"flex gap-1\">\n            <button\n              onClick={() => setIsEditing(true)}\n              className=\"p-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n              title=\"Edit\"\n            >\n              <Edit3 size={16} />\n            </button>\n            <button\n              onClick={onDelete}\n              className=\"p-2 bg-red-500 text-white rounded hover:bg-red-600\"\n              title=\"Delete\"\n            >\n              <Trash2 size={16} />\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};"],"names":[],"mappings":"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"}