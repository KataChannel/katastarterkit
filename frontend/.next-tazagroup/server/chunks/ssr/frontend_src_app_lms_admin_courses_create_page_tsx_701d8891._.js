module.exports=[741753,a=>{"use strict";var b=a.i(321248),c=a.i(53627),d=a.i(235746),e=a.i(975780),f=a.i(202979),g=a.i(478184),h=a.i(441405),i=a.i(466577),j=a.i(516482),k=a.i(973174),l=a.i(723593),m=a.i(363615),n=a.i(434135),o=a.i(651332),p=a.i(234211),q=a.i(144932),r=a.i(785694);function s(){let a=(0,c.useRouter)(),{toast:s}=(0,p.useToast)(),{data:t}=(0,d.useFindMany)("CourseCategory",{select:{id:!0,name:!0},orderBy:{name:"asc"}}),{data:u}=(0,d.useFindMany)("User",{where:{roleType:"GIANGVIEN"},select:{id:!0,firstName:!0,lastName:!0,username:!0}}),[v,{loading:w}]=(0,d.useCreateOne)("Course"),[x,y]=(0,o.useState)({title:"",slug:"",description:"",thumbnail:"",trailer:"",price:"0",level:"BEGINNER",status:"DRAFT",duration:"0",language:"vi",metaTitle:"",metaDescription:"",categoryId:"",instructorId:""}),[z,A]=(0,o.useState)([]),[B,C]=(0,o.useState)([]),[D,E]=(0,o.useState)([]),[F,G]=(0,o.useState)([]),[H,I]=(0,o.useState)(""),[J,K]=(0,o.useState)(""),[L,M]=(0,o.useState)(""),[N,O]=(0,o.useState)(""),P=(a,b)=>{y(c=>({...c,[a]:b}))},Q=a=>a.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),R=a=>{"learn"===a&&H.trim()?(A([...z,H.trim()]),I("")):"requirement"===a&&J.trim()?(C([...B,J.trim()]),K("")):"audience"===a&&L.trim()?(E([...D,L.trim()]),M("")):"tag"===a&&N.trim()&&(G([...F,N.trim()]),O(""))},S=(a,b)=>{"learn"===a?A(z.filter((a,c)=>c!==b)):"requirement"===a?C(B.filter((a,c)=>c!==b)):"audience"===a?E(D.filter((a,c)=>c!==b)):"tag"===a&&G(F.filter((a,c)=>c!==b))},T=async b=>{if(b.preventDefault(),!x.instructorId)return void s({title:"Lỗi",description:"Vui lòng chọn giảng viên",type:"error"});try{await v({data:{title:x.title,slug:x.slug,description:x.description||null,thumbnail:x.thumbnail||null,trailer:x.trailer||null,price:parseFloat(x.price)||0,level:x.level,status:x.status,duration:parseInt(x.duration)||0,language:x.language,metaTitle:x.metaTitle||null,metaDescription:x.metaDescription||null,whatYouWillLearn:z,requirements:B,targetAudience:D,tags:F,categoryId:x.categoryId||null,instructorId:x.instructorId}}),s({title:"Thành công",description:"Đã tạo khóa học mới",type:"success"}),a.push("/lms/admin/courses")}catch(a){s({title:"Lỗi",description:a.message||"Không thể tạo khóa học",type:"error"})}},U=()=>{a.push("/lms/admin/courses")};return(0,b.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.Button,{variant:"outline",size:"icon",onClick:U,children:(0,b.jsx)(j.ArrowLeft,{className:"w-4 h-4"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Tạo khóa học mới"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Nhập thông tin khóa học"})]}),(0,b.jsxs)(f.Button,{variant:"outline",onClick:()=>a.push("/lms/admin/courses/create-with-ai"),className:"gap-2 bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100 border-purple-200",children:[(0,b.jsx)(n.Sparkles,{className:"w-4 h-4 text-purple-600"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Tạo Với AI"})]})]}),(0,b.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Thông tin cơ bản"}),(0,b.jsx)(e.CardDescription,{children:"Nhập thông tin cơ bản của khóa học"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"title",children:"Tiêu đề *"}),(0,b.jsx)(g.Input,{id:"title",value:x.title,onChange:a=>{var b;P("title",b=a.target.value),x.slug&&x.slug!==Q(x.title)||P("slug",Q(b))},placeholder:"Nhập tiêu đề khóa học",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"slug",children:"Slug *"}),(0,b.jsx)(g.Input,{id:"slug",value:x.slug,onChange:a=>P("slug",a.target.value),placeholder:"khoa-hoc-slug",required:!0})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"description",children:"Mô tả"}),(0,b.jsx)(i.Textarea,{id:"description",value:x.description,onChange:a=>P("description",a.target.value),placeholder:"Mô tả về khóa học...",rows:5})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"thumbnail",children:"URL Thumbnail"}),(0,b.jsx)(g.Input,{id:"thumbnail",value:x.thumbnail,onChange:a=>P("thumbnail",a.target.value),placeholder:"https://example.com/image.jpg"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"trailer",children:"URL Video giới thiệu"}),(0,b.jsx)(g.Input,{id:"trailer",value:x.trailer,onChange:a=>P("trailer",a.target.value),placeholder:"https://youtube.com/..."})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"price",children:"Giá (VND)"}),(0,b.jsx)(g.Input,{id:"price",type:"number",value:x.price,onChange:a=>P("price",a.target.value),min:"0",placeholder:"0"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"duration",children:"Thời lượng (phút)"}),(0,b.jsx)(g.Input,{id:"duration",type:"number",value:x.duration,onChange:a=>P("duration",a.target.value),min:"0",placeholder:"0"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"level",children:"Cấp độ *"}),(0,b.jsxs)(q.Select,{value:x.level,onValueChange:a=>P("level",a),children:[(0,b.jsx)(q.SelectTrigger,{id:"level",children:(0,b.jsx)(q.SelectValue,{})}),(0,b.jsxs)(q.SelectContent,{children:[(0,b.jsx)(q.SelectItem,{value:"BEGINNER",children:"Cơ bản"}),(0,b.jsx)(q.SelectItem,{value:"INTERMEDIATE",children:"Trung cấp"}),(0,b.jsx)(q.SelectItem,{value:"ADVANCED",children:"Nâng cao"}),(0,b.jsx)(q.SelectItem,{value:"EXPERT",children:"Chuyên gia"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"status",children:"Trạng thái *"}),(0,b.jsxs)(q.Select,{value:x.status,onValueChange:a=>P("status",a),children:[(0,b.jsx)(q.SelectTrigger,{id:"status",children:(0,b.jsx)(q.SelectValue,{})}),(0,b.jsxs)(q.SelectContent,{children:[(0,b.jsx)(q.SelectItem,{value:"DRAFT",children:"Nháp"}),(0,b.jsx)(q.SelectItem,{value:"PUBLISHED",children:"Xuất bản"}),(0,b.jsx)(q.SelectItem,{value:"ARCHIVED",children:"Lưu trữ"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"language",children:"Ngôn ngữ"}),(0,b.jsxs)(q.Select,{value:x.language,onValueChange:a=>P("language",a),children:[(0,b.jsx)(q.SelectTrigger,{id:"language",children:(0,b.jsx)(q.SelectValue,{})}),(0,b.jsxs)(q.SelectContent,{children:[(0,b.jsx)(q.SelectItem,{value:"vi",children:"Tiếng Việt"}),(0,b.jsx)(q.SelectItem,{value:"en",children:"English"}),(0,b.jsx)(q.SelectItem,{value:"ja",children:"日本語"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"categoryId",children:"Danh mục"}),(0,b.jsxs)(q.Select,{value:x.categoryId||void 0,onValueChange:a=>P("categoryId",a),children:[(0,b.jsx)(q.SelectTrigger,{id:"categoryId",children:(0,b.jsx)(q.SelectValue,{placeholder:"Chọn danh mục"})}),(0,b.jsx)(q.SelectContent,{children:t?.map(a=>(0,b.jsx)(q.SelectItem,{value:a.id,children:a.name},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"instructorId",children:"Giảng viên *"}),(0,b.jsxs)(q.Select,{value:x.instructorId,onValueChange:a=>P("instructorId",a),children:[(0,b.jsx)(q.SelectTrigger,{id:"instructorId",children:(0,b.jsx)(q.SelectValue,{placeholder:"Chọn giảng viên"})}),(0,b.jsx)(q.SelectContent,{children:u?.map(a=>(0,b.jsx)(q.SelectItem,{value:a.id,children:a.firstName&&a.lastName?`${a.firstName} ${a.lastName}`:a.username},a.id))})]})]})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Nội dung học tập"}),(0,b.jsx)(e.CardDescription,{children:"Mục tiêu và yêu cầu của khóa học"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(h.Label,{children:"Bạn sẽ học được gì"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Input,{value:H,onChange:a=>I(a.target.value),placeholder:"Nhập mục tiêu học tập...",onKeyPress:a=>"Enter"===a.key&&(a.preventDefault(),R("learn"))}),(0,b.jsx)(f.Button,{type:"button",onClick:()=>R("learn"),size:"icon",children:(0,b.jsx)(l.Plus,{className:"w-4 h-4"})})]}),z.length>0&&(0,b.jsx)("ul",{className:"space-y-2",children:z.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[(0,b.jsx)("span",{className:"flex-1",children:a}),(0,b.jsx)(f.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>S("learn",c),children:(0,b.jsx)(m.X,{className:"w-4 h-4"})})]},c))})]}),(0,b.jsx)(r.Separator,{}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(h.Label,{children:"Yêu cầu"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Input,{value:J,onChange:a=>K(a.target.value),placeholder:"Nhập yêu cầu...",onKeyPress:a=>"Enter"===a.key&&(a.preventDefault(),R("requirement"))}),(0,b.jsx)(f.Button,{type:"button",onClick:()=>R("requirement"),size:"icon",children:(0,b.jsx)(l.Plus,{className:"w-4 h-4"})})]}),B.length>0&&(0,b.jsx)("ul",{className:"space-y-2",children:B.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[(0,b.jsx)("span",{className:"flex-1",children:a}),(0,b.jsx)(f.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>S("requirement",c),children:(0,b.jsx)(m.X,{className:"w-4 h-4"})})]},c))})]}),(0,b.jsx)(r.Separator,{}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(h.Label,{children:"Đối tượng học viên"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Input,{value:L,onChange:a=>M(a.target.value),placeholder:"Nhập đối tượng học viên...",onKeyPress:a=>"Enter"===a.key&&(a.preventDefault(),R("audience"))}),(0,b.jsx)(f.Button,{type:"button",onClick:()=>R("audience"),size:"icon",children:(0,b.jsx)(l.Plus,{className:"w-4 h-4"})})]}),D.length>0&&(0,b.jsx)("ul",{className:"space-y-2",children:D.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[(0,b.jsx)("span",{className:"flex-1",children:a}),(0,b.jsx)(f.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>S("audience",c),children:(0,b.jsx)(m.X,{className:"w-4 h-4"})})]},c))})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"SEO & Marketing"}),(0,b.jsx)(e.CardDescription,{children:"Tối ưu hóa công cụ tìm kiếm"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"metaTitle",children:"Meta Title"}),(0,b.jsx)(g.Input,{id:"metaTitle",value:x.metaTitle,onChange:a=>P("metaTitle",a.target.value),maxLength:60,placeholder:"Tiêu đề SEO (tối đa 60 ký tự)"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[x.metaTitle.length,"/60 ký tự"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"metaDescription",children:"Meta Description"}),(0,b.jsx)(i.Textarea,{id:"metaDescription",value:x.metaDescription,onChange:a=>P("metaDescription",a.target.value),maxLength:160,rows:3,placeholder:"Mô tả SEO (tối đa 160 ký tự)"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:[x.metaDescription.length,"/160 ký tự"]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(h.Label,{children:"Tags"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Input,{value:N,onChange:a=>O(a.target.value),placeholder:"Nhập tag...",onKeyPress:a=>"Enter"===a.key&&(a.preventDefault(),R("tag"))}),(0,b.jsx)(f.Button,{type:"button",onClick:()=>R("tag"),size:"icon",children:(0,b.jsx)(l.Plus,{className:"w-4 h-4"})})]}),F.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:F.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[(0,b.jsx)("span",{children:a}),(0,b.jsx)("button",{type:"button",onClick:()=>S("tag",c),className:"hover:text-blue-900",children:(0,b.jsx)(m.X,{className:"w-3 h-3"})})]},c))})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:U,children:"Hủy"}),(0,b.jsxs)(f.Button,{type:"submit",disabled:w,className:"gap-2",children:[(0,b.jsx)(k.Save,{className:"w-4 h-4"}),w?"Đang tạo...":"Tạo khóa học"]})]})]})]})}a.s(["default",()=>s])}];

//# sourceMappingURL=frontend_src_app_lms_admin_courses_create_page_tsx_701d8891._.js.map