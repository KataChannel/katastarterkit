module.exports=[750528,a=>{"use strict";var b=a.i(321248),c=a.i(53627),d=a.i(285439),e=a.i(975780),f=a.i(202979),g=a.i(293470),h=a.i(772451),i=a.i(785694),j=a.i(928624),k=a.i(234211),l=a.i(516482),m=a.i(808979),n=a.i(128348),o=a.i(890082),p=a.i(411185),q=a.i(779149),r=a.i(327987),s=a.i(390874),t=a.i(897608),u=a.i(473515),v=a.i(653107),w=a.i(79028),x=a.i(268715),y=a.i(147678),z=a.i(439889),A=a.i(400438);function B(){var a,B;let C,D,E,F=(0,c.useParams)();(0,c.useRouter)();let{toast:G}=(0,k.useToast)(),H=F.id,{offboardingProcess:I,loading:J,refetch:K}=(0,d.useOffboardingProcess)(H),{updateOffboardingProcess:L,loading:M}=(0,d.useUpdateOffboardingProcess)(),{completeOffboarding:N,loading:O}=(0,d.useCompleteOffboarding)(),P=async a=>{try{await L(H,{status:a}),G({title:"Thành công",description:"Đã cập nhật trạng thái offboarding",type:"success"}),K()}catch(a){G({title:"Lỗi",description:a.message||"Không thể cập nhật trạng thái",type:"error"})}},Q=async()=>{try{await N(H),G({title:"Thành công",description:"Đã hoàn thành offboarding",type:"success"}),K()}catch(a){G({title:"Lỗi",description:a.message||"Không thể hoàn thành offboarding",type:"error"})}};return J?(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsx)(h.Skeleton,{className:"h-10 w-64"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)(h.Skeleton,{className:"h-96"}),(0,b.jsx)(h.Skeleton,{className:"h-96 md:col-span-2"})]})]}):I?(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(z.default,{href:"/admin/hr/offboarding",children:(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(l.ArrowLeft,{className:"h-5 w-5"})})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold tracking-tight",children:["Offboarding - ",I.employeeProfile?.fullName||"N/A"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:I.employeeProfile?.employeeCode||"-"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(a=I.status,D=(C=({[A.OffboardingStatus.INITIATED]:{variant:"secondary",icon:r.AlertCircle,label:"Khởi tạo"},[A.OffboardingStatus.IN_PROGRESS]:{variant:"default",icon:p.Clock,label:"Đang xử lý"},[A.OffboardingStatus.PENDING_APPROVAL]:{variant:"default",icon:t.AlertTriangle,label:"Chờ phê duyệt",className:"bg-yellow-500"},[A.OffboardingStatus.APPROVED]:{variant:"default",icon:o.CheckCircle2,label:"Đã phê duyệt",className:"bg-blue-500"},[A.OffboardingStatus.COMPLETED]:{variant:"default",icon:o.CheckCircle2,label:"Hoàn thành",className:"bg-green-500"},[A.OffboardingStatus.CANCELLED]:{variant:"destructive",icon:s.XCircle,label:"Đã hủy"}})[a]).icon,(0,b.jsxs)(g.Badge,{variant:C.variant,className:C.className,children:[(0,b.jsx)(D,{className:"mr-1 h-3 w-3"}),C.label]})),(B=I.clearanceStatus,E=({[A.ClearanceStatus.PENDING]:{variant:"secondary",label:"Chưa hoàn tất"},[A.ClearanceStatus.PARTIAL]:{variant:"default",label:"Một phần",className:"bg-orange-500"},[A.ClearanceStatus.COMPLETE]:{variant:"default",label:"Hoàn tất",className:"bg-green-500"}})[B],(0,b.jsx)(g.Badge,{variant:E.variant,className:E.className,children:E.label}))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Thông tin nghỉ việc"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Lý do"}),(0,b.jsx)("p",{className:"text-sm",children:I.exitReason})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Loại"}),(0,b.jsx)("p",{className:"text-sm",children:"RESIGNATION"===I.exitType?"Từ chức":"TERMINATION"===I.exitType?"Chấm dứt HĐ":"RETIREMENT"===I.exitType?"Nghỉ hưu":"CONTRACT_END"===I.exitType?"Hết hợp đồng":"Thỏa thuận chung"})]}),(0,b.jsx)(i.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Ngày cuối làm việc"}),(0,b.jsxs)("p",{className:"text-sm flex items-center",children:[(0,b.jsx)(n.Calendar,{className:"mr-2 h-4 w-4"}),new Date(I.lastWorkingDay).toLocaleDateString("vi-VN")]})]}),I.effectiveDate&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Ngày có hiệu lực"}),(0,b.jsxs)("p",{className:"text-sm flex items-center",children:[(0,b.jsx)(n.Calendar,{className:"mr-2 h-4 w-4"}),new Date(I.effectiveDate).toLocaleDateString("vi-VN")]})]})]})]}),I.exitInterviewScheduled&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(u.FileText,{className:"mr-2 h-5 w-5"}),"Phỏng vấn nghỉ việc"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[I.exitInterviewDate&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Ngày phỏng vấn"}),(0,b.jsx)("p",{className:"text-sm",children:new Date(I.exitInterviewDate).toLocaleDateString("vi-VN")})]}),I.exitInterviewBy&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Người phỏng vấn"}),(0,b.jsx)("p",{className:"text-sm",children:I.exitInterviewBy})]}),I.exitInterviewNotes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Ghi chú"}),(0,b.jsx)("p",{className:"text-sm p-3 bg-muted rounded-lg",children:I.exitInterviewNotes})]})]})]}),void 0!==I.eligibleForRehire&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(y.Award,{className:"mr-2 h-5 w-5"}),"Tái tuyển dụng"]})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(j.Checkbox,{checked:I.eligibleForRehire,disabled:!0}),(0,b.jsx)("span",{className:"text-sm",children:I.eligibleForRehire?"Đủ điều kiện tái tuyển dụng":"Không đủ điều kiện"})]}),I.rehireNotes&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:I.rehireNotes})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Hành động"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-2",children:[I.status===A.OffboardingStatus.INITIATED&&(0,b.jsx)(f.Button,{className:"w-full",onClick:()=>P(A.OffboardingStatus.IN_PROGRESS),disabled:M,children:"Bắt đầu xử lý"}),I.status===A.OffboardingStatus.IN_PROGRESS&&(0,b.jsx)(f.Button,{className:"w-full",onClick:()=>P(A.OffboardingStatus.PENDING_APPROVAL),disabled:M,children:"Gửi phê duyệt"}),I.status===A.OffboardingStatus.PENDING_APPROVAL&&(0,b.jsx)(f.Button,{className:"w-full",onClick:()=>P(A.OffboardingStatus.APPROVED),disabled:M,children:"Phê duyệt"}),I.status===A.OffboardingStatus.APPROVED&&(0,b.jsx)(f.Button,{className:"w-full",onClick:Q,disabled:O||I.clearanceStatus!==A.ClearanceStatus.COMPLETE,children:"Hoàn thành offboarding"}),[A.OffboardingStatus.INITIATED,A.OffboardingStatus.IN_PROGRESS].includes(I.status)&&(0,b.jsx)(f.Button,{className:"w-full",variant:"outline",onClick:()=>P(A.OffboardingStatus.CANCELLED),disabled:M,children:"Hủy offboarding"})]})]})]}),(0,b.jsxs)("div",{className:"md:col-span-2 space-y-6",children:[I.assetReturnChecklist&&I.assetReturnChecklist.length>0&&(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(w.Package,{className:"mr-2 h-5 w-5"}),"Danh sách tài sản cần trả"]}),(0,b.jsx)(e.CardDescription,{children:"Theo dõi việc trả lại tài sản công ty"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:I.assetReturnChecklist.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg border",children:[(0,b.jsx)(j.Checkbox,{checked:a.returned,disabled:!0}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.asset}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.category}),a.returned&&a.returnedDate&&(0,b.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["Đã trả: ",new Date(a.returnedDate).toLocaleDateString("vi-VN"),a.returnedTo&&` - Người nhận: ${a.returnedTo}`]})]})]},c))})})]}),I.knowledgeTransferPlan&&I.knowledgeTransferPlan.length>0&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(u.FileText,{className:"mr-2 h-5 w-5"}),"Kế hoạch bàn giao công việc"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:I.knowledgeTransferPlan.map((a,c)=>(0,b.jsx)("div",{className:"p-3 rounded-lg border",children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.task}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.area}),(0,b.jsxs)("p",{className:"text-xs mt-1",children:["Bàn giao cho: ",a.assignedTo]})]}),(0,b.jsx)(g.Badge,{variant:"Completed"===a.status||"In Progress"===a.status?"default":"secondary",className:"Completed"===a.status?"bg-green-500":"In Progress"===a.status?"bg-blue-500":"",children:"Completed"===a.status?"Hoàn thành":"In Progress"===a.status?"Đang thực hiện":"Chờ xử lý"})]})},c))})})]}),I.accessRevocationList&&I.accessRevocationList.length>0&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(x.Key,{className:"mr-2 h-5 w-5"}),"Thu hồi quyền truy cập"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:I.accessRevocationList.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-2 rounded border",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(j.Checkbox,{checked:a.revoked,disabled:!0}),(0,b.jsx)("span",{className:"text-sm",children:a.system})]}),a.revoked&&a.revokedAt&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(a.revokedAt).toLocaleDateString("vi-VN")})]},c))})})]}),void 0!==I.finalSalaryAmount&&(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center",children:[(0,b.jsx)(v.DollarSign,{className:"mr-2 h-5 w-5"}),"Quyết toán cuối cùng"]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[I.finalSalaryAmount&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Lương cuối:"}),(0,b.jsxs)("p",{className:"font-medium",children:[I.finalSalaryAmount.toLocaleString("vi-VN")," VNĐ"]})]}),I.unusedLeaveDays&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Ngày phép chưa dùng:"}),(0,b.jsxs)("p",{className:"font-medium",children:[I.unusedLeaveDays," ngày"]})]}),I.leavePayoutAmount&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Thanh toán phép:"}),(0,b.jsxs)("p",{className:"font-medium",children:[I.leavePayoutAmount.toLocaleString("vi-VN")," VNĐ"]})]}),I.bonusAmount&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Thưởng:"}),(0,b.jsxs)("p",{className:"font-medium",children:[I.bonusAmount.toLocaleString("vi-VN")," VNĐ"]})]})]}),(0,b.jsx)(i.Separator,{}),I.totalSettlement&&(0,b.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold",children:[(0,b.jsx)("span",{children:"Tổng cộng:"}),(0,b.jsxs)("span",{className:"text-primary",children:[I.totalSettlement.toLocaleString("vi-VN")," VNĐ"]})]}),I.paymentDate&&(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Ngày thanh toán: ",new Date(I.paymentDate).toLocaleDateString("vi-VN")]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Ghi chú & Nhận xét"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[I.hrNotes&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Ghi chú HR"}),(0,b.jsx)("p",{className:"text-sm p-3 bg-muted rounded-lg",children:I.hrNotes})]}),I.managerComments&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Nhận xét của quản lý"}),(0,b.jsx)("p",{className:"text-sm p-3 bg-muted rounded-lg",children:I.managerComments})]}),I.employeeComments&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Nhận xét của nhân viên"}),(0,b.jsx)("p",{className:"text-sm p-3 bg-muted rounded-lg",children:I.employeeComments})]})]})]}),I.employeeProfile&&(0,b.jsx)(z.default,{href:`/admin/hr/employee/${I.employeeProfileId}`,children:(0,b.jsx)(e.Card,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:(0,b.jsx)(e.CardContent,{className:"py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)(q.User,{className:"h-6 w-6 text-primary"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Xem hồ sơ nhân viên"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:I.employeeProfile.fullName})]})]}),(0,b.jsx)(f.Button,{variant:"ghost",children:"Xem chi tiết"})]})})})})]})]})]}):(0,b.jsx)("div",{className:"container mx-auto p-6",children:(0,b.jsx)(e.Card,{children:(0,b.jsxs)(e.CardContent,{className:"py-12 text-center text-muted-foreground",children:[(0,b.jsx)(m.UserMinus,{className:"mx-auto h-12 w-12 mb-2"}),(0,b.jsx)("p",{children:"Không tìm thấy thông tin offboarding"}),(0,b.jsx)(z.default,{href:"/admin/hr/offboarding",children:(0,b.jsx)(f.Button,{variant:"outline",className:"mt-4",children:"Quay lại danh sách"})})]})})})}a.s(["default",()=>B])}];

//# sourceMappingURL=frontend_src_app_admin_hr_offboarding_%5Bid%5D_page_tsx_68f6b8b8._.js.map