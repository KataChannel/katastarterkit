module.exports=[370477,a=>{"use strict";var b=a.i(651332);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},376946,a=>{"use strict";var b=a.i(651332),c=a.i(372123),d=a.i(321248),e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),f=b.forwardRef((a,b)=>(0,d.jsx)(c.Primitive.span,{...a,ref:b,style:{...e,...a.style}}));f.displayName="VisuallyHidden",a.s(["Root",()=>f,"VISUALLY_HIDDEN_STYLES",()=>e,"VisuallyHidden",()=>f])},441405,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(372123),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(422171);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Label",()=>g],441405)},466577,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(422171);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},516482,a=>{"use strict";var b=a.i(13755);a.s(["ArrowLeft",()=>b.default])},973174,a=>{"use strict";var b=a.i(357230);a.s(["Save",()=>b.default])},928624,a=>{"use strict";var b=a.i(321248),c=a.i(651332);let d=c.forwardRef(({className:a,indeterminate:d,onCheckedChange:e,...f},g)=>{let h=c.useRef(null);return c.useImperativeHandle(g,()=>h.current),c.useEffect(()=>{h.current&&(h.current.indeterminate=!!d)},[d]),(0,b.jsx)("input",{type:"checkbox",ref:h,className:`h-4 w-4 rounded border border-gray-300 text-blue-600 focus:ring-blue-500 ${a||""}`,onChange:a=>{e?.(a.target.checked),f.onChange?.(a)},...f})});d.displayName="Checkbox",a.s(["Checkbox",()=>d])},808979,a=>{"use strict";var b=a.i(591392);a.s(["UserMinus",()=>b.default])},8286,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(53627),e=a.i(285439),f=a.i(975780),g=a.i(202979),h=a.i(478184),i=a.i(441405),j=a.i(466577),k=a.i(144932),l=a.i(928624),m=a.i(234211),n=a.i(516482),o=a.i(808979),p=a.i(973174),q=a.i(439889);function r(){let a=(0,d.useRouter)(),{toast:r}=(0,m.useToast)(),{employees:s,loading:t}=(0,e.useEmployeeProfiles)({take:100}),{createOffboardingProcess:u,loading:v}=(0,e.useCreateOffboardingProcess)(),[w,x]=(0,c.useState)({employeeProfileId:"",userId:"",lastWorkingDay:"",effectiveDate:"",exitReason:"",exitType:"RESIGNATION",noticePeriodDays:30,noticeGivenDate:new Date().toISOString().split("T")[0],exitInterviewScheduled:!1,exitInterviewDate:"",exitInterviewBy:"",referenceLetterRequested:!1,eligibleForRehire:!0,initiatedBy:"",hrNotes:""}),y=async b=>{if(b.preventDefault(),!w.employeeProfileId||!w.userId)return void r({title:"Lỗi",description:"Vui lòng chọn nhân viên",type:"error"});if(!w.lastWorkingDay)return void r({title:"Lỗi",description:"Vui lòng nhập ngày cuối làm việc",type:"error"});if(!w.exitReason)return void r({title:"Lỗi",description:"Vui lòng nhập lý do nghỉ việc",type:"error"});if(!w.initiatedBy)return void r({title:"Lỗi",description:"Vui lòng nhập người khởi tạo",type:"error"});try{await u({employeeProfileId:w.employeeProfileId,userId:w.userId,lastWorkingDay:w.lastWorkingDay,effectiveDate:w.effectiveDate||void 0,exitReason:w.exitReason,exitType:w.exitType,noticePeriodDays:w.noticePeriodDays||void 0,noticeGivenDate:w.noticeGivenDate||void 0,exitInterviewScheduled:w.exitInterviewScheduled,exitInterviewDate:w.exitInterviewDate||void 0,exitInterviewBy:w.exitInterviewBy||void 0,referenceLetterRequested:w.referenceLetterRequested,eligibleForRehire:w.eligibleForRehire,initiatedBy:w.initiatedBy,hrNotes:w.hrNotes||void 0}),r({title:"Thành công",description:"Đã khởi tạo offboarding process",type:"success"}),a.push("/admin/hr/offboarding")}catch(a){r({title:"Lỗi",description:a.message||"Không thể khởi tạo offboarding",type:"error"})}};return(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(q.default,{href:"/admin/hr/offboarding",children:(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(n.ArrowLeft,{className:"h-5 w-5"})})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold tracking-tight flex items-center",children:[(0,b.jsx)(o.UserMinus,{className:"mr-3 h-8 w-8"}),"Khởi tạo Offboarding"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Bắt đầu quy trình nghỉ việc cho nhân viên"})]})]}),(0,b.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Thông tin nhân viên"}),(0,b.jsx)(f.CardDescription,{children:"Chọn nhân viên cần offboarding"})]}),(0,b.jsx)(f.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"employee",children:"Nhân viên *"}),(0,b.jsxs)(k.Select,{value:w.employeeProfileId,onValueChange:a=>{let b=s.find(b=>b.id===a);b&&x({...w,employeeProfileId:a,userId:b.userId})},disabled:t,children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{placeholder:"Chọn nhân viên..."})}),(0,b.jsx)(k.SelectContent,{children:s.map(a=>(0,b.jsxs)(k.SelectItem,{value:a.id,children:[a.fullName," - ",a.employeeCode]},a.id))})]})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Thông tin nghỉ việc"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"exitType",children:"Loại nghỉ việc *"}),(0,b.jsxs)(k.Select,{value:w.exitType,onValueChange:a=>x({...w,exitType:a}),children:[(0,b.jsx)(k.SelectTrigger,{children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"RESIGNATION",children:"Từ chức"}),(0,b.jsx)(k.SelectItem,{value:"TERMINATION",children:"Chấm dứt hợp đồng"}),(0,b.jsx)(k.SelectItem,{value:"RETIREMENT",children:"Nghỉ hưu"}),(0,b.jsx)(k.SelectItem,{value:"CONTRACT_END",children:"Hết hợp đồng"}),(0,b.jsx)(k.SelectItem,{value:"MUTUAL_AGREEMENT",children:"Thỏa thuận chung"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"lastWorkingDay",children:"Ngày cuối làm việc *"}),(0,b.jsx)(h.Input,{id:"lastWorkingDay",type:"date",value:w.lastWorkingDay,onChange:a=>x({...w,lastWorkingDay:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"effectiveDate",children:"Ngày có hiệu lực"}),(0,b.jsx)(h.Input,{id:"effectiveDate",type:"date",value:w.effectiveDate,onChange:a=>x({...w,effectiveDate:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"noticeGivenDate",children:"Ngày thông báo"}),(0,b.jsx)(h.Input,{id:"noticeGivenDate",type:"date",value:w.noticeGivenDate,onChange:a=>x({...w,noticeGivenDate:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"noticePeriodDays",children:"Thời gian báo trước (ngày)"}),(0,b.jsx)(h.Input,{id:"noticePeriodDays",type:"number",value:w.noticePeriodDays,onChange:a=>x({...w,noticePeriodDays:parseInt(a.target.value)})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"exitReason",children:"Lý do nghỉ việc *"}),(0,b.jsx)(j.Textarea,{id:"exitReason",rows:3,placeholder:"Nhập lý do nghỉ việc...",value:w.exitReason,onChange:a=>x({...w,exitReason:a.target.value}),required:!0})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Phỏng vấn nghỉ việc"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(l.Checkbox,{id:"exitInterviewScheduled",checked:w.exitInterviewScheduled,onCheckedChange:a=>x({...w,exitInterviewScheduled:a})}),(0,b.jsx)(i.Label,{htmlFor:"exitInterviewScheduled",className:"cursor-pointer",children:"Lên lịch phỏng vấn nghỉ việc"})]}),w.exitInterviewScheduled&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"exitInterviewDate",children:"Ngày phỏng vấn"}),(0,b.jsx)(h.Input,{id:"exitInterviewDate",type:"date",value:w.exitInterviewDate,onChange:a=>x({...w,exitInterviewDate:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"exitInterviewBy",children:"Người phỏng vấn"}),(0,b.jsx)(h.Input,{id:"exitInterviewBy",placeholder:"Tên người phỏng vấn...",value:w.exitInterviewBy,onChange:a=>x({...w,exitInterviewBy:a.target.value})})]})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Tùy chọn bổ sung"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(l.Checkbox,{id:"referenceLetterRequested",checked:w.referenceLetterRequested,onCheckedChange:a=>x({...w,referenceLetterRequested:a})}),(0,b.jsx)(i.Label,{htmlFor:"referenceLetterRequested",className:"cursor-pointer",children:"Yêu cầu thư giới thiệu"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(l.Checkbox,{id:"eligibleForRehire",checked:w.eligibleForRehire,onCheckedChange:a=>x({...w,eligibleForRehire:a})}),(0,b.jsx)(i.Label,{htmlFor:"eligibleForRehire",className:"cursor-pointer",children:"Đủ điều kiện tái tuyển dụng"})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Thông tin quy trình"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"initiatedBy",children:"Người khởi tạo *"}),(0,b.jsx)(h.Input,{id:"initiatedBy",placeholder:"Tên người khởi tạo quy trình...",value:w.initiatedBy,onChange:a=>x({...w,initiatedBy:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"hrNotes",children:"Ghi chú HR"}),(0,b.jsx)(j.Textarea,{id:"hrNotes",rows:4,placeholder:"Ghi chú cho quá trình offboarding...",value:w.hrNotes,onChange:a=>x({...w,hrNotes:a.target.value})})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>a.back(),disabled:v,children:"Hủy"}),(0,b.jsxs)(g.Button,{type:"submit",disabled:v,children:[(0,b.jsx)(p.Save,{className:"mr-2 h-4 w-4"}),v?"Đang tạo...":"Khởi tạo Offboarding"]})]})]})]})}a.s(["default",()=>r])}];

//# sourceMappingURL=_dd9ca901._.js.map