(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,715200,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},527304,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let a=e.r(403055);function s(e,t){let r=(0,a.useRef)(null),s=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=n(e,a)),t&&(s.current=n(t,a))},[e,t])}function n(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},486296,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return o},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return i}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});function n(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function l(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function i(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,l(e));else t.set(r,l(a));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},37671,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return i},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(475244)._(e.r(486296)),l=/https?|ftp|gopher|file/;function i(e){let{auth:t,hostname:r}=e,a=e.protocol||"",s=e.pathname||"",i=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(n.urlQueryToSearchParams(o)));let d=e.search||o&&`?${o}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||l.test(a))&&!1!==c?(c="//"+(c||""),s&&"/"!==s[0]&&(s="/"+s)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),d&&"?"!==d[0]&&(d="?"+d),s=s.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${a}${c}${s}${d}${i}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return i(e)}},671261,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return g},MiddlewareNotFoundError:function(){return N},MissingStaticPage:function(){return j},NormalizeError:function(){return b},PageNotFoundError:function(){return y},SP:function(){return f},ST:function(){return p},WEB_VITALS:function(){return n},execOnce:function(){return l},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return o},isResSent:function(){return m},loadGetInitialProps:function(){return x},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return v}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function l(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let i=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>i.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function m(e){return e.finished||e.headersSent}function h(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function x(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await x(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&m(r))return a;if(!a)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let f="undefined"!=typeof performance,p=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class g extends Error{}class b extends Error{}class y extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class j extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class N extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function v(e){return JSON.stringify({message:e.message,stack:e.stack})}},53732,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return n}});let a=e.r(671261),s=e.r(982053);function n(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,s.hasBasePath)(r.pathname)}catch(e){return!1}}},165234,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},579448,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return g},useLinkStatus:function(){return y}};for(var s in a)Object.defineProperty(r,s,{enumerable:!0,get:a[s]});let n=e.r(475244),l=e.r(44990),i=n._(e.r(403055)),o=e.r(37671),c=e.r(749005),d=e.r(527304),u=e.r(671261),m=e.r(257563);e.r(715200);let h=e.r(527571),x=e.r(53732),f=e.r(61388);function p(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function g(t){var r;let a,s,n,[o,g]=(0,i.useOptimistic)(h.IDLE_LINK_STATUS),y=(0,i.useRef)(null),{href:j,as:N,children:v,prefetch:w=null,passHref:C,replace:k,shallow:T,scroll:E,onClick:S,onMouseEnter:P,onTouchStart:D,legacyBehavior:M=!1,onNavigate:O,ref:I,unstable_dynamicOnHover:A,...L}=t;a=v,M&&("string"==typeof a||"number"==typeof a)&&(a=(0,l.jsx)("a",{children:a}));let $=i.default.useContext(c.AppRouterContext),_=!1!==w,F=!1!==w?null===(r=w)||"auto"===r?f.FetchStrategy.PPR:f.FetchStrategy.Full:f.FetchStrategy.PPR,{href:R,as:U}=i.default.useMemo(()=>{let e=p(j);return{href:e,as:N?p(N):e}},[j,N]);if(M){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});s=i.default.Children.only(a)}let B=M?s&&"object"==typeof s&&s.ref:I,q=i.default.useCallback(e=>(null!==$&&(y.current=(0,h.mountLinkInstance)(e,R,$,F,_,g)),()=>{y.current&&((0,h.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,h.unmountPrefetchableInstance)(e)}),[_,R,$,F,g]),V={ref:(0,d.useMergedRef)(q,B),onClick(t){M||"function"!=typeof S||S(t),M&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(t),!$||t.defaultPrevented||function(t,r,a,s,n,l,o){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,x.isLocalURL)(r)){n&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(282454);i.default.startTransition(()=>{u(a||r,n?"replace":"push",l??!0,s.current)})}}(t,R,U,y,k,E,O)},onMouseEnter(e){M||"function"!=typeof P||P(e),M&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),$&&_&&(0,h.onNavigationIntent)(e.currentTarget,!0===A)},onTouchStart:function(e){M||"function"!=typeof D||D(e),M&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e),$&&_&&(0,h.onNavigationIntent)(e.currentTarget,!0===A)}};return(0,u.isAbsoluteUrl)(U)?V.href=U:M&&!C&&("a"!==s.type||"href"in s.props)||(V.href=(0,m.addBasePath)(U)),n=M?i.default.cloneElement(s,V):(0,l.jsx)("a",{...L,...V,children:a}),(0,l.jsx)(b.Provider,{value:o,children:n})}e.r(165234);let b=(0,i.createContext)(h.IDLE_LINK_STATUS),y=()=>(0,i.useContext)(b);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},874061,e=>{"use strict";let t=(0,e.i(930702).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>t])},138227,e=>{"use strict";var t=e.i(874061);e.s(["Trash2",()=>t.default])},994315,e=>{"use strict";let t=(0,e.i(930702).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["default",()=>t])},606443,e=>{"use strict";var t=e.i(994315);e.s(["Plus",()=>t.default])},169989,162207,e=>{"use strict";let t=(0,e.i(930702).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["default",()=>t],162207),e.s(["Loader2",()=>t],169989)},381299,e=>{"use strict";let t=(0,e.i(930702).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["default",()=>t])},965120,e=>{"use strict";var t=e.i(381299);e.s(["Edit",()=>t.default])},638381,e=>{"use strict";let t=(0,e.i(930702).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["default",()=>t])},415588,e=>{"use strict";var t=e.i(638381);e.s(["Clock",()=>t.default])},621924,e=>{"use strict";let t=(0,e.i(930702).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["default",()=>t])},822390,e=>{"use strict";var t=e.i(621924);e.s(["CheckCircle",()=>t.default])},565977,e=>{"use strict";let t=(0,e.i(930702).default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["default",()=>t])},421329,e=>{"use strict";var t=e.i(565977);e.s(["FileText",()=>t.default])},813046,e=>{"use strict";let t=(0,e.i(930702).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["default",()=>t])},553082,e=>{"use strict";var t=e.i(813046);e.s(["Save",()=>t.default])},979426,e=>{"use strict";let t=(0,e.i(930702).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["default",()=>t])},455461,e=>{"use strict";var t=e.i(979426);e.s(["Upload",()=>t.default])},46213,e=>{"use strict";let t=(0,e.i(930702).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);e.s(["default",()=>t])},495280,e=>{"use strict";var t=e.i(46213);e.s(["MessageSquare",()=>t.default])},222086,e=>{"use strict";let t=(0,e.i(930702).default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);e.s(["default",()=>t])},257725,e=>{"use strict";var t=e.i(222086);e.s(["Database",()=>t.default])},105023,e=>{"use strict";let t=(0,e.i(930702).default)("log-in",[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]]);e.s(["default",()=>t])},670662,e=>{"use strict";var t=e.i(105023);e.s(["LogIn",()=>t.default])},71035,e=>{"use strict";var t,r,a,s=e.i(44990),n=e.i(403055),l=e.i(606443),i=e.i(796283),o=e.i(495280),c=e.i(257725),d=e.i(965120),u=e.i(138227),m=((t={}).ACTIVE="ACTIVE",t.INACTIVE="INACTIVE",t.TRAINING="TRAINING",t),h=((r={}).DOCUMENT="DOCUMENT",r.TEXT="TEXT",r.FAQ="FAQ",r.CONVERSATION="CONVERSATION",r.KNOWLEDGE_BASE="KNOWLEDGE_BASE",r),x=((a={}).PENDING="PENDING",a.PROCESSING="PROCESSING",a.COMPLETED="COMPLETED",a.FAILED="FAILED",a);e.i(308140);let f=new class{async request(e,t={}){try{let r=localStorage.getItem("accessToken"),a=await fetch(`https://v3api.tazagroup.com${e}`,{headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`},...t.headers},...t});if(!a.ok)return{error:(await a.json().catch(()=>({message:"Network error"}))).message||`HTTP ${a.status}`};return{data:await a.json()}}catch(e){return{error:e instanceof Error?e.message:"Unknown error"}}}async createChatbot(e){return this.request("/chatbot",{method:"POST",body:JSON.stringify(e)})}async getChatbots(){return this.request("/chatbot")}async getChatbot(e){return this.request(`/chatbot/${e}`)}async updateChatbot(e,t){return this.request(`/chatbot/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteChatbot(e){return this.request(`/chatbot/${e}`,{method:"DELETE"})}async createTrainingData(e,t){return this.request(`/ai-training/${e}`,{method:"POST",body:JSON.stringify(t)})}async getTrainingData(){return this.request("/ai-training")}async getTrainingDataById(e){return this.request(`/ai-training/${e}`)}async deleteTrainingData(e){return this.request(`/ai-training/${e}`,{method:"DELETE"})}async sendMessage(e,t){return this.request(`/chatbot/${e}/message`,{method:"POST",body:JSON.stringify(t)})}async getChatbotConversations(e){return this.request(`/chatbot/${e}/conversations`)}async getConversation(e){return this.request(`/chatbot/conversation/${e}`)}};function p(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),i=(0,n.useCallback)(async()=>{a(!0),l(null);let e=await f.getChatbots();e.error?l(e.error):e.data&&t(e.data),a(!1)},[]),o=(0,n.useCallback)(async e=>{a(!0),l(null);let r=await f.createChatbot(e);return r.error?(l(r.error),a(!1),null):r.data?(t(e=>[r.data,...e]),a(!1),r.data):(a(!1),null)},[]),c=(0,n.useCallback)(async(e,r)=>{a(!0),l(null);let s=await f.updateChatbot(e,r);return s.error?l(s.error):s.data&&t(t=>t.map(t=>t.id===e?s.data:t)),a(!1),s.data},[]),d=(0,n.useCallback)(async e=>{a(!0),l(null);let r=await f.deleteChatbot(e);return r.error?l(r.error):t(t=>t.filter(t=>t.id!==e)),a(!1),!r.error},[]);return(0,n.useEffect)(()=>{i()},[i]),{chatbots:e,loading:r,error:s,createChatbot:o,updateChatbot:c,deleteChatbot:d,refetch:i}}function g({onChatWithBot:e,onManageTraining:t,onCreateChatbot:r,onEditChatbot:a}){let{chatbots:h,loading:x,error:f,deleteChatbot:g}=p(),[b,y]=(0,n.useState)(null),j=async e=>{confirm(`Are you sure you want to delete "${e.name}"? This action cannot be undone.`)&&(y(e.id),await g(e.id),y(null))};return x?(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"h-20 bg-gray-200 rounded-lg"},e))})}):f?(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,s.jsxs)("p",{className:"text-red-800",children:["Error loading chatbots: ",f]})})}):(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[(0,s.jsx)(i.Bot,{className:"h-5 w-5"}),"My Chatbots"]}),(0,s.jsxs)("button",{onClick:r,className:"inline-flex items-center gap-2 px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(l.Plus,{className:"h-4 w-4"}),"New Chatbot"]})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===h.length?(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(i.Bot,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No chatbots yet"}),(0,s.jsx)("p",{className:"text-gray-500 mb-4",children:"Create your first AI chatbot to get started."}),(0,s.jsxs)("button",{onClick:r,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(l.Plus,{className:"h-4 w-4"}),"Create Chatbot"]})]})}):(0,s.jsx)("div",{className:"p-4 space-y-3",children:h.map(r=>(0,s.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors group",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(i.Bot,{className:"h-5 w-5 text-blue-600"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 truncate",children:r.name}),(0,s.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${(e=>{switch(e){case m.ACTIVE:return"bg-green-100 text-green-800 border-green-200";case m.INACTIVE:return"bg-gray-100 text-gray-800 border-gray-200";case m.TRAINING:return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(r.status)}`,children:r.status})]})]}),r.description&&(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:r.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(o.MessageSquare,{className:"h-3 w-3"}),r.conversationCount," conversations"]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(c.Database,{className:"h-3 w-3"}),r.trainingDataCount," training data"]}),(0,s.jsxs)("div",{children:["Created ",new Date(r.createdAt).toLocaleDateString()]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("button",{onClick:()=>e(r),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(o.MessageSquare,{className:"h-3 w-3"}),"Chat"]}),(0,s.jsxs)("button",{onClick:()=>t(r),className:"inline-flex items-center gap-1 px-3 py-1.5 bg-green-600 text-white text-xs font-medium rounded-lg hover:bg-green-700 transition-colors",children:[(0,s.jsx)(c.Database,{className:"h-3 w-3"}),"Training"]})]})]}),(0,s.jsx)("div",{className:"ml-4 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),a(r)},className:"p-1 hover:bg-gray-100 rounded transition-colors",title:"Edit chatbot",children:(0,s.jsx)(d.Edit,{className:"h-4 w-4 text-gray-500"})}),(0,s.jsx)("button",{onClick:e=>{e.stopPropagation(),j(r)},disabled:b===r.id,className:"p-1 hover:bg-red-100 rounded transition-colors disabled:opacity-50",title:"Delete chatbot",children:(0,s.jsx)(u.Trash2,{className:"h-4 w-4 text-red-500"})})]})})]})},r.id))})})]})}var b=e.i(451177),y=e.i(909905),j=e.i(169989);function N({chatbot:e,onBack:t}){let{conversations:r,currentConversation:a,loading:c,error:d,sendMessage:u,loadConversation:m,startNewConversation:h}=function(e){let[t,r]=(0,n.useState)([]),[a,s]=(0,n.useState)(null),[l,i]=(0,n.useState)(!1),[o,c]=(0,n.useState)(null),d=(0,n.useCallback)(async()=>{if(!e)return;i(!0),c(null);let t=await f.getChatbotConversations(e);t.error?c(t.error):t.data&&r(t.data),i(!1)},[e]),u=(0,n.useCallback)(async t=>{if(!e)return null;if(c(null),a){let e={id:`temp-${Date.now()}`,content:t.message,role:"user",timestamp:new Date,conversationId:a.id||""};s(t=>({...t,messages:[...t.messages,e]}))}let r={...t,conversationId:a?.id||void 0},n=await f.sendMessage(e,r);if(n.error)c(n.error),a&&s(e=>({...e,messages:e.messages.slice(0,-1)}));else if(n.data){if(a?.id&&""!==a.id)s(e=>({...e,messages:[...e.messages.filter(e=>!e.id.startsWith("temp-")),n.data]}));else{let e=await f.getConversation(n.data.conversationId);e.data&&s(e.data)}return d(),n.data}return null},[e,a,d]),m=(0,n.useCallback)(async e=>{i(!0),c(null);let t=await f.getConversation(e);t.error?c(t.error):t.data&&s(t.data),i(!1)},[]),h=(0,n.useCallback)(()=>{s({id:"",title:"New Conversation",messages:[],createdAt:new Date,updatedAt:new Date})},[]);return(0,n.useEffect)(()=>{e&&d()},[d,e]),{conversations:t,currentConversation:a,loading:l,error:o,sendMessage:u,loadConversation:m,startNewConversation:h,refetchConversations:d}}(e.id),[x,p]=(0,n.useState)(""),[g,N]=(0,n.useState)(!1),v=(0,n.useRef)(null);(0,n.useEffect)(()=>{v.current?.scrollIntoView({behavior:"smooth"})},[a?.messages]);let w=async e=>{if(e.preventDefault(),!x.trim()||g)return;let t=x.trim();p(""),N(!0);try{await u({message:t,conversationId:a?.id})}catch(e){console.error("Failed to send message:",e)}finally{N(!1)}};return(0,s.jsxs)("div",{className:"h-full flex",children:[(0,s.jsxs)("div",{className:"w-80 border-r border-gray-200 flex flex-col",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,s.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,s.jsx)("button",{onClick:t,className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"← Back to Chatbots"})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(i.Bot,{className:"h-5 w-5 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:e.status})]})]})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-3",children:(0,s.jsxs)("button",{onClick:h,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors border border-blue-200",children:[(0,s.jsx)(l.Plus,{className:"h-4 w-4"}),"New Conversation"]})}),(0,s.jsx)("div",{className:"px-3 pb-3 space-y-2",children:r.map(e=>(0,s.jsx)("div",{onClick:()=>m(e.id),className:`p-3 rounded-lg cursor-pointer transition-colors ${a?.id===e.id?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}`,children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsx)(o.MessageSquare,{className:"h-4 w-4 text-gray-400 mt-1 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title||"Untitled Conversation"}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:[e.messages.length," messages"]}),(0,s.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.updatedAt).toLocaleDateString()})]})]})},e.id))})]})]}),(0,s.jsx)("div",{className:"flex-1 flex flex-col",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[0===a.messages.length?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[(0,s.jsx)("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)(o.MessageSquare,{className:"h-6 w-6 text-blue-600"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"New Conversation"}),(0,s.jsxs)("p",{className:"text-gray-500 text-sm",children:["Start chatting with ",e.name,". Type your message below to begin."]})]})}):a.messages.map(e=>(0,s.jsxs)("div",{className:`flex gap-3 ${"user"===e.role?"justify-end":"justify-start"}`,children:["assistant"===e.role&&(0,s.jsx)("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(i.Bot,{className:"h-4 w-4 text-blue-600"})}),(0,s.jsxs)("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${"user"===e.role?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[(0,s.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),(0,s.jsx)("p",{className:`text-xs mt-1 ${"user"===e.role?"text-blue-100":"text-gray-500"}`,children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),"user"===e.role&&(0,s.jsx)("div",{className:"h-8 w-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(y.User,{className:"h-4 w-4 text-gray-600"})})]},e.id)),g&&(0,s.jsxs)("div",{className:"flex gap-3 justify-start",children:[(0,s.jsx)("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(i.Bot,{className:"h-4 w-4 text-blue-600"})}),(0,s.jsx)("div",{className:"bg-gray-100 rounded-lg px-4 py-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(j.Loader2,{className:"h-4 w-4 animate-spin text-gray-500"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"Thinking..."})]})})]}),(0,s.jsx)("div",{ref:v})]}),(0,s.jsxs)("div",{className:"border-t border-gray-200 p-4",children:[d&&(0,s.jsx)("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-800",children:d})}),(0,s.jsxs)("form",{onSubmit:w,className:"flex gap-3",children:[(0,s.jsx)("input",{type:"text",value:x,onChange:e=>p(e.target.value),placeholder:"Type your message...",disabled:g,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),(0,s.jsx)("button",{type:"submit",disabled:!x.trim()||g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,s.jsx)(b.Send,{className:"h-4 w-4"})})]})]})]}):(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center p-8",children:(0,s.jsxs)("div",{className:"text-center max-w-md",children:[(0,s.jsx)("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(i.Bot,{className:"h-8 w-8 text-blue-600"})}),(0,s.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["Welcome to ",e.name]}),(0,s.jsx)("p",{className:"text-gray-500 mb-6",children:e.description||"Start a new conversation or select an existing one to continue chatting."}),(0,s.jsxs)("button",{onClick:h,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(l.Plus,{className:"h-4 w-4"}),"Start New Conversation"]})]})})})]})}var v=e.i(455461),w=e.i(421329),C=e.i(198513),k=e.i(822390),T=e.i(415588);function E({chatbotId:e,onBack:t}){let{trainingData:r,loading:a,error:l,createTrainingData:i,deleteTrainingData:o}=function(){let[e,t]=(0,n.useState)([]),[r,a]=(0,n.useState)(!1),[s,l]=(0,n.useState)(null),i=(0,n.useCallback)(async()=>{a(!0),l(null);let e=await f.getTrainingData();e.error?l(e.error):e.data&&t(e.data),a(!1)},[]),o=(0,n.useCallback)(async(e,r)=>{a(!0),l(null);let s=await f.createTrainingData(e,r);return s.error?(l(s.error),a(!1),null):s.data?(t(e=>[s.data,...e]),a(!1),s.data):(a(!1),null)},[]),c=(0,n.useCallback)(async e=>{a(!0),l(null);let r=await f.deleteTrainingData(e);return r.error?l(r.error):t(t=>t.filter(t=>t.id!==e)),a(!1),!r.error},[]);return(0,n.useEffect)(()=>{i()},[i]),{trainingData:e,loading:r,error:s,createTrainingData:o,deleteTrainingData:c,refetch:i}}(),[c,d]=(0,n.useState)(!1),[m,p]=(0,n.useState)(!1),[g,b]=(0,n.useState)(null),y=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?d(!0):"dragleave"===e.type&&d(!1)},j=async t=>{if(0!==t.length){p(!0),b(null);for(let r=0;r<t.length;r++){let a=t[r];try{let t=await N(a);await i(e,{title:a.name,type:E(a),content:t})}catch(e){b(`Failed to upload ${a.name}: ${e}`);break}}p(!1)}},N=e=>new Promise((t,r)=>{let a=new FileReader;a.onload=e=>t(e.target?.result),a.onerror=()=>r(Error("Failed to read file")),a.readAsText(e)}),E=e=>"text/plain"===e.type?h.TEXT:"application/pdf"===e.type?h.DOCUMENT:"text/csv"===e.type||"application/json"===e.type?h.KNOWLEDGE_BASE:h.TEXT;return(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:t,className:"text-sm text-gray-600 hover:text-gray-900 transition-colors mb-2",children:"← Back to Chatbots"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Training Data"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Upload and manage training data for your chatbot"})]})})}),(0,s.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,s.jsxs)("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${c?"border-blue-400 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:e=>{e.preventDefault(),e.stopPropagation(),d(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&j(e.dataTransfer.files)},children:[(0,s.jsx)("input",{type:"file",multiple:!0,onChange:e=>e.target.files&&j(e.target.files),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".txt,.pdf,.csv,.json",disabled:m}),(0,s.jsx)(v.Upload,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Training Data"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"Drag and drop files here, or click to select files"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Supported formats: TXT, PDF, CSV, JSON (Max 10MB per file)"}),m&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 text-blue-600",children:[(0,s.jsx)("div",{className:"h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),"Uploading..."]})}),g&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-800",children:g})})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:a?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"h-8 w-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):l?(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(C.AlertCircle,{className:"h-5 w-5 text-red-600"}),(0,s.jsx)("p",{className:"text-red-800",children:l})]})})}):0===r.length?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(w.FileText,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No training data"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Upload some files to start training your chatbot"})]})}):(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)("div",{className:"space-y-4",children:r.map(e=>{let t,r=(e=>{switch(e){case x.PENDING:case x.PROCESSING:return T.Clock;case x.COMPLETED:return k.CheckCircle;case x.FAILED:return C.AlertCircle;default:return w.FileText}})(e.status);return(0,s.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,s.jsx)("div",{className:"h-10 w-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(w.FileText,{className:"h-5 w-5 text-gray-600"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),(0,s.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${(e=>{switch(e){case x.PENDING:return"text-yellow-600 bg-yellow-100";case x.PROCESSING:return"text-blue-600 bg-blue-100";case x.COMPLETED:return"text-green-600 bg-green-100";case x.FAILED:return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}})(e.status)}`,children:[(0,s.jsx)(r,{className:"h-3 w-3"}),e.status]})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.filePath?`File: ${e.filePath}`:"Text content"}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,s.jsxs)("span",{children:["Type: ",e.type]}),(0,s.jsxs)("span",{children:["Content: ",e.content?`${e.content.length} chars`:"No content"]}),(0,s.jsxs)("span",{children:["Created: ",new Date(t=e.createdAt).toLocaleDateString()+" "+new Date(t).toLocaleTimeString()]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[e.status===x.PENDING&&(0,s.jsx)("button",{onClick:()=>{console.log("Process training data:",e.id)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Process data",children:(0,s.jsx)(k.CheckCircle,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:()=>o(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:(0,s.jsx)(u.Trash2,{className:"h-4 w-4"})})]})]})},e.id)})})})})]})}var S=e.i(553082),P=e.i(888540);function D({onSubmit:e,onCancel:t,loading:r=!1,error:a}){let[l,o]=(0,n.useState)({name:"",description:"",systemPrompt:"",temperature:.7,maxTokens:1e3}),[c,d]=(0,n.useState)({}),u=async t=>{let r,a,s;t.preventDefault(),r={},l.name.trim()||(r.name="Name is required"),((a=l.temperature??.7)<0||a>2)&&(r.temperature="Temperature must be between 0 and 2"),((s=l.maxTokens??1e3)<1||s>4e3)&&(r.maxTokens="Max tokens must be between 1 and 4000"),d(r),0===Object.keys(r).length&&await e(l)},m=(e,t)=>{o(r=>({...r,[e]:t})),c[e]&&d(t=>({...t,[e]:""}))};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,s.jsx)(i.Bot,{className:"h-4 w-4 text-blue-600"})}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Create New Chatbot"})]}),(0,s.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,s.jsx)(P.X,{className:"h-5 w-5"})})]}),(0,s.jsxs)("form",{onSubmit:u,className:"p-6 space-y-4",children:[a&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:(0,s.jsx)("p",{className:"text-sm text-red-800",children:a})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,s.jsx)("input",{type:"text",id:"name",value:l.name,onChange:e=>m("name",e.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.name?"border-red-300":"border-gray-300"}`,placeholder:"Enter chatbot name",disabled:r}),c.name&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:c.name})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,s.jsx)("textarea",{id:"description",value:l.description,onChange:e=>m("description",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe what this chatbot does",disabled:r})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"systemPrompt",className:"block text-sm font-medium text-gray-700 mb-1",children:"System Prompt"}),(0,s.jsx)("textarea",{id:"systemPrompt",value:l.systemPrompt,onChange:e=>m("systemPrompt",e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter instructions for how the chatbot should behave",disabled:r})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{htmlFor:"temperature",className:"block text-sm font-medium text-gray-700 mb-1",children:["Temperature: ",l.temperature]}),(0,s.jsx)("input",{type:"range",id:"temperature",min:"0",max:"2",step:"0.1",value:l.temperature,onChange:e=>m("temperature",parseFloat(e.target.value)),className:"w-full",disabled:r}),(0,s.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,s.jsx)("span",{children:"More focused"}),(0,s.jsx)("span",{children:"More creative"})]}),c.temperature&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:c.temperature})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"maxTokens",className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Tokens"}),(0,s.jsx)("input",{type:"number",id:"maxTokens",min:"1",max:"4000",value:l.maxTokens,onChange:e=>m("maxTokens",parseInt(e.target.value)),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c.maxTokens?"border-red-300":"border-gray-300"}`,placeholder:"1000",disabled:r}),c.maxTokens&&(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:c.maxTokens})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:r,children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",disabled:r,children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Loader2,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S.Save,{className:"h-4 w-4"}),"Create Chatbot"]})})]})]})]})})}var M=e.i(123959),O=e.i(579448),I=e.i(670662);function A(){let{user:e,loading:t,isAuthenticated:r}=(0,M.useAuth)(),{createChatbot:a,loading:l,error:i}=p(),[o,c]=(0,n.useState)({type:"list"}),[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(null);if(t)return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"h-8 w-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})});if(!r)return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"max-w-md w-full mx-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[(0,s.jsx)("div",{className:"h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(y.User,{className:"h-8 w-8 text-blue-600"})}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Authentication Required"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"You need to be logged in to access the chatbot features."}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(O.default,{href:"/login",className:"w-full inline-flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[(0,s.jsx)(I.LogIn,{className:"h-4 w-4"}),"Login"]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:["Don't have an account?"," ",(0,s.jsx)(O.default,{href:"/register",className:"text-blue-600 hover:text-blue-700",children:"Sign up here"})]})]})]})})});let x=()=>{c({type:"list"})},f=async e=>{u(!0),h(null);try{await a(e),c({type:"list"})}catch(e){h(e instanceof Error?e.message:"Failed to create chatbot")}finally{u(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:["list"===o.type&&(0,s.jsx)(g,{onChatWithBot:e=>{c({type:"chat",chatbot:e})},onManageTraining:e=>{c({type:"training",chatbot:e})},onCreateChatbot:()=>{c({type:"form"})},onEditChatbot:e=>{console.log("Edit chatbot:",e)}}),"chat"===o.type&&(0,s.jsx)(N,{chatbot:o.chatbot,onBack:x}),"training"===o.type&&(0,s.jsx)(E,{chatbotId:o.chatbot.id,onBack:x}),"form"===o.type&&(0,s.jsx)(D,{onSubmit:f,onCancel:()=>{h(null),c({type:"list"})},loading:d,error:m})]})}e.s(["default",()=>A],71035)}]);