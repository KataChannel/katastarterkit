(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,692610,163369,e=>{"use strict";var s=e.i(44990);e.i(403055),e.i(579448),e.i(702470);var i=e.i(775680);e.i(202774),e.i(187588),e.i(404210);var a=e.i(885205);e.i(541428),e.i(774309),e.i(415733),e.i(198513);var l=e.i(996517);e.i(67087),e.i(872883),e.i(126455),e.i(547982),e.i(2188),e.i(553579),e.i(172445),e.i(606443);var r=e.i(746814),c=e.i(785511),n=e.i(208773),t=e.i(900950),d=e.i(696134),o=e.i(600547),h=e.i(165429),m=e.i(183194),p=e.i(172362),x=e.i(169989);let u=n.object({name:n.string().min(3,"Tên sản phẩm phải có ít nhất 3 ký tự"),categoryId:n.string().min(1,"Vui lòng chọn danh mục"),description:n.string().optional(),shortDescription:n.string().optional(),sku:n.string().optional(),barcode:n.string().optional(),price:n.number().min(0,"Giá phải lớn hơn 0"),compareAtPrice:n.number().optional(),costPrice:n.number().optional(),unit:n.enum(["KG","G","BUNDLE","PIECE","BAG","BOX"]),stock:n.number().min(0,"Tồn kho không được âm"),minStock:n.number().min(0).optional(),status:n.enum(["DRAFT","ACTIVE","INACTIVE","OUT_OF_STOCK","DISCONTINUED"]).optional(),imageUrl:n.string().url("URL ảnh không hợp lệ").optional().or(n.literal("")),origin:n.string().optional(),isFeatured:n.boolean().optional(),isNew:n.boolean().optional(),isBestSeller:n.boolean().optional(),isOrganic:n.boolean().optional(),weight:n.number().optional(),dimensions:n.string().optional(),manufacturer:n.string().optional(),metaTitle:n.string().optional(),metaDescription:n.string().optional(),metaKeywords:n.string().optional()}),j=[{value:"KG",label:"Kilogram (kg)"},{value:"G",label:"Gram (g)"},{value:"BUNDLE",label:"Bó"},{value:"PIECE",label:"Củ/Quả"},{value:"BAG",label:"Túi"},{value:"BOX",label:"Hộp"}],g=[{value:"DRAFT",label:"Nháp"},{value:"ACTIVE",label:"Đang bán"},{value:"INACTIVE",label:"Ngừng bán"},{value:"OUT_OF_STOCK",label:"Hết hàng"},{value:"DISCONTINUED",label:"Ngừng kinh doanh"}];function b({product:e,onSubmit:n,onCancel:b,loading:v=!1}){let{categories:N,loading:T}=(0,t.useActiveCategories)(),{register:y,handleSubmit:C,formState:{errors:k},setValue:S,watch:F}=(0,r.useForm)({resolver:(0,c.zodResolver)(u),defaultValues:e?{name:e.name,categoryId:e.category?.id||"",description:e.description||"",shortDescription:e.shortDesc||"",sku:e.sku||"",barcode:e.barcode||"",price:e.price,compareAtPrice:e.originalPrice||void 0,costPrice:e.costPrice||void 0,unit:e.unit,stock:e.stock,minStock:e.minStock||void 0,status:e.status,imageUrl:e.thumbnail||"",origin:e.origin||"",isFeatured:e.isFeatured||!1,isNew:e.isNewArrival||!1,isBestSeller:e.isBestSeller||!1,isOrganic:e.isFeatured||!1,weight:e.weight||void 0,dimensions:e.attributes?.dimensions||"",manufacturer:e.attributes?.manufacturer||"",metaTitle:e.metaTitle||"",metaDescription:e.metaDescription||"",metaKeywords:e.metaKeywords||""}:{price:0,stock:0,unit:"KG",status:"DRAFT",isFeatured:!1,isNew:!1,isBestSeller:!1,isOrganic:!1}}),I=F(),L=async e=>{await n(e)};return(0,s.jsxs)("form",{onSubmit:C(L),className:"space-y-6",children:[(0,s.jsxs)(l.Tabs,{defaultValue:"basic",className:"w-full",children:[(0,s.jsxs)(l.TabsList,{className:"grid w-full grid-cols-4",children:[(0,s.jsx)(l.TabsTrigger,{value:"basic",children:"Thông tin cơ bản"}),(0,s.jsx)(l.TabsTrigger,{value:"pricing",children:"Giá & Kho"}),(0,s.jsx)(l.TabsTrigger,{value:"attributes",children:"Thuộc tính"}),(0,s.jsx)(l.TabsTrigger,{value:"seo",children:"SEO"})]}),(0,s.jsx)(l.TabsContent,{value:"basic",className:"space-y-4",children:(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)(i.CardTitle,{children:"Thông tin cơ bản"})}),(0,s.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"name",children:"Tên sản phẩm *"}),(0,s.jsx)(d.Input,{id:"name",...y("name"),placeholder:"Nhập tên sản phẩm"}),k.name&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:k.name.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"categoryId",children:"Danh mục *"}),(0,s.jsxs)(m.Select,{value:I.categoryId,onValueChange:e=>S("categoryId",e),children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{placeholder:"Chọn danh mục"})}),(0,s.jsx)(m.SelectContent,{children:T?(0,s.jsx)("div",{className:"p-2 text-center",children:"Đang tải..."}):N.map(e=>(0,s.jsx)(m.SelectItem,{value:e.id,children:e.name},e.id))})]}),k.categoryId&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:k.categoryId.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"shortDescription",children:"Mô tả ngắn"}),(0,s.jsx)(o.Textarea,{id:"shortDescription",...y("shortDescription"),placeholder:"Mô tả ngắn về sản phẩm",rows:2})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"description",children:"Mô tả chi tiết"}),(0,s.jsx)(o.Textarea,{id:"description",...y("description"),placeholder:"Mô tả chi tiết về sản phẩm",rows:6})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"imageUrl",children:"URL ảnh sản phẩm"}),(0,s.jsx)(d.Input,{id:"imageUrl",...y("imageUrl"),placeholder:"https://example.com/image.jpg"}),k.imageUrl&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:k.imageUrl.message})]})]})]})}),(0,s.jsx)(l.TabsContent,{value:"pricing",className:"space-y-4",children:(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)(i.CardTitle,{children:"Giá & Kho hàng"})}),(0,s.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"price",children:"Giá bán *"}),(0,s.jsx)(d.Input,{id:"price",type:"number",...y("price",{valueAsNumber:!0}),placeholder:"0"}),k.price&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:k.price.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"compareAtPrice",children:"Giá so sánh"}),(0,s.jsx)(d.Input,{id:"compareAtPrice",type:"number",...y("compareAtPrice",{valueAsNumber:!0}),placeholder:"0"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"costPrice",children:"Giá nhập"}),(0,s.jsx)(d.Input,{id:"costPrice",type:"number",...y("costPrice",{valueAsNumber:!0}),placeholder:"0"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"unit",children:"Đơn vị tính *"}),(0,s.jsxs)(m.Select,{value:I.unit,onValueChange:e=>S("unit",e),children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsx)(m.SelectContent,{children:j.map(e=>(0,s.jsx)(m.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"stock",children:"Tồn kho *"}),(0,s.jsx)(d.Input,{id:"stock",type:"number",...y("stock",{valueAsNumber:!0}),placeholder:"0"}),k.stock&&(0,s.jsx)("p",{className:"text-sm text-red-500",children:k.stock.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"minStock",children:"Tồn kho tối thiểu"}),(0,s.jsx)(d.Input,{id:"minStock",type:"number",...y("minStock",{valueAsNumber:!0}),placeholder:"0"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"sku",children:"SKU"}),(0,s.jsx)(d.Input,{id:"sku",...y("sku"),placeholder:"SKU-001"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"barcode",children:"Barcode"}),(0,s.jsx)(d.Input,{id:"barcode",...y("barcode"),placeholder:"1234567890"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"status",children:"Trạng thái"}),(0,s.jsxs)(m.Select,{value:I.status,onValueChange:e=>S("status",e),children:[(0,s.jsx)(m.SelectTrigger,{children:(0,s.jsx)(m.SelectValue,{})}),(0,s.jsx)(m.SelectContent,{children:g.map(e=>(0,s.jsx)(m.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]})]})}),(0,s.jsx)(l.TabsContent,{value:"attributes",className:"space-y-4",children:(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)(i.CardTitle,{children:"Thuộc tính & Đặc điểm"})}),(0,s.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"origin",children:"Xuất xứ"}),(0,s.jsx)(d.Input,{id:"origin",...y("origin"),placeholder:"Đà Lạt, Lâm Đồng"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"manufacturer",children:"Nhà sản xuất"}),(0,s.jsx)(d.Input,{id:"manufacturer",...y("manufacturer"),placeholder:"Tên nhà sản xuất"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"weight",children:"Trọng lượng (gram)"}),(0,s.jsx)(d.Input,{id:"weight",type:"number",...y("weight",{valueAsNumber:!0}),placeholder:"0"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"dimensions",children:"Kích thước"}),(0,s.jsx)(d.Input,{id:"dimensions",...y("dimensions"),placeholder:"L x W x H"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(h.Label,{children:"Đặc điểm"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.Checkbox,{id:"isFeatured",checked:I.isFeatured,onCheckedChange:e=>S("isFeatured",e)}),(0,s.jsx)(h.Label,{htmlFor:"isFeatured",className:"font-normal cursor-pointer",children:"Sản phẩm nổi bật"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.Checkbox,{id:"isNew",checked:I.isNew,onCheckedChange:e=>S("isNew",e)}),(0,s.jsx)(h.Label,{htmlFor:"isNew",className:"font-normal cursor-pointer",children:"Sản phẩm mới"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.Checkbox,{id:"isBestSeller",checked:I.isBestSeller,onCheckedChange:e=>S("isBestSeller",e)}),(0,s.jsx)(h.Label,{htmlFor:"isBestSeller",className:"font-normal cursor-pointer",children:"Bán chạy nhất"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p.Checkbox,{id:"isOrganic",checked:I.isOrganic,onCheckedChange:e=>S("isOrganic",e)}),(0,s.jsx)(h.Label,{htmlFor:"isOrganic",className:"font-normal cursor-pointer",children:"Hữu cơ (Organic)"})]})]})]})]})]})}),(0,s.jsx)(l.TabsContent,{value:"seo",className:"space-y-4",children:(0,s.jsxs)(i.Card,{children:[(0,s.jsx)(i.CardHeader,{children:(0,s.jsx)(i.CardTitle,{children:"Tối ưu SEO"})}),(0,s.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"metaTitle",children:"Tiêu đề SEO"}),(0,s.jsx)(d.Input,{id:"metaTitle",...y("metaTitle"),placeholder:"Tiêu đề cho công cụ tìm kiếm"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"metaDescription",children:"Mô tả SEO"}),(0,s.jsx)(o.Textarea,{id:"metaDescription",...y("metaDescription"),placeholder:"Mô tả cho công cụ tìm kiếm",rows:3})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(h.Label,{htmlFor:"metaKeywords",children:"Từ khóa SEO"}),(0,s.jsx)(d.Input,{id:"metaKeywords",...y("metaKeywords"),placeholder:"từ khóa 1, từ khóa 2, từ khóa 3"})]})]})]})})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3",children:[b&&(0,s.jsx)(a.Button,{type:"button",variant:"outline",onClick:b,disabled:v,children:"Hủy"}),(0,s.jsxs)(a.Button,{type:"submit",disabled:v,children:[v&&(0,s.jsx)(x.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),e?"Cập nhật":"Tạo mới"]})]})]})}e.s(["ProductForm",()=>b],163369),e.i(429105),e.i(355422),e.s([],692610)}]);