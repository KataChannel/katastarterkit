# ğŸ“Š BÃO CÃO PHÃ‚N TÃCH VÃ€ Cáº¬P NHáº¬T Cáº¤U TRÃšC DANH Má»¤C - RAUSACH

**NgÃ y:** 01/12/2025  
**Domain:** shop.rausachtrangia.com  
**Database:** rausachcore

---

## ğŸ” 1. Tá»”NG QUAN

### Website nguá»“n: https://rausachtrangia.com/

Website cÃ³ **12 danh má»¥c sáº£n pháº©m chÃ­nh:**

| STT | Danh má»¥c | Slug | URL |
|-----|----------|------|-----|
| 1 | CÃC LOáº I Cá»¦ | cac-loai-cu | /san-pham/cac-loai-cu.html |
| 2 | CÃC LOáº I QUáº¢ | cac-loai-qua | /san-pham/cac-loai-qua.html |
| 3 | RAU Láº¤Y BÃ”NG | rau-lay-bong | /san-pham/rau-lay-bong.html |
| 4 | CÃC LOáº I XÃ€ LÃCH | cac-loai-xa-lach | /san-pham/cac-loai-xa-lach.html |
| 5 | RAU GIA Vá»Š - RAU Sá»NG | rau-gia-vi-rau-song | /san-pham/rau-gia-vi-rau-song.html |
| 6 | CÃC LOáº I á»šT | cac-loai-ot | /san-pham/cac-loai-ot.html |
| 7 | CÃC LOáº I RAU Cáº¢I | cac-loai-rau-cai | /san-pham/cac-loai-rau-cai.html |
| 8 | RAU Ä‚N THÃ‚N - LÃ | rau-an-than-la | /san-pham/rau-an-than-la.html |
| 9 | CÃC LOáº I Náº¤M | cac-loai-nam | /san-pham/cac-loai-nam.html |
| 10 | TRÃI CÃ‚Y CÃC LOáº I | trai-cay-cac-loai | /san-pham/trai-cay-cac-loai.html |
| 11 | THá»°C PHáº¨M CHáº¾ BIáº¾N | thuc-pham-che-bien | /san-pham/thuc-pham-che-bien.html |
| 12 | Äáº¶C Sáº¢N - RAU Rá»ªNG | dac-san-rau-rung | /san-pham/dac-san-rau-rung.html |

---

## ğŸ“ 2. TRáº NG THÃI DATABASE SAU Cáº¬P NHáº¬T

### Danh má»¥c:

| Danh má»¥c | Sá»‘ sáº£n pháº©m | Tráº¡ng thÃ¡i |
|----------|-------------|------------|
| CÃC LOáº I Cá»¦ | 80 | âœ… Active |
| CÃC LOáº I QUáº¢ | 72 | âœ… Active |
| RAU Láº¤Y BÃ”NG | 10 | âœ… Active |
| CÃC LOáº I XÃ€ LÃCH | 13 | âœ… Active |
| RAU GIA Vá»Š - RAU Sá»NG | 29 | âœ… Active |
| CÃC LOáº I á»šT | 23 | âœ… Active |
| CÃC LOáº I RAU Cáº¢I | 15 | âœ… Active |
| RAU Ä‚N THÃ‚N - LÃ | 12 | âœ… Active |
| CÃC LOáº I Náº¤M | 23 | âœ… Active |
| TRÃI CÃ‚Y CÃC LOáº I | 125 | âœ… Active |
| THá»°C PHáº¨M CHáº¾ BIáº¾N | 75 | ğŸ†• Created |
| Äáº¶C Sáº¢N - RAU Rá»ªNG | 12 | âœ… Active |
| **Sáº£n Pháº©m (chÆ°a phÃ¢n loáº¡i)** | **284** | âš ï¸ Cáº§n xá»­ lÃ½ |

### Thá»‘ng kÃª tá»•ng:

```
Tá»•ng sáº£n pháº©m:        773
ÄÃ£ phÃ¢n loáº¡i:         489 (63.3%)
ChÆ°a phÃ¢n loáº¡i:       284 (36.7%)
```

---

## ğŸ–¼ï¸ 3. PHÃ‚N TÃCH HÃŒNH áº¢NH

### HÃ¬nh áº£nh Ä‘Ã£ crawl:

```
Tá»•ng sá»‘ hÃ¬nh:         200
Khá»›p vá»›i sáº£n pháº©m:    181 (174 ban Ä‘áº§u + 7 manual mapping)
KhÃ´ng khá»›p:           19
```

### HÃ¬nh áº£nh khÃ´ng khá»›p (cÃ²n láº¡i):

```
- hoa-decor-hoa-an-duoc.jpg (khÃ´ng pháº£i sáº£n pháº©m)
- rau-sach-baby-carrot.jpg
- rau-sach-bap-non-baby.jpg
- rau-sach-bong-atiso.jpg
- rau-sach-la-ca-ri-curry-leaf.jpg
- rau-sach-tia-to.jpg
- rau-sach-xa-lach-cai-beo.jpg
- rau-sach-ot-batri.jpg
- rau-sach-ot-do-da-lat.jpg
- rau-sach-ot-vang-da-lat.jpg
- rau-sach-cai-ngong.jpg
- rau-sach-rau-lang.jpg
- rau-sach-rau-om.jpg
- rau-sach-xa-lach-frisse.jpg
- rau-sach-xa-lach-lo-lo-tim.jpg
- rau-sach-xa-lach-lo-lo-xanh.png
- rau-sach-xa-lach-mo.jpg
- rau-sach-xa-lach-xoong-dalat.jpg
- chuoi-gia-chin.jpg
```

### Thá»‘ng kÃª thumbnail:

```
Sáº£n pháº©m cÃ³ hÃ¬nh:     207 (26.8%)
Sáº£n pháº©m thiáº¿u hÃ¬nh:  566 (73.2%)
```

---

## ğŸ”§ 4. MAPPING HÃŒNH áº¢NH

### Cáº¥u trÃºc URL hÃ¬nh áº£nh:

```
Base URL:    https://storage.rausachtrangia.com
Bucket:      rausach-uploads
Folder:      products/
Full URL:    https://storage.rausachtrangia.com/rausach-uploads/products/{filename}.jpg
```

### Quy táº¯c Ä‘áº·t tÃªn file hÃ¬nh:

1. **TÃªn file** = `slugify(product_name)` + `.jpg`
2. **Slugify**: Chuyá»ƒn tiáº¿ng Viá»‡t cÃ³ dáº¥u â†’ khÃ´ng dáº¥u, lowercase, replace space â†’ `-`

**VÃ­ dá»¥:**
- "RAU Sáº CH - CÃ€ Rá»T ÄÃ€ Láº T" â†’ `rau-sach-ca-rot-da-lat.jpg`
- "KIM CHI Cáº¢I THáº¢O" â†’ `kim-chi-cai-thao.jpg`

### Manual mapping Ä‘áº·c biá»‡t:

| Image Slug | Product Keyword |
|------------|-----------------|
| chuoi-gia-chin | chuá»‘i giÃ  |
| rau-sach-khoai-tay-dalat | khoai tÃ¢y |
| rau-sach-kinh-gioi | kinh giá»›i |
| rau-sach-cu-nghe | nghá»‡ |
| rau-sach-ot-xanh-da-lat | á»›t xanh |
| rau-sach-qua-khe | kháº¿ |
| rau-sach-radish-cu-cai-do | cá»§ cáº£i Ä‘á» |
| rau-sach-hat-sen-hue | háº¡t sen |

---

## ğŸ“‹ 5. Sáº¢N PHáº¨M CHÆ¯A PHÃ‚N LOáº I

CÃ³ **284 sáº£n pháº©m** chÆ°a Ä‘Æ°á»£c phÃ¢n loáº¡i tá»± Ä‘á»™ng do:

1. **TÃªn khÃ´ng rÃµ rÃ ng** - KhÃ´ng chá»©a tá»« khÃ³a danh má»¥c
2. **Sáº£n pháº©m Ä‘áº·c biá»‡t** - Dá»‹ch vá»¥, phÃ­, phá»¥ kiá»‡n
3. **TÃªn tiáº¿ng Anh** - KhÃ´ng match tá»« khÃ³a tiáº¿ng Viá»‡t

### Má»™t sá»‘ vÃ­ dá»¥ cáº§n xá»­ lÃ½ thá»§ cÃ´ng:

```
- PhÃ­ tuyá»ƒn dá»¥ng â†’ KHÃ”NG PHáº¢I Sáº¢N PHáº¨M
- CÃ¡ hÆ°á»ng â†’ Cáº¦N Táº O DANH Má»¤C Má»šI (Háº£i sáº£n?)
- Äáº­u Ä‘á» tÆ°Æ¡i â†’ CÃC LOáº I QUáº¢
- Äáº­u tráº¯ng â†’ CÃC LOáº I QUáº¢
- Hoa Ä‘á»“ng tiá»n â†’ Cáº¦N Táº O DANH Má»¤C Má»šI (Hoa?)
- GiÃ¡ tÆ°Æ¡i â†’ RAU Ä‚N THÃ‚N - LÃ
- TÃ u há»§ ky lÃ¡ tÆ°Æ¡i â†’ THá»°C PHáº¨M CHáº¾ BIáº¾N
- Äá»t bÃ­ â†’ RAU Ä‚N THÃ‚N - LÃ
- NgÃ³ sen â†’ RAU Ä‚N THÃ‚N - LÃ
```

---

## âš¡ 6. SCRIPTS ÄÃƒ Táº O

### Scripts phÃ¢n tÃ­ch vÃ  cáº­p nháº­t:

| Script | Má»¥c Ä‘Ã­ch |
|--------|----------|
| `scripts/analyze-rausach-category-mapping.ts` | PhÃ¢n tÃ­ch so sÃ¡nh cáº¥u trÃºc website vs database |
| `scripts/update-rausach-categories.ts` | Táº¡o danh má»¥c má»›i, phÃ¢n bá»• sáº£n pháº©m, cáº£i thiá»‡n mapping |
| `scripts/upload-crawled-images-to-minio.ts` | Upload hÃ¬nh áº£nh lÃªn MinIO |

### CÃ¡ch cháº¡y:

```bash
cd backend

# PhÃ¢n tÃ­ch cáº¥u trÃºc
bun run scripts/analyze-rausach-category-mapping.ts

# Cáº­p nháº­t danh má»¥c vÃ  phÃ¢n bá»• sáº£n pháº©m
bun run scripts/update-rausach-categories.ts

# Upload hÃ¬nh áº£nh
bun run scripts/upload-crawled-images-to-minio.ts
```

---

## ğŸ“Œ 7. Äá»€ XUáº¤T TIáº¾P THEO

### Cáº§n lÃ m ngay:

1. **Xá»­ lÃ½ 284 sáº£n pháº©m chÆ°a phÃ¢n loáº¡i:**
   - Táº¡o thÃªm danh má»¥c náº¿u cáº§n (Háº£i sáº£n, Hoa, Dá»‹ch vá»¥...)
   - Bá»• sung tá»« khÃ³a vÃ o script
   - Hoáº·c xá»­ lÃ½ thá»§ cÃ´ng qua Admin UI

2. **Crawl thÃªm hÃ¬nh áº£nh:**
   - 566 sáº£n pháº©m chÆ°a cÃ³ hÃ¬nh
   - Crawl tá»« cÃ¡c trang chi tiáº¿t sáº£n pháº©m

3. **Kiá»ƒm tra láº¡i 19 hÃ¬nh khÃ´ng khá»›p:**
   - TÃ¬m sáº£n pháº©m tÆ°Æ¡ng á»©ng trong DB
   - Äiá»u chá»‰nh tÃªn file hoáº·c tÃªn sáº£n pháº©m

### Cáº£i thiá»‡n dÃ i háº¡n:

1. **Frontend Menu:**
   - âœ… Cáº­p nháº­t hiá»ƒn thá»‹ danh má»¥c má»›i
   - âœ… Táº¡o mega menu theo cáº¥u trÃºc

2. **SEO:**
   - ThÃªm meta title/description cho danh má»¥c
   - Tá»‘i Æ°u slug sáº£n pháº©m

3. **Äá»“ng bá»™ hÃ¬nh áº£nh:**
   - Táº¡o cron job Ä‘á»ƒ sync hÃ¬nh tá»« website nguá»“n
   - Xá»­ lÃ½ hÃ¬nh áº£nh responsive/webp

---

## ğŸ“ 8. Cáº¤U HÃŒNH DOMAIN

Theo file `promt/cautrucdomain.txt`:

```
Domain: shop.rausachtrangia.com
API: api.rausachtrangia.com
Storage: storage.rausachtrangia.com

MinIO Bucket: rausach-uploads
Database: rausachcore (port 12003)
Frontend Port: 12000
Backend Port: 12001
```

---

## ğŸ¨ 9. Cáº¬P NHáº¬T FRONTEND MENU (ÄÃƒ HOÃ€N THÃ€NH)

### Components Ä‘Ã£ táº¡o:

#### A. CategoryDropdownMenu.tsx

**ÄÆ°á»ng dáº«n:** `frontend/src/components/layout/CategoryDropdownMenu.tsx`

**TÃ­nh nÄƒng:**
- Mega menu dropdown hiá»ƒn thá»‹ táº¥t cáº£ danh má»¥c
- Há»— trá»£ cáº£ Desktop vÃ  Mobile variants
- Icon tá»± Ä‘á»™ng theo tÃªn danh má»¥c (Leaf, Apple, Carrot...)
- Hiá»ƒn thá»‹ sá»‘ lÆ°á»£ng sáº£n pháº©m má»—i danh má»¥c
- Hover effect vÃ  animation

**CÃ¡ch sá»­ dá»¥ng:**
```tsx
// Desktop variant (trong header)
<CategoryDropdownMenu 
  variant="desktop" 
  showProductCount={true}
/>

// Mobile variant (trong sidebar menu)
<CategoryDropdownMenu 
  variant="mobile" 
  showProductCount={true}
/>

// Simple dropdown variant
<CategorySimpleDropdown />
```

#### B. Trang Danh Má»¥c

**ÄÆ°á»ng dáº«n:** `frontend/src/app/(website)/danh-muc/[slug]/page.tsx`

**URL Pattern:** `/danh-muc/{category-slug}`

**TÃ­nh nÄƒng:**
- âœ… SEO-friendly URL vá»›i slug
- âœ… Breadcrumb navigation
- âœ… Responsive design (mobile first)
- âœ… Category header vá»›i info
- âœ… Sidebar danh má»¥c (desktop)
- âœ… Toolbar: sort, filter, view mode
- âœ… Product grid/list view
- âœ… Pagination
- âœ… Empty state khi khÃ´ng cÃ³ sáº£n pháº©m
- âœ… Error state khi danh má»¥c khÃ´ng tá»“n táº¡i

**VÃ­ dá»¥ URLs:**
- `/danh-muc/cac-loai-cu`
- `/danh-muc/trai-cay-cac-loai`
- `/danh-muc/rau-gia-vi-rau-song`

### TÃ­ch há»£p vÃ o WebsiteHeader:

**File:** `frontend/src/components/layout/website-header.tsx`

**Thay Ä‘á»•i:**
1. Import `CategoryDropdownMenu` component
2. ThÃªm dropdown menu danh má»¥c vÃ o desktop navigation (vá»‹ trÃ­ Ä‘áº§u tiÃªn)
3. ThÃªm danh sÃ¡ch danh má»¥c vÃ o mobile menu sidebar

### Cáº¥u trÃºc file má»›i:

```
frontend/src/
â”œâ”€â”€ app/(website)/
â”‚   â””â”€â”€ danh-muc/
â”‚       â””â”€â”€ [slug]/
â”‚           â””â”€â”€ page.tsx              # ğŸ†• Trang hiá»ƒn thá»‹ SP theo danh má»¥c
â”œâ”€â”€ components/layout/
â”‚   â”œâ”€â”€ CategoryDropdownMenu.tsx      # ğŸ†• Component dropdown menu
â”‚   â””â”€â”€ website-header.tsx            # âœï¸ ÄÃ£ tÃ­ch há»£p CategoryDropdownMenu
â””â”€â”€ graphql/
    â””â”€â”€ category.queries.ts           # GraphQL queries cho danh má»¥c
```

---

*Report generated: 01/12/2025*
*Frontend menu integration completed*
