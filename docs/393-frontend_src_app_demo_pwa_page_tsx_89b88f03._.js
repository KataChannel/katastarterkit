module.exports=[681377,a=>{"use strict";var b=a.i(321248),c=a.i(651332),d=a.i(665055),e=a.i(847761),f=a.i(292899),g=a.i(601470),h=a.i(146621);function i(){let[a,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!1),{isOnline:n}=(0,f.usePWANetworkStatus)(),{isInstalled:o,canInstall:p,installationStatus:q}=(0,f.usePWAInstallation)(),{pendingActions:r,triggerSync:s}=(0,f.usePWASync)(),{showNotification:t,capabilities:u}=(0,g.usePWA)();(0,c.useEffect)(()=>{v()},[]);let v=async()=>{m(!0);try{let a=await h.offlineDataService.getTasks();i(a.sort((a,b)=>new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime()))}catch(a){console.error("Failed to load tasks:",a)}finally{m(!1)}},w=async()=>{if(!j.trim())return;let a={id:`task_${Date.now()}`,title:j.trim(),description:"",priority:"MEDIUM",status:"TODO",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),authorId:"demo-user"};try{await h.offlineDataService.storeTask(a),i(b=>[a,...b]),k(""),u.hasNotificationSupport&&await t("Task Created",{body:`"${a.title}" has been ${n?"created":"saved offline"}`,tag:"task-created"})}catch(a){console.error("Failed to create task:",a)}},x=async b=>{let c=a.find(a=>a.id===b);if(!c)return;let d="COMPLETED"===c.status,e={...c,status:d?"TODO":"COMPLETED",completedAt:d?void 0:new Date().toISOString(),updatedAt:new Date().toISOString()};try{await h.offlineDataService.storeTask(e),i(a=>a.map(a=>a.id===b?e:a))}catch(a){console.error("Failed to toggle task:",a)}},y=async a=>{try{await h.offlineDataService.deleteTaskOffline(a),i(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Failed to delete task:",a)}},z=async()=>{"Notification"in window&&"granted"===await Notification.requestPermission()&&await t("Notifications Enabled",{body:"You will now receive task updates and sync notifications",tag:"permission-granted"})};return(0,b.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"PWA Demo - Task Manager"}),(0,b.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"Experience offline-first functionality with Progressive Web App features"}),(0,b.jsxs)("div",{className:"flex justify-center items-center space-x-4 mb-6",children:[(0,b.jsx)("div",{className:`
            px-3 py-1 rounded-full text-sm font-medium
            ${o?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}
          `,children:"installed"===q?"ðŸ“± Installed":"available"===q?"ðŸ’¾ Can Install":"ðŸŒ Browser Only"}),(0,b.jsxs)("div",{className:`
            px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1
            ${n?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}
          `,children:[(0,b.jsx)("div",{className:`w-2 h-2 rounded-full ${n?"bg-green-500":"bg-yellow-500"}`}),(0,b.jsx)("span",{children:n?"Online":"Offline"})]}),r>0&&(0,b.jsxs)("div",{className:"px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-800",children:[r," Pending"]})]}),(0,b.jsxs)("div",{className:"flex justify-center space-x-4",children:[p&&(0,b.jsx)(d.PWAInstallButton,{variant:"default",size:"medium"}),!u.hasNotificationSupport&&(0,b.jsx)("button",{onClick:z,className:" px-4 py-2 bg-purple-600 text-white rounded-lg font-medium hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-colors duration-200 ",children:"Enable Notifications"}),r>0&&n&&(0,b.jsx)("button",{onClick:s,className:" px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ",children:"Sync Now"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Create New Task"}),(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsx)("input",{type:"text",value:j,onChange:a=>k(a.target.value),onKeyPress:a=>"Enter"===a.key&&w(),placeholder:"Enter task title...",className:" flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "}),(0,b.jsx)("button",{onClick:w,disabled:!j.trim(),className:" px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 ",children:"Add Task"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:n?"Tasks will be saved and synced to the server":"Working offline - tasks will sync when connection is restored"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Tasks"}),(0,b.jsx)(e.CompactOfflineStatus,{})]}),l?(0,b.jsx)("div",{className:"flex justify-center py-8",children:(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tasks yet"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Create your first task to get started!"})]}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>{let c="COMPLETED"===a.status;return(0,b.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,b.jsx)("button",{onClick:()=>x(a.id),className:`
                    w-5 h-5 rounded border-2 flex items-center justify-center
                    ${c?"bg-green-600 border-green-600 text-white":"border-gray-300 hover:border-green-400"}
                    transition-colors duration-200
                  `,children:c&&(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:`
                    font-medium
                    ${c?"text-gray-500 line-through":"text-gray-900"}
                  `,children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:["Created ",new Date(a.createdAt).toLocaleDateString()]})]}),(0,b.jsx)("button",{onClick:()=>y(a.id),className:" p-2 text-red-600 hover:bg-red-50 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors duration-200 ",title:"Delete task",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},a.id)})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"PWA Features"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`
                w-4 h-4 rounded-full
                ${u.isStandalone?"bg-green-500":"bg-gray-300"}
              `}),(0,b.jsxs)("span",{className:"text-sm",children:["Standalone Mode: ",u.isStandalone?"Active":"Browser"]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`
                w-4 h-4 rounded-full
                ${u.hasNotificationSupport?"bg-green-500":"bg-gray-300"}
              `}),(0,b.jsxs)("span",{className:"text-sm",children:["Notifications: ",u.hasNotificationSupport?"Enabled":"Disabled"]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`
                w-4 h-4 rounded-full
                ${u.canInstall?"bg-blue-500":"bg-gray-300"}
              `}),(0,b.jsxs)("span",{className:"text-sm",children:["Installable: ",u.canInstall?"Yes":"No"]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,b.jsx)("span",{className:"text-sm",children:"Offline Support: Active"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,b.jsx)("span",{className:"text-sm",children:"Background Sync: Available"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),(0,b.jsx)("span",{className:"text-sm",children:"Cache Storage: Active"})]})]})]})]})]})}a.s(["default",()=>i],681377)}];

//# sourceMappingURL=frontend_src_app_demo_pwa_page_tsx_89b88f03._.js.map