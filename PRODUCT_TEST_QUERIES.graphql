# Product Queries

# Get all products with pagination
query GetProducts {
  products(input: {
    page: 1
    limit: 10
    sortBy: "createdAt"
    sortOrder: desc
  }) {
    items {
      id
      name
      slug
      price
      originalPrice
      unit
      stock
      status
      isFeatured
      isBestSeller
      isOnSale
      thumbnail
      category {
        id
        name
        slug
      }
      discountPercentage
      profitMargin
    }
    total
    page
    totalPages
    hasMore
  }
}

# Get products with filters
query GetProductsWithFilters {
  products(input: {
    page: 1
    limit: 20
    filters: {
      status: ACTIVE
      isFeatured: true
      inStock: true
      minPrice: 10000
      maxPrice: 50000
    }
  }) {
    items {
      id
      name
      price
      stock
      category {
        name
      }
    }
    total
  }
}

# Get single product by ID
query GetProduct($id: ID!) {
  product(id: $id) {
    id
    name
    slug
    description
    shortDesc
    price
    originalPrice
    costPrice
    sku
    barcode
    stock
    minStock
    maxStock
    unit
    weight
    origin
    status
    thumbnail
    attributes
    metaTitle
    metaDescription
    isFeatured
    isNewArrival
    isBestSeller
    isOnSale
    category {
      id
      name
      slug
    }
    images {
      id
      url
      alt
      isPrimary
      order
    }
    variants {
      id
      name
      sku
      price
      stock
      attributes
      isActive
    }
    discountPercentage
    profitMargin
    createdAt
    updatedAt
  }
}

# Get product by slug
query GetProductBySlug($slug: String!) {
  productBySlug(slug: $slug) {
    id
    name
    description
    price
    stock
    category {
      name
    }
  }
}

# Get products by category
query GetProductsByCategory($categoryId: ID!) {
  productsByCategory(categoryId: $categoryId, input: {
    page: 1
    limit: 20
  }) {
    items {
      id
      name
      price
      stock
    }
    total
  }
}

# Category Queries

# Get all categories
query GetCategories {
  categories(input: {
    page: 1
    limit: 50
    sortBy: "displayOrder"
    sortOrder: asc
  }) {
    items {
      id
      name
      slug
      description
      thumbnail
      isActive
      isFeatured
      displayOrder
      parent {
        id
        name
      }
      productCount
    }
    total
  }
}

# Get category tree
query GetCategoryTree {
  categoryTree {
    id
    name
    slug
    thumbnail
    displayOrder
    productCount
    children {
      id
      name
      slug
      displayOrder
      productCount
      children {
        id
        name
        slug
        displayOrder
        productCount
      }
    }
  }
}

# Get single category
query GetCategory($id: ID!) {
  category(id: $id) {
    id
    name
    slug
    description
    thumbnail
    icon
    metaTitle
    metaDescription
    isActive
    isFeatured
    displayOrder
    parent {
      id
      name
    }
    children {
      id
      name
      slug
    }
    productCount
    createdAt
    updatedAt
  }
}

# Get category by slug
query GetCategoryBySlug($slug: String!) {
  categoryBySlug(slug: $slug) {
    id
    name
    description
    productCount
    children {
      id
      name
      productCount
    }
  }
}

# Product Mutations

# Create product (requires authentication)
mutation CreateProduct($input: CreateProductInput!) {
  createProduct(input: $input) {
    id
    name
    slug
    price
    status
  }
}

# Example variables for createProduct:
# {
#   "input": {
#     "name": "Cà chua bi",
#     "slug": "ca-chua-bi",
#     "description": "Cà chua bi tươi ngon",
#     "price": 45000,
#     "categoryId": "...",
#     "unit": "KG",
#     "stock": 50,
#     "status": "ACTIVE"
#   }
# }

# Update product
mutation UpdateProduct($input: UpdateProductInput!) {
  updateProduct(input: $input) {
    id
    name
    price
    stock
  }
}

# Delete product
mutation DeleteProduct($id: ID!) {
  deleteProduct(id: $id) {
    id
    name
  }
}

# Add product image
mutation AddProductImage($input: CreateProductImageInput!) {
  addProductImage(input: $input) {
    id
    images {
      id
      url
      isPrimary
    }
  }
}

# Add product variant
mutation AddProductVariant($input: CreateProductVariantInput!) {
  addProductVariant(input: $input) {
    id
    variants {
      id
      name
      price
      stock
    }
  }
}

# Update stock
mutation UpdateProductStock($id: ID!, $quantity: Float!) {
  updateProductStock(id: $id, quantity: $quantity) {
    id
    stock
  }
}

# Category Mutations

# Create category
mutation CreateCategory($input: CreateCategoryInput!) {
  createCategory(input: $input) {
    id
    name
    slug
  }
}

# Example variables:
# {
#   "input": {
#     "name": "Rau quả nhập khẩu",
#     "slug": "rau-qua-nhap-khau",
#     "description": "Rau quả nhập khẩu cao cấp",
#     "isActive": true,
#     "displayOrder": 5
#   }
# }

# Update category
mutation UpdateCategory($input: UpdateCategoryInput!) {
  updateCategory(input: $input) {
    id
    name
    slug
  }
}

# Delete category
mutation DeleteCategory($id: ID!, $deleteProducts: Boolean) {
  deleteCategory(id: $id, deleteProducts: $deleteProducts) {
    id
    name
  }
}
